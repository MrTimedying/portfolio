const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-3eJluehb.js","assets/vendor-BtP0CW_r.js","assets/charts-C8eqiMuh.js","assets/ui-c1iJaJ-1.js"])))=>i.map(i=>d[i]);
import{r as Vp,a as Dp}from"./vendor-BtP0CW_r.js";import{r as x,R as Rp,a as rl,C as Nn,b as bd,L as wd,B as zp,p as Sd,c as Td,d as Pd,e as Cd,f as Lp,P as Ip,i as Op,g as jd,h as Ad}from"./charts-C8eqiMuh.js";import{S as Fp,M as Bp,C as Nd,X as kd,P as Up,a as _d,F as wr,b as Wp,D as $d,c as ti,B as Md,d as Hp,e as et,f as Gp,I as Ca,g as Ed,h as Vd,i as ja,j as Aa,L as Dd,k as Rd,A as zd,T as Sr,l as Kp,m as Zp,n as Li,o as qp,p as Xp,q as Yp,r as Jp,E as Qp,s as eg,t as tg,u as al,v as ng,w as sg,x as ol,y as ig,z as rg}from"./ui-c1iJaJ-1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var Ii={exports:{}},Ln={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll;function ag(){if(ll)return Ln;ll=1;var e=Vp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,m=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)s.call(l,u)&&!r.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:t,type:o,key:h,ref:m,props:f,_owner:i.current}}return Ln.Fragment=n,Ln.jsx=a,Ln.jsxs=a,Ln}var cl;function og(){return cl||(cl=1,Ii.exports=ag()),Ii.exports}var d=og(),Vs={},ul;function lg(){if(ul)return Vs;ul=1;var e=Dp();return Vs.createRoot=e.createRoot,Vs.hydrateRoot=e.hydrateRoot,Vs}var cg=lg();const wi=x.createContext(null);wi.displayName="PanelGroupContext";const he={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Na=10,Wt=x.useLayoutEffect,dl=Rp.useId,ug=typeof dl=="function"?dl:()=>null;let dg=0;function ka(e=null){const t=ug(),n=x.useRef(e||t||null);return n.current===null&&(n.current=""+dg++),e??n.current}function Ld({children:e,className:t="",collapsedSize:n,collapsible:s,defaultSize:i,forwardedRef:r,id:a,maxSize:o,minSize:l,onCollapse:c,onExpand:u,onResize:f,order:h,style:m,tagName:g="div",...y}){const v=x.useContext(wi);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:p,expandPanel:w,getPanelSize:b,getPanelStyle:P,groupId:S,isPanelCollapsed:T,reevaluatePanelConstraints:C,registerPanel:j,resizePanel:k,unregisterPanel:$}=v,z=ka(a),q=x.useRef({callbacks:{onCollapse:c,onExpand:u,onResize:f},constraints:{collapsedSize:n,collapsible:s,defaultSize:i,maxSize:o,minSize:l},id:z,idIsFromProps:a!==void 0,order:h});x.useRef({didLogMissingDefaultSizeWarning:!1}),Wt(()=>{const{callbacks:M,constraints:ee}=q.current,be={...ee};q.current.id=z,q.current.idIsFromProps=a!==void 0,q.current.order=h,M.onCollapse=c,M.onExpand=u,M.onResize=f,ee.collapsedSize=n,ee.collapsible=s,ee.defaultSize=i,ee.maxSize=o,ee.minSize=l,(be.collapsedSize!==ee.collapsedSize||be.collapsible!==ee.collapsible||be.maxSize!==ee.maxSize||be.minSize!==ee.minSize)&&C(q.current,be)}),Wt(()=>{const M=q.current;return j(M),()=>{$(M)}},[h,z,j,$]),x.useImperativeHandle(r,()=>({collapse:()=>{p(q.current)},expand:M=>{w(q.current,M)},getId(){return z},getSize(){return b(q.current)},isCollapsed(){return T(q.current)},isExpanded(){return!T(q.current)},resize:M=>{k(q.current,M)}}),[p,w,b,T,z,k]);const ve=P(q.current,i);return x.createElement(g,{...y,children:e,className:t,id:z,style:{...ve,...m},[he.groupId]:S,[he.panel]:"",[he.panelCollapsible]:s||void 0,[he.panelId]:z,[he.panelSize]:parseFloat(""+ve.flexGrow).toFixed(1)})}const Id=x.forwardRef((e,t)=>x.createElement(Ld,{...e,forwardedRef:t}));Ld.displayName="Panel";Id.displayName="forwardRef(Panel)";let Tr=null,Hs=-1,wt=null;function fg(e,t){if(t){const n=(t&Wd)!==0,s=(t&Hd)!==0,i=(t&Gd)!==0,r=(t&Kd)!==0;if(n)return i?"se-resize":r?"ne-resize":"e-resize";if(s)return i?"sw-resize":r?"nw-resize":"w-resize";if(i)return"s-resize";if(r)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function hg(){wt!==null&&(document.head.removeChild(wt),Tr=null,wt=null,Hs=-1)}function Oi(e,t){var n,s;const i=fg(e,t);if(Tr!==i){if(Tr=i,wt===null&&(wt=document.createElement("style"),document.head.appendChild(wt)),Hs>=0){var r;(r=wt.sheet)===null||r===void 0||r.removeRule(Hs)}Hs=(n=(s=wt.sheet)===null||s===void 0?void 0:s.insertRule(`*{cursor: ${i} !important;}`))!==null&&n!==void 0?n:-1}}function Od(e){return e.type==="keydown"}function Fd(e){return e.type.startsWith("pointer")}function Bd(e){return e.type.startsWith("mouse")}function Si(e){if(Fd(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Bd(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function mg(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function pg(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function gg(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:ml(e),b:ml(t)};let s;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),s=e;X(s,"Stacking order can only be calculated for elements with a common ancestor");const i={a:hl(fl(n.a)),b:hl(fl(n.b))};if(i.a===i.b){const r=s.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let o=r.length;for(;o--;){const l=r[o];if(l===a.a)return 1;if(l===a.b)return-1}}return Math.sign(i.a-i.b)}const yg=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function xg(e){var t;const n=getComputedStyle((t=Ud(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function vg(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||xg(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||yg.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function fl(e){let t=e.length;for(;t--;){const n=e[t];if(X(n,"Missing node"),vg(n))return n}return null}function hl(e){return e&&Number(getComputedStyle(e).zIndex)||0}function ml(e){const t=[];for(;e;)t.push(e),e=Ud(e);return t}function Ud(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Wd=1,Hd=2,Gd=4,Kd=8,bg=mg()==="coarse";let Je=[],gn=!1,It=new Map,Ti=new Map;const ns=new Set;function wg(e,t,n,s,i){var r;const{ownerDocument:a}=t,o={direction:n,element:t,hitAreaMargins:s,setResizeHandlerState:i},l=(r=It.get(a))!==null&&r!==void 0?r:0;return It.set(a,l+1),ns.add(o),ni(),function(){var u;Ti.delete(e),ns.delete(o);const f=(u=It.get(a))!==null&&u!==void 0?u:1;if(It.set(a,f-1),ni(),f===1&&It.delete(a),Je.includes(o)){const h=Je.indexOf(o);h>=0&&Je.splice(h,1),$a(),i("up",!0,null)}}}function Sg(e){const{target:t}=e,{x:n,y:s}=Si(e);gn=!0,_a({target:t,x:n,y:s}),ni(),Je.length>0&&(si("down",e),e.preventDefault(),Zd(t)||e.stopImmediatePropagation())}function Fi(e){const{x:t,y:n}=Si(e);if(gn&&e.buttons===0&&(gn=!1,si("up",e)),!gn){const{target:s}=e;_a({target:s,x:t,y:n})}si("move",e),$a(),Je.length>0&&e.preventDefault()}function Bi(e){const{target:t}=e,{x:n,y:s}=Si(e);Ti.clear(),gn=!1,Je.length>0&&(e.preventDefault(),Zd(t)||e.stopImmediatePropagation()),si("up",e),_a({target:t,x:n,y:s}),$a(),ni()}function Zd(e){let t=e;for(;t;){if(t.hasAttribute(he.resizeHandle))return!0;t=t.parentElement}return!1}function _a({target:e,x:t,y:n}){Je.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),ns.forEach(i=>{const{element:r,hitAreaMargins:a}=i,o=r.getBoundingClientRect(),{bottom:l,left:c,right:u,top:f}=o,h=bg?a.coarse:a.fine;if(t>=c-h&&t<=u+h&&n>=f-h&&n<=l+h){if(s!==null&&document.contains(s)&&r!==s&&!r.contains(s)&&!s.contains(r)&&gg(s,r)>0){let g=s,y=!1;for(;g&&!g.contains(r);){if(pg(g.getBoundingClientRect(),o)){y=!0;break}g=g.parentElement}if(y)return}Je.push(i)}})}function Ui(e,t){Ti.set(e,t)}function $a(){let e=!1,t=!1;Je.forEach(s=>{const{direction:i}=s;i==="horizontal"?e=!0:t=!0});let n=0;Ti.forEach(s=>{n|=s}),e&&t?Oi("intersection",n):e?Oi("horizontal",n):t?Oi("vertical",n):hg()}let Wi=new AbortController;function ni(){Wi.abort(),Wi=new AbortController;const e={capture:!0,signal:Wi.signal};ns.size&&(gn?(Je.length>0&&It.forEach((t,n)=>{const{body:s}=n;t>0&&(s.addEventListener("contextmenu",Bi,e),s.addEventListener("pointerleave",Fi,e),s.addEventListener("pointermove",Fi,e))}),window.addEventListener("pointerup",Bi,e),window.addEventListener("pointercancel",Bi,e)):It.forEach((t,n)=>{const{body:s}=n;t>0&&(s.addEventListener("pointerdown",Sg,e),s.addEventListener("pointermove",Fi,e))}))}function si(e,t){ns.forEach(n=>{const{setResizeHandlerState:s}=n,i=Je.includes(n);s(e,i,t)})}function Tg(){const[e,t]=x.useState(0);return x.useCallback(()=>t(n=>n+1),[])}function X(e,t){if(!e)throw console.error(t),Error(t)}function qt(e,t,n=Na){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function dt(e,t,n=Na){return qt(e,t,n)===0}function De(e,t,n){return qt(e,t,n)===0}function Pg(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){const i=e[s],r=t[s];if(!De(i,r,n))return!1}return!0}function rn({panelConstraints:e,panelIndex:t,size:n}){const s=e[t];X(s!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:r,maxSize:a=100,minSize:o=0}=s;if(qt(n,o)<0)if(r){const l=(i+o)/2;qt(n,l)<0?n=i:n=o}else n=o;return n=Math.min(a,n),n=parseFloat(n.toFixed(Na)),n}function Fn({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:s,prevLayout:i,trigger:r}){if(De(e,0))return t;const a=[...t],[o,l]=s;X(o!=null,"Invalid first pivot index"),X(l!=null,"Invalid second pivot index");let c=0;if(r==="keyboard"){{const f=e<0?l:o,h=n[f];X(h,`Panel constraints not found for index ${f}`);const{collapsedSize:m=0,collapsible:g,minSize:y=0}=h;if(g){const v=t[f];if(X(v!=null,`Previous layout not found for panel index ${f}`),De(v,m)){const p=y-v;qt(p,Math.abs(e))>0&&(e=e<0?0-p:p)}}}{const f=e<0?o:l,h=n[f];X(h,`No panel constraints found for index ${f}`);const{collapsedSize:m=0,collapsible:g,minSize:y=0}=h;if(g){const v=t[f];if(X(v!=null,`Previous layout not found for panel index ${f}`),De(v,y)){const p=v-m;qt(p,Math.abs(e))>0&&(e=e<0?0-p:p)}}}}{const f=e<0?1:-1;let h=e<0?l:o,m=0;for(;;){const y=t[h];X(y!=null,`Previous layout not found for panel index ${h}`);const p=rn({panelConstraints:n,panelIndex:h,size:100})-y;if(m+=p,h+=f,h<0||h>=n.length)break}const g=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-g:g}{let h=e<0?o:l;for(;h>=0&&h<n.length;){const m=Math.abs(e)-Math.abs(c),g=t[h];X(g!=null,`Previous layout not found for panel index ${h}`);const y=g-m,v=rn({panelConstraints:n,panelIndex:h,size:y});if(!De(g,v)&&(c+=g-v,a[h]=v,c.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?h--:h++}}if(Pg(i,a))return i;{const f=e<0?l:o,h=t[f];X(h!=null,`Previous layout not found for panel index ${f}`);const m=h+c,g=rn({panelConstraints:n,panelIndex:f,size:m});if(a[f]=g,!De(g,m)){let y=m-g,p=e<0?l:o;for(;p>=0&&p<n.length;){const w=a[p];X(w!=null,`Previous layout not found for panel index ${p}`);const b=w+y,P=rn({panelConstraints:n,panelIndex:p,size:b});if(De(w,P)||(y-=P-w,a[p]=P),De(y,0))break;e>0?p--:p++}}}const u=a.reduce((f,h)=>h+f,0);return De(u,100)?a:i}function Cg({layout:e,panelsArray:t,pivotIndices:n}){let s=0,i=100,r=0,a=0;const o=n[0];X(o!=null,"No pivot index found"),t.forEach((f,h)=>{const{constraints:m}=f,{maxSize:g=100,minSize:y=0}=m;h===o?(s=y,i=g):(r+=y,a+=g)});const l=Math.min(i,100-r),c=Math.max(s,100-a),u=e[o];return{valueMax:l,valueMin:c,valueNow:u}}function ss(e,t=document){return Array.from(t.querySelectorAll(`[${he.resizeHandleId}][data-panel-group-id="${e}"]`))}function qd(e,t,n=document){const i=ss(e,n).findIndex(r=>r.getAttribute(he.resizeHandleId)===t);return i??null}function Xd(e,t,n){const s=qd(e,t,n);return s!=null?[s,s+1]:[-1,-1]}function Yd(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const s=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return s||null}function Pi(e,t=document){const n=t.querySelector(`[${he.resizeHandleId}="${e}"]`);return n||null}function jg(e,t,n,s=document){var i,r,a,o;const l=Pi(t,s),c=ss(e,s),u=l?c.indexOf(l):-1,f=(i=(r=n[u])===null||r===void 0?void 0:r.id)!==null&&i!==void 0?i:null,h=(a=(o=n[u+1])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null;return[f,h]}function Ag({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:s,panelDataArray:i,panelGroupElement:r,setLayout:a}){x.useRef({didWarnAboutMissingResizeHandle:!1}),Wt(()=>{if(!r)return;const o=ss(n,r);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:u,valueNow:f}=Cg({layout:s,panelsArray:i,pivotIndices:[l,l+1]}),h=o[l];if(h!=null){const m=i[l];X(m,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",""+Math.round(c)),h.setAttribute("aria-valuemin",""+Math.round(u)),h.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{o.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,s,i,r]),x.useEffect(()=>{if(!r)return;const o=t.current;X(o,"Eager values not found");const{panelDataArray:l}=o,c=Yd(n,r);X(c!=null,`No group found for id "${n}"`);const u=ss(n,r);X(u,`No resize handles found for group id "${n}"`);const f=u.map(h=>{const m=h.getAttribute(he.resizeHandleId);X(m,"Resize handle element has no handle id attribute");const[g,y]=jg(n,m,l,r);if(g==null||y==null)return()=>{};const v=p=>{if(!p.defaultPrevented)switch(p.key){case"Enter":{p.preventDefault();const w=l.findIndex(b=>b.id===g);if(w>=0){const b=l[w];X(b,`No panel data found for index ${w}`);const P=s[w],{collapsedSize:S=0,collapsible:T,minSize:C=0}=b.constraints;if(P!=null&&T){const j=Fn({delta:De(P,S)?C-S:S-P,initialLayout:s,panelConstraints:l.map(k=>k.constraints),pivotIndices:Xd(n,m,r),prevLayout:s,trigger:"keyboard"});s!==j&&a(j)}}break}}};return h.addEventListener("keydown",v),()=>{h.removeEventListener("keydown",v)}});return()=>{f.forEach(h=>h())}},[r,e,t,n,s,i,a])}function pl(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Jd(e,t){const n=e==="horizontal",{x:s,y:i}=Si(t);return n?s:i}function Ng(e,t,n,s,i){const r=n==="horizontal",a=Pi(t,i);X(a,`No resize handle element found for id "${t}"`);const o=a.getAttribute(he.groupId);X(o,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=s;const c=Jd(n,e),u=Yd(o,i);X(u,`No group element found for id "${o}"`);const f=u.getBoundingClientRect(),h=r?f.width:f.height;return(c-l)/h*100}function kg(e,t,n,s,i,r){if(Od(e)){const a=n==="horizontal";let o=0;e.shiftKey?o=100:i!=null?o=i:o=10;let l=0;switch(e.key){case"ArrowDown":l=a?0:o;break;case"ArrowLeft":l=a?-o:0;break;case"ArrowRight":l=a?o:0;break;case"ArrowUp":l=a?0:-o;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return s==null?0:Ng(e,t,n,s,r)}function _g({panelDataArray:e}){const t=Array(e.length),n=e.map(r=>r.constraints);let s=0,i=100;for(let r=0;r<e.length;r++){const a=n[r];X(a,`Panel constraints not found for index ${r}`);const{defaultSize:o}=a;o!=null&&(s++,t[r]=o,i-=o)}for(let r=0;r<e.length;r++){const a=n[r];X(a,`Panel constraints not found for index ${r}`);const{defaultSize:o}=a;if(o!=null)continue;const l=e.length-s,c=i/l;s++,t[r]=c,i-=c}return t}function tn(e,t,n){t.forEach((s,i)=>{const r=e[i];X(r,`Panel data not found for index ${i}`);const{callbacks:a,constraints:o,id:l}=r,{collapsedSize:c=0,collapsible:u}=o,f=n[l];if(f==null||s!==f){n[l]=s;const{onCollapse:h,onExpand:m,onResize:g}=a;g&&g(s,f),u&&(h||m)&&(m&&(f==null||dt(f,c))&&!dt(s,c)&&m(),h&&(f==null||!dt(f,c))&&dt(s,c)&&h())}})}function Ds(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function $g({defaultSize:e,dragState:t,layout:n,panelData:s,panelIndex:i,precision:r=3}){const a=n[i];let o;return a==null?o=e!=null?e.toPrecision(r):"1":s.length===1?o="1":o=a.toPrecision(r),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Mg(e,t=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}function gl(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Qd(e){return`react-resizable-panels:${e}`}function ef(e){return e.map(t=>{const{constraints:n,id:s,idIsFromProps:i,order:r}=t;return i?s:r?`${r}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function tf(e,t){try{const n=Qd(e),s=t.getItem(n);if(s){const i=JSON.parse(s);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Eg(e,t,n){var s,i;const r=(s=tf(e,n))!==null&&s!==void 0?s:{},a=ef(t);return(i=r[a])!==null&&i!==void 0?i:null}function Vg(e,t,n,s,i){var r;const a=Qd(e),o=ef(t),l=(r=tf(e,i))!==null&&r!==void 0?r:{};l[o]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{i.setItem(a,JSON.stringify(l))}catch(c){console.error(c)}}function yl({layout:e,panelConstraints:t}){const n=[...e],s=n.reduce((r,a)=>r+a,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(r=>`${r}%`).join(", ")}`);if(!De(s,100)&&n.length>0)for(let r=0;r<t.length;r++){const a=n[r];X(a!=null,`No layout data found for index ${r}`);const o=100/s*a;n[r]=o}let i=0;for(let r=0;r<t.length;r++){const a=n[r];X(a!=null,`No layout data found for index ${r}`);const o=rn({panelConstraints:t,panelIndex:r,size:a});a!=o&&(i+=a-o,n[r]=o)}if(!De(i,0))for(let r=0;r<t.length;r++){const a=n[r];X(a!=null,`No layout data found for index ${r}`);const o=a+i,l=rn({panelConstraints:t,panelIndex:r,size:o});if(a!==l&&(i-=l-a,n[r]=l,De(i,0)))break}return n}const Dg=100,Bn={getItem:e=>(gl(Bn),Bn.getItem(e)),setItem:(e,t)=>{gl(Bn),Bn.setItem(e,t)}},xl={};function nf({autoSaveId:e=null,children:t,className:n="",direction:s,forwardedRef:i,id:r=null,onLayout:a=null,keyboardResizeBy:o=null,storage:l=Bn,style:c,tagName:u="div",...f}){const h=ka(r),m=x.useRef(null),[g,y]=x.useState(null),[v,p]=x.useState([]),w=Tg(),b=x.useRef({}),P=x.useRef(new Map),S=x.useRef(0),T=x.useRef({autoSaveId:e,direction:s,dragState:g,id:h,keyboardResizeBy:o,onLayout:a,storage:l}),C=x.useRef({layout:v,panelDataArray:[],panelDataArrayChanged:!1});x.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),x.useImperativeHandle(i,()=>({getId:()=>T.current.id,getLayout:()=>{const{layout:D}=C.current;return D},setLayout:D=>{const{onLayout:W}=T.current,{layout:Z,panelDataArray:F}=C.current,L=yl({layout:D,panelConstraints:F.map(K=>K.constraints)});pl(Z,L)||(p(L),C.current.layout=L,W&&W(L),tn(F,L,b.current))}}),[]),Wt(()=>{T.current.autoSaveId=e,T.current.direction=s,T.current.dragState=g,T.current.id=h,T.current.onLayout=a,T.current.storage=l}),Ag({committedValuesRef:T,eagerValuesRef:C,groupId:h,layout:v,panelDataArray:C.current.panelDataArray,setLayout:p,panelGroupElement:m.current}),x.useEffect(()=>{const{panelDataArray:D}=C.current;if(e){if(v.length===0||v.length!==D.length)return;let W=xl[e];W==null&&(W=Mg(Vg,Dg),xl[e]=W);const Z=[...D],F=new Map(P.current);W(e,Z,F,v,l)}},[e,v,l]),x.useEffect(()=>{});const j=x.useCallback(D=>{const{onLayout:W}=T.current,{layout:Z,panelDataArray:F}=C.current;if(D.constraints.collapsible){const L=F.map(O=>O.constraints),{collapsedSize:K=0,panelSize:A,pivotIndices:E}=Et(F,D,Z);if(X(A!=null,`Panel size not found for panel "${D.id}"`),!dt(A,K)){P.current.set(D.id,A);const re=nn(F,D)===F.length-1?A-K:K-A,I=Fn({delta:re,initialLayout:Z,panelConstraints:L,pivotIndices:E,prevLayout:Z,trigger:"imperative-api"});Ds(Z,I)||(p(I),C.current.layout=I,W&&W(I),tn(F,I,b.current))}}},[]),k=x.useCallback((D,W)=>{const{onLayout:Z}=T.current,{layout:F,panelDataArray:L}=C.current;if(D.constraints.collapsible){const K=L.map(se=>se.constraints),{collapsedSize:A=0,panelSize:E=0,minSize:O=0,pivotIndices:re}=Et(L,D,F),I=W??O;if(dt(E,A)){const se=P.current.get(D.id),ct=se!=null&&se>=I?se:I,en=nn(L,D)===L.length-1?E-ct:ct-E,Ce=Fn({delta:en,initialLayout:F,panelConstraints:K,pivotIndices:re,prevLayout:F,trigger:"imperative-api"});Ds(F,Ce)||(p(Ce),C.current.layout=Ce,Z&&Z(Ce),tn(L,Ce,b.current))}}},[]),$=x.useCallback(D=>{const{layout:W,panelDataArray:Z}=C.current,{panelSize:F}=Et(Z,D,W);return X(F!=null,`Panel size not found for panel "${D.id}"`),F},[]),z=x.useCallback((D,W)=>{const{panelDataArray:Z}=C.current,F=nn(Z,D);return $g({defaultSize:W,dragState:g,layout:v,panelData:Z,panelIndex:F})},[g,v]),q=x.useCallback(D=>{const{layout:W,panelDataArray:Z}=C.current,{collapsedSize:F=0,collapsible:L,panelSize:K}=Et(Z,D,W);return X(K!=null,`Panel size not found for panel "${D.id}"`),L===!0&&dt(K,F)},[]),ve=x.useCallback(D=>{const{layout:W,panelDataArray:Z}=C.current,{collapsedSize:F=0,collapsible:L,panelSize:K}=Et(Z,D,W);return X(K!=null,`Panel size not found for panel "${D.id}"`),!L||qt(K,F)>0},[]),M=x.useCallback(D=>{const{panelDataArray:W}=C.current;W.push(D),W.sort((Z,F)=>{const L=Z.order,K=F.order;return L==null&&K==null?0:L==null?-1:K==null?1:L-K}),C.current.panelDataArrayChanged=!0,w()},[w]);Wt(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:D,onLayout:W,storage:Z}=T.current,{layout:F,panelDataArray:L}=C.current;let K=null;if(D){const E=Eg(D,L,Z);E&&(P.current=new Map(Object.entries(E.expandToSizes)),K=E.layout)}K==null&&(K=_g({panelDataArray:L}));const A=yl({layout:K,panelConstraints:L.map(E=>E.constraints)});pl(F,A)||(p(A),C.current.layout=A,W&&W(A),tn(L,A,b.current))}}),Wt(()=>{const D=C.current;return()=>{D.layout=[]}},[]);const ee=x.useCallback(D=>{let W=!1;const Z=m.current;return Z&&window.getComputedStyle(Z,null).getPropertyValue("direction")==="rtl"&&(W=!0),function(L){L.preventDefault();const K=m.current;if(!K)return()=>null;const{direction:A,dragState:E,id:O,keyboardResizeBy:re,onLayout:I}=T.current,{layout:se,panelDataArray:ct}=C.current,{initialLayout:Qt}=E??{},en=Xd(O,D,K);let Ce=kg(L,D,A,E,re,K);const Es=A==="horizontal";Es&&W&&(Ce=-Ce);const Mp=ct.map(Ep=>Ep.constraints),zn=Fn({delta:Ce,initialLayout:Qt??se,panelConstraints:Mp,pivotIndices:en,prevLayout:se,trigger:Od(L)?"keyboard":"mouse-or-touch"}),il=!Ds(se,zn);(Fd(L)||Bd(L))&&S.current!=Ce&&(S.current=Ce,!il&&Ce!==0?Es?Ui(D,Ce<0?Wd:Hd):Ui(D,Ce<0?Gd:Kd):Ui(D,0)),il&&(p(zn),C.current.layout=zn,I&&I(zn),tn(ct,zn,b.current))}},[]),be=x.useCallback((D,W)=>{const{onLayout:Z}=T.current,{layout:F,panelDataArray:L}=C.current,K=L.map(se=>se.constraints),{panelSize:A,pivotIndices:E}=Et(L,D,F);X(A!=null,`Panel size not found for panel "${D.id}"`);const re=nn(L,D)===L.length-1?A-W:W-A,I=Fn({delta:re,initialLayout:F,panelConstraints:K,pivotIndices:E,prevLayout:F,trigger:"imperative-api"});Ds(F,I)||(p(I),C.current.layout=I,Z&&Z(I),tn(L,I,b.current))},[]),Y=x.useCallback((D,W)=>{const{layout:Z,panelDataArray:F}=C.current,{collapsedSize:L=0,collapsible:K}=W,{collapsedSize:A=0,collapsible:E,maxSize:O=100,minSize:re=0}=D.constraints,{panelSize:I}=Et(F,D,Z);I!=null&&(K&&E&&dt(I,L)?dt(L,A)||be(D,A):I<re?be(D,re):I>O&&be(D,O))},[be]),ie=x.useCallback((D,W)=>{const{direction:Z}=T.current,{layout:F}=C.current;if(!m.current)return;const L=Pi(D,m.current);X(L,`Drag handle element not found for id "${D}"`);const K=Jd(Z,W);y({dragHandleId:D,dragHandleRect:L.getBoundingClientRect(),initialCursorPosition:K,initialLayout:F})},[]),Ne=x.useCallback(()=>{y(null)},[]),Me=x.useCallback(D=>{const{panelDataArray:W}=C.current,Z=nn(W,D);Z>=0&&(W.splice(Z,1),delete b.current[D.id],C.current.panelDataArrayChanged=!0,w())},[w]),yt=x.useMemo(()=>({collapsePanel:j,direction:s,dragState:g,expandPanel:k,getPanelSize:$,getPanelStyle:z,groupId:h,isPanelCollapsed:q,isPanelExpanded:ve,reevaluatePanelConstraints:Y,registerPanel:M,registerResizeHandle:ee,resizePanel:be,startDragging:ie,stopDragging:Ne,unregisterPanel:Me,panelGroupElement:m.current}),[j,g,s,k,$,z,h,q,ve,Y,M,ee,be,ie,Ne,Me]),Mt={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return x.createElement(wi.Provider,{value:yt},x.createElement(u,{...f,children:t,className:n,id:r,ref:m,style:{...Mt,...c},[he.group]:"",[he.groupDirection]:s,[he.groupId]:h}))}const sf=x.forwardRef((e,t)=>x.createElement(nf,{...e,forwardedRef:t}));nf.displayName="PanelGroup";sf.displayName="forwardRef(PanelGroup)";function nn(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Et(e,t,n){const s=nn(e,t),r=s===e.length-1?[s-1,s]:[s,s+1],a=n[s];return{...t.constraints,panelSize:a,pivotIndices:r}}function Rg({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:s}){x.useEffect(()=>{if(e||n==null||s==null)return;const i=Pi(t,s);if(i==null)return;const r=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const o=i.getAttribute(he.groupId);X(o,`No group element found for id "${o}"`);const l=ss(o,s),c=qd(o,t,s);X(c!==null,`No resize element found for id "${t}"`);const u=a.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return i.addEventListener("keydown",r),()=>{i.removeEventListener("keydown",r)}},[s,e,t,n])}function rf({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:s,id:i,onBlur:r,onClick:a,onDragging:o,onFocus:l,onPointerDown:c,onPointerUp:u,style:f={},tabIndex:h=0,tagName:m="div",...g}){var y,v;const p=x.useRef(null),w=x.useRef({onClick:a,onDragging:o,onPointerDown:c,onPointerUp:u});x.useEffect(()=>{w.current.onClick=a,w.current.onDragging=o,w.current.onPointerDown=c,w.current.onPointerUp=u});const b=x.useContext(wi);if(b===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:P,groupId:S,registerResizeHandle:T,startDragging:C,stopDragging:j,panelGroupElement:k}=b,$=ka(i),[z,q]=x.useState("inactive"),[ve,M]=x.useState(!1),[ee,be]=x.useState(null),Y=x.useRef({state:z});Wt(()=>{Y.current.state=z}),x.useEffect(()=>{if(n)be(null);else{const yt=T($);be(()=>yt)}},[n,$,T]);const ie=(y=s==null?void 0:s.coarse)!==null&&y!==void 0?y:15,Ne=(v=s==null?void 0:s.fine)!==null&&v!==void 0?v:5;x.useEffect(()=>{if(n||ee==null)return;const yt=p.current;X(yt,"Element ref not attached");let Mt=!1;return wg($,yt,P,{coarse:ie,fine:Ne},(W,Z,F)=>{if(!Z){q("inactive");return}switch(W){case"down":{q("drag"),Mt=!1,X(F,'Expected event to be defined for "down" action'),C($,F);const{onDragging:L,onPointerDown:K}=w.current;L==null||L(!0),K==null||K();break}case"move":{const{state:L}=Y.current;Mt=!0,L!=="drag"&&q("hover"),X(F,'Expected event to be defined for "move" action'),ee(F);break}case"up":{q("hover"),j();const{onClick:L,onDragging:K,onPointerUp:A}=w.current;K==null||K(!1),A==null||A(),Mt||L==null||L();break}}})},[ie,P,n,Ne,T,$,ee,C,j]),Rg({disabled:n,handleId:$,resizeHandler:ee,panelGroupElement:k});const Me={touchAction:"none",userSelect:"none"};return x.createElement(m,{...g,children:e,className:t,id:i,onBlur:()=>{M(!1),r==null||r()},onFocus:()=>{M(!0),l==null||l()},ref:p,role:"separator",style:{...Me,...f},tabIndex:h,[he.groupDirection]:P,[he.groupId]:S,[he.resizeHandle]:"",[he.resizeHandleActive]:z==="drag"?"pointer":ve?"keyboard":void 0,[he.resizeHandleEnabled]:!n,[he.resizeHandleId]:$,[he.resizeHandleState]:z})}rf.displayName="PanelResizeHandle";function af(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=af(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Ci(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=af(e))&&(s&&(s+=" "),s+=t);return s}const of=x.forwardRef(({className:e,...t},n)=>d.jsx(sf,{ref:n,className:Ci("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}));of.displayName="ResizablePanelGroup";const Gs=x.forwardRef(({className:e,...t},n)=>d.jsx(Id,{ref:n,className:Ci("flex flex-col",e),...t}));Gs.displayName="ResizablePanel";const Pr=x.forwardRef(({withHandle:e=!1,className:t,...n},s)=>d.jsx(rf,{className:Ci("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&d.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:d.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-2.5 w-2.5",children:d.jsx("path",{d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM5.5 8.125C6.12132 8.125 6.625 7.62132 6.625 7C6.625 6.37868 6.12132 5.875 5.5 5.875C4.87868 5.875 4.375 6.37868 4.375 7C4.375 7.62132 4.87868 8.125 5.5 8.125ZM9.5 8.125C10.1213 8.125 10.625 7.62132 10.625 7C10.625 6.37868 10.1213 5.875 9.5 5.875C8.87868 5.875 8.375 6.37868 8.375 7C8.375 7.62132 8.87868 8.125 9.5 8.125ZM5.5 11.625C6.12132 11.625 6.625 11.1213 6.625 10.5C6.625 9.87868 6.12132 9.375 5.5 9.375C4.87868 9.375 4.375 9.87868 4.375 10.5C4.375 11.1213 4.87868 11.625 5.5 11.625ZM9.5 11.625C10.1213 11.625 10.625 11.1213 10.625 10.5C10.625 9.87868 10.1213 9.375 9.5 9.375C8.87868 9.375 8.375 9.87868 8.375 10.5C8.375 11.1213 8.87868 11.625 9.5 11.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})})}));Pr.displayName="ResizableHandle";const vl=e=>{let t;const n=new Set,s=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,h))}},i=()=>t,o={setState:s,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(s,i,o);return o},zg=e=>e?vl(e):vl,Lg=e=>e;function Ig(e,t=Lg){const n=rl.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return rl.useDebugValue(n),n}const Og=e=>{const t=zg(e),n=s=>Ig(t,s);return Object.assign(n,t),n},Ma=e=>Og,bl={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},is=new Map,Rs=e=>{const t=is.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,s])=>[n,s.getState()])):{}},Fg=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const s=is.get(n.name);if(s)return{type:"tracked",store:e,...s};const i={connection:t.connect(n),stores:{}};return is.set(n.name,i),{type:"tracked",store:e,...i}},Bg=(e,t)=>{if(t===void 0)return;const n=is.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&is.delete(e))},Ug=e=>{var t,n;if(!e)return;const s=e.split(`
`),i=s.findIndex(a=>a.includes("api.setState"));if(i<0)return;const r=((t=s[i+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(r))==null?void 0:n[1]},Wg=(e,t={})=>(n,s,i)=>{const{enabled:r,anonymousActionType:a,store:o,...l}=t;let c;try{c=(r??(bl?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return e(n,s,i);const{connection:u,...f}=Fg(o,c,l);let h=!0;i.setState=(y,v,p)=>{const w=n(y,v);if(!h)return w;const b=Ug(new Error().stack),P=p===void 0?{type:a||b||"anonymous"}:typeof p=="string"?{type:p}:p;return o===void 0?(u==null||u.send(P,s()),w):(u==null||u.send({...P,type:`${o}/${P.type}`},{...Rs(l.name),[o]:i.getState()}),w)},i.devtools={cleanup:()=>{u&&typeof u.unsubscribe=="function"&&u.unsubscribe(),Bg(l.name,o)}};const m=(...y)=>{const v=h;h=!1,n(...y),h=v},g=e(i.setState,s,i);if(f.type==="untracked"?u==null||u.init(g):(f.stores[f.store]=i,u==null||u.init(Object.fromEntries(Object.entries(f.stores).map(([y,v])=>[y,y===f.store?g:v.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const v=i.dispatch;i.dispatch=(...p)=>{(bl?"production":void 0)!=="production"&&p[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),v(...p)}}return u.subscribe(y=>{var v;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Hi(y.payload,p=>{if(p.type==="__setState"){if(o===void 0){m(p.state);return}Object.keys(p.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const w=p.state[o];if(w==null)return;JSON.stringify(i.getState())!==JSON.stringify(w)&&m(w);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(p)});case"DISPATCH":switch(y.payload.type){case"RESET":return m(g),o===void 0?u==null?void 0:u.init(i.getState()):u==null?void 0:u.init(Rs(l.name));case"COMMIT":if(o===void 0){u==null||u.init(i.getState());return}return u==null?void 0:u.init(Rs(l.name));case"ROLLBACK":return Hi(y.state,p=>{if(o===void 0){m(p),u==null||u.init(i.getState());return}m(p[o]),u==null||u.init(Rs(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Hi(y.state,p=>{if(o===void 0){m(p);return}JSON.stringify(i.getState())!==JSON.stringify(p[o])&&m(p[o])});case"IMPORT_STATE":{const{nextLiftedState:p}=y.payload,w=(v=p.computedStates.slice(-1)[0])==null?void 0:v.state;if(!w)return;m(o===void 0?w:w[o]),u==null||u.send(null,p);return}case"PAUSE_RECORDING":return h=!h}return}}),g},Hg=Wg,Hi=(e,t)=>{let n;try{n=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}n!==void 0&&t(n)};function Gg(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var r;const a=l=>l===null?null:JSON.parse(l,void 0),o=(r=n.getItem(i))!=null?r:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,r)=>n.setItem(i,JSON.stringify(r,void 0)),removeItem:i=>n.removeItem(i)}}const Cr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return Cr(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Cr(s)(n)}}}},Kg=(e,t)=>(n,s,i)=>{let r={storage:Gg(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...t},a=!1;const o=new Set,l=new Set;let c=r.storage;if(!c)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),n(...y)},s,i);const u=()=>{const y=r.partialize({...s()});return c.setItem(r.name,{state:y,version:r.version})},f=i.setState;i.setState=(y,v)=>{f(y,v),u()};const h=e((...y)=>{n(...y),u()},s,i);i.getInitialState=()=>h;let m;const g=()=>{var y,v;if(!c)return;a=!1,o.forEach(w=>{var b;return w((b=s())!=null?b:h)});const p=((v=r.onRehydrateStorage)==null?void 0:v.call(r,(y=s())!=null?y:h))||void 0;return Cr(c.getItem.bind(c))(r.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==r.version){if(r.migrate){const b=r.migrate(w.state,w.version);return b instanceof Promise?b.then(P=>[!0,P]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var b;const[P,S]=w;if(m=r.merge(S,(b=s())!=null?b:h),n(m,!0),P)return u()}).then(()=>{p==null||p(m,void 0),m=s(),a=!0,l.forEach(w=>w(m))}).catch(w=>{p==null||p(void 0,w)})};return i.persist={setOptions:y=>{r={...r,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},r.skipHydration||g(),m||h},Ea=Kg,tt=Ma()(Ea((e,t)=>({leftSidebarOpen:!0,rightSidebarOpen:!0,technicalPanelExpanded:!1,technicalPanelActiveTab:"overview",activeToolTab:"datasets",theme:"dark",toggleLeftSidebar:()=>e(n=>({leftSidebarOpen:!n.leftSidebarOpen})),toggleRightSidebar:()=>e(n=>({rightSidebarOpen:!n.rightSidebarOpen})),setLeftSidebarOpen:n=>e({leftSidebarOpen:n}),setRightSidebarOpen:n=>e({rightSidebarOpen:n}),setTechnicalPanelExpanded:n=>e({technicalPanelExpanded:n}),toggleTechnicalPanel:()=>e(n=>({technicalPanelExpanded:!n.technicalPanelExpanded})),setTechnicalPanelActiveTab:n=>e({technicalPanelActiveTab:n}),setActiveToolTab:n=>e({activeToolTab:n}),setTheme:n=>{e({theme:n}),n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},initializeTheme:()=>{const{theme:n}=t();document.documentElement.classList.add("dark"),n==="light"&&document.documentElement.classList.remove("dark")},closeSidebarsOnMobile:()=>{window.innerWidth<768&&e({leftSidebarOpen:!1,rightSidebarOpen:!1})},resetToDefaults:()=>e({leftSidebarOpen:!0,rightSidebarOpen:!0,technicalPanelExpanded:!1,technicalPanelActiveTab:"overview",activeToolTab:"datasets",theme:"dark"})}),{name:"statdash-ui-storage",partialize:e=>({leftSidebarOpen:e.leftSidebarOpen,rightSidebarOpen:e.rightSidebarOpen,technicalPanelExpanded:e.technicalPanelExpanded,technicalPanelActiveTab:e.technicalPanelActiveTab,activeToolTab:e.activeToolTab,theme:e.theme}),version:1})),Zg=()=>tt(e=>e.technicalPanelExpanded);function Va(...e){return Ci(e)}const fe=({variant:e="primary",size:t="md",isLoading:n=!1,className:s,children:i,disabled:r,...a})=>{const o="inline-flex items-center justify-center rounded font-normal transition-colors focus:outline-none focus:ring-1 focus:ring-ring disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-border bg-transparent hover:bg-accent text-foreground",ghost:"bg-transparent hover:bg-accent text-foreground"},c={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"};return d.jsxs("button",{className:Va(o,l[e],c[t],s),disabled:r||n,...a,children:[n&&d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})};var lf=Symbol.for("immer-nothing"),wl=Symbol.for("immer-draftable"),Re=Symbol.for("immer-state");function Ye(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yn=Object.getPrototypeOf;function xn(e){return!!e&&!!e[Re]}function Xt(e){var t;return e?cf(e)||Array.isArray(e)||!!e[wl]||!!((t=e.constructor)!=null&&t[wl])||Ai(e)||Ni(e):!1}var qg=Object.prototype.constructor.toString();function cf(e){if(!e||typeof e!="object")return!1;const t=yn(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===qg}function ii(e,t){ji(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,s)=>t(s,n,e))}function ji(e){const t=e[Re];return t?t.type_:Array.isArray(e)?1:Ai(e)?2:Ni(e)?3:0}function jr(e,t){return ji(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uf(e,t,n){const s=ji(e);s===2?e.set(t,n):s===3?e.add(n):e[t]=n}function Xg(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ai(e){return e instanceof Map}function Ni(e){return e instanceof Set}function Rt(e){return e.copy_||e.base_}function Ar(e,t){if(Ai(e))return new Map(e);if(Ni(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=cf(e);if(t===!0||t==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(e);delete s[Re];let i=Reflect.ownKeys(s);for(let r=0;r<i.length;r++){const a=i[r],o=s[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(s[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(yn(e),s)}else{const s=yn(e);if(s!==null&&n)return{...e};const i=Object.create(s);return Object.assign(i,e)}}function Da(e,t=!1){return ki(e)||xn(e)||!Xt(e)||(ji(e)>1&&(e.set=e.add=e.clear=e.delete=Yg),Object.freeze(e),t&&Object.entries(e).forEach(([n,s])=>Da(s,!0))),e}function Yg(){Ye(2)}function ki(e){return Object.isFrozen(e)}var Jg={};function Yt(e){const t=Jg[e];return t||Ye(0,e),t}var rs;function df(){return rs}function Qg(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sl(e,t){t&&(Yt("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nr(e){kr(e),e.drafts_.forEach(ey),e.drafts_=null}function kr(e){e===rs&&(rs=e.parent_)}function Tl(e){return rs=Qg(rs,e)}function ey(e){const t=e[Re];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Pl(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Re].modified_&&(Nr(t),Ye(4)),Xt(e)&&(e=ri(t,e),t.parent_||ai(t,e)),t.patches_&&Yt("Patches").generateReplacementPatches_(n[Re].base_,e,t.patches_,t.inversePatches_)):e=ri(t,n,[]),Nr(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lf?e:void 0}function ri(e,t,n){if(ki(t))return t;const s=t[Re];if(!s)return ii(t,(i,r)=>Cl(e,s,t,i,r,n)),t;if(s.scope_!==e)return t;if(!s.modified_)return ai(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let r=i,a=!1;s.type_===3&&(r=new Set(i),i.clear(),a=!0),ii(r,(o,l)=>Cl(e,s,i,o,l,n,a)),ai(e,i,!1),n&&e.patches_&&Yt("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function Cl(e,t,n,s,i,r,a){if(xn(i)){const o=r&&t&&t.type_!==3&&!jr(t.assigned_,s)?r.concat(s):void 0,l=ri(e,i,o);if(uf(n,s,l),xn(l))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Xt(i)&&!ki(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ri(e,i),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&ai(e,i)}}function ai(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Da(t,n)}function ty(e,t){const n=Array.isArray(e),s={type_:n?1:0,scope_:t?t.scope_:df(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=s,r=Ra;n&&(i=[s],r=as);const{revoke:a,proxy:o}=Proxy.revocable(i,r);return s.draft_=o,s.revoke_=a,o}var Ra={get(e,t){if(t===Re)return e;const n=Rt(e);if(!jr(n,t))return ny(e,n,t);const s=n[t];return e.finalized_||!Xt(s)?s:s===Gi(e.base_,t)?(Ki(e),e.copy_[t]=$r(s,e)):s},has(e,t){return t in Rt(e)},ownKeys(e){return Reflect.ownKeys(Rt(e))},set(e,t,n){const s=ff(Rt(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,n),!0;if(!e.modified_){const i=Gi(Rt(e),t),r=i==null?void 0:i[Re];if(r&&r.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Xg(n,i)&&(n!==void 0||jr(e.base_,t)))return!0;Ki(e),_r(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gi(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ki(e),_r(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Rt(e),s=Reflect.getOwnPropertyDescriptor(n,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:n[t]}},defineProperty(){Ye(11)},getPrototypeOf(e){return yn(e.base_)},setPrototypeOf(){Ye(12)}},as={};ii(Ra,(e,t)=>{as[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});as.deleteProperty=function(e,t){return as.set.call(this,e,t,void 0)};as.set=function(e,t,n){return Ra.set.call(this,e[0],t,n,e[0])};function Gi(e,t){const n=e[Re];return(n?Rt(n):e)[t]}function ny(e,t,n){var i;const s=ff(t,n);return s?"value"in s?s.value:(i=s.get)==null?void 0:i.call(e.draft_):void 0}function ff(e,t){if(!(t in e))return;let n=yn(e);for(;n;){const s=Object.getOwnPropertyDescriptor(n,t);if(s)return s;n=yn(n)}}function _r(e){e.modified_||(e.modified_=!0,e.parent_&&_r(e.parent_))}function Ki(e){e.copy_||(e.copy_=Ar(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var sy=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,s)=>{if(typeof t=="function"&&typeof n!="function"){const r=n;n=t;const a=this;return function(l=r,...c){return a.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Ye(6),s!==void 0&&typeof s!="function"&&Ye(7);let i;if(Xt(t)){const r=Tl(this),a=$r(t,void 0);let o=!0;try{i=n(a),o=!1}finally{o?Nr(r):kr(r)}return Sl(r,s),Pl(i,r)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===lf&&(i=void 0),this.autoFreeze_&&Da(i,!0),s){const r=[],a=[];Yt("Patches").generateReplacementPatches_(t,i,r,a),s(r,a)}return i}else Ye(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,l=>t(l,...o));let s,i;return[this.produce(t,n,(a,o)=>{s=a,i=o}),s,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Xt(e)||Ye(8),xn(e)&&(e=iy(e));const t=Tl(this),n=$r(e,void 0);return n[Re].isManual_=!0,kr(t),n}finishDraft(e,t){const n=e&&e[Re];(!n||!n.isManual_)&&Ye(9);const{scope_:s}=n;return Sl(s,t),Pl(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const s=Yt("Patches").applyPatches_;return xn(e)?s(e,t):this.produce(e,i=>s(i,t))}};function $r(e,t){const n=Ai(e)?Yt("MapSet").proxyMap_(e,t):Ni(e)?Yt("MapSet").proxySet_(e,t):ty(e,t);return(t?t.scope_:df()).drafts_.push(n),n}function iy(e){return xn(e)||Ye(10,e),hf(e)}function hf(e){if(!Xt(e)||ki(e))return e;const t=e[Re];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ar(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ar(e,!0);return ii(n,(s,i)=>{uf(n,s,hf(i))}),t&&(t.finalized_=!1),n}var ze=new sy,ry=ze.produce;ze.produceWithPatches.bind(ze);ze.setAutoFreeze.bind(ze);ze.setUseStrictShallowCopy.bind(ze);ze.applyPatches.bind(ze);ze.createDraft.bind(ze);ze.finishDraft.bind(ze);const ay=e=>(t,n,s)=>(s.setState=(i,r,...a)=>{const o=typeof i=="function"?ry(i):i;return t(o,r,...a)},e(s.setState,n,s)),oy=ay,ly={theme:"dark",sidebarOpen:!1,activeModal:null,progress:{isRunning:!1,progress:0}},kn=Ma()(Hg(Ea(oy(e=>({currentConfig:null,templates:[],activeTemplate:null,ui:ly,validation:null,results:null,setCurrentConfig:t=>e(n=>{n.currentConfig=t,n.validation=null}),updateConfig:t=>e(n=>{n.currentConfig&&(Object.assign(n.currentConfig,t),n.validation=null)}),clearConfig:()=>e(t=>{t.currentConfig=null,t.activeTemplate=null,t.validation=null}),loadTemplate:t=>e(n=>{n.currentConfig={...t.config},n.activeTemplate=t,n.validation=null}),saveAsTemplate:(t,n)=>e(s=>{const{currentConfig:i}=s;if(i){const r={id:crypto.randomUUID(),name:t,description:n,config:{...i},isBuiltIn:!1};s.templates.push(r)}}),deleteTemplate:t=>e(n=>{var s;n.templates=n.templates.filter(i=>i.id!==t),((s=n.activeTemplate)==null?void 0:s.id)===t&&(n.activeTemplate=null)}),setUIState:t=>e(n=>{Object.assign(n.ui,t)}),setProgress:t=>e(n=>{n.ui.progress||(n.ui.progress={isRunning:!1,progress:0}),Object.assign(n.ui.progress,t)}),setValidation:t=>e(n=>{n.validation=t}),clearValidation:()=>e(t=>{t.validation=null}),setResults:t=>e(n=>{n.results=t}),clearResults:()=>e(t=>{t.results=null})})),{name:"statdash-storage",partialize:e=>({templates:e.templates.filter(t=>!t.isBuiltIn),ui:{theme:e.ui.theme,sidebarOpen:e.ui.sidebarOpen}})}),{name:"StatDash Store"})),cy={isRunning:!1,progress:0},za=()=>kn(e=>e.currentConfig),uy=()=>kn(e=>e.ui.progress||cy),dy=()=>kn(e=>e.results),fy="modulepreload",hy=function(e){return"/"+e},jl={},Al=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(c=>{if(c=hy(c),c in jl)return;jl[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":fy,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})};async function ut(e,t={},n){return window.__TAURI_INTERNALS__.invoke(e,t,n)}const Ie=typeof window<"u"&&"__TAURI__"in window,Nl=e=>({name:e.name,template_id:e.id,sample_pairs:e.samplePairs.map(t=>({id:t.id,name:t.name,population1_mean:t.population1.mean,population1_std:t.population1.std,population2_mean:t.population2.mean,population2_std:t.population2.std,sample_size:t.sampleSize})),settings:{significance_threshold:e.significanceThresholds[0]||.05,iterations:e.simulationCount},created_at:e.createdAt.toISOString(),updated_at:e.updatedAt.toISOString()}),my=e=>({id:e.template_id,name:e.name,samplePairs:e.sample_pairs.map(t=>({id:t.id,name:t.name,population1:{mean:t.population1_mean,std:t.population1_std,size:1e3},population2:{mean:t.population2_mean,std:t.population2_std,size:1e3},sampleSize:t.sample_size})),simulationCount:e.settings.iterations,significanceThresholds:[e.settings.significance_threshold],confidenceLevel:.95,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at)}),kl=async e=>(console.warn("Native save dialog not available in web environment"),null),_l=async()=>(console.warn("Native open dialog not available in web environment"),null),mf=()=>{const[e,t]=x.useState(""),[n,s]=x.useState(!1);x.useEffect(()=>{if(!Ie)return;(async()=>{try{await ut("create_app_directories");const l=await ut("get_app_data_path");t(l),s(!0)}catch(l){console.error("Failed to initialize desktop environment:",l)}})()},[]);const i={saveConfig:x.useCallback(async(o,l)=>{if(!Ie)throw new Error("Desktop operations not available in web environment");const c=Nl(o);return await ut("save_simulation_config",{config:c,filePath:l})},[]),loadConfig:x.useCallback(async o=>{if(!Ie)throw new Error("Desktop operations not available in web environment");const l=await ut("load_simulation_config",{filePath:o});return my(l)},[]),exportResults:x.useCallback(async(o,l,c,u)=>{if(!Ie)throw new Error("Desktop operations not available in web environment");const f={config:Nl(o),results:l,export_format:c,timestamp:new Date().toISOString()};return await ut("export_simulation_results",{exportData:f,filePath:u})},[]),listSavedConfigs:x.useCallback(async()=>{if(!Ie)throw new Error("Desktop operations not available in web environment");return await ut("list_saved_configs")},[]),showSaveDialog:x.useCallback(async o=>{if(!Ie)return kl();try{const{save:l}=await Al(async()=>{const{save:u}=await import("./index-3eJluehb.js");return{save:u}},__vite__mapDeps([0,1,2,3]));return await l({defaultPath:o,filters:[{name:"StatDash Configuration",extensions:["json"]},{name:"All Files",extensions:["*"]}]})}catch(l){return console.warn("Tauri dialog plugin not available:",l),kl()}},[]),showOpenDialog:x.useCallback(async()=>{if(!Ie)return _l();try{const{open:o}=await Al(async()=>{const{open:c}=await import("./index-3eJluehb.js");return{open:c}},__vite__mapDeps([0,1,2,3])),l=await o({multiple:!1,filters:[{name:"StatDash Configuration",extensions:["json"]},{name:"All Files",extensions:["*"]}]});return Array.isArray(l)?l[0]:l}catch(o){return console.warn("Tauri dialog plugin not available:",o),_l()}},[])},r={send:x.useCallback(async(o,l)=>{if(!Ie){"Notification"in window&&Notification.permission==="granted"&&new Notification(o,{body:l});return}await ut("send_notification",{title:o,body:l})},[]),sendSimulationComplete:x.useCallback(async(o,l)=>{const c="Simulation Complete",u=`${o} finished in ${Math.round(l/1e3)}s`;await r.send(c,u)},[]),sendExportComplete:x.useCallback(async o=>{const l="Export Complete",c=`Results exported to ${o}`;await r.send(l,c)},[])},a={getAppDataPath:x.useCallback(async()=>{if(!Ie)return"";if(e)return e;const o=await ut("get_app_data_path");return t(o),o},[e]),createAppDirectories:x.useCallback(async()=>{Ie&&await ut("create_app_directories")},[]),isDesktop:Ie};return{isDesktop:Ie,isInitialized:n,appDataPath:e,fileOperations:i,notifications:r,systemInfo:a}},py=()=>{const{theme:e,setTheme:t}=tt(),n=()=>{t(e==="dark"?"light":"dark")};return d.jsx(fe,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0",title:`Switch to ${e==="dark"?"light":"dark"} theme`,children:e==="dark"?d.jsx(Fp,{className:"h-4 w-4"}):d.jsx(Bp,{className:"h-4 w-4"})})},La=x.createContext({});function Ia(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Oa=typeof window<"u",pf=Oa?x.useLayoutEffect:x.useEffect,_i=x.createContext(null);function Fa(e,t){e.indexOf(t)===-1&&e.push(t)}function Ba(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ht=(e,t,n)=>n>t?t:n<e?e:n;let Ua=()=>{};const mt={},gf=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function yf(e){return typeof e=="object"&&e!==null}const xf=e=>/^0[^.\s]+$/u.test(e);function Wa(e){let t;return()=>(t===void 0&&(t=e()),t)}const He=e=>e,gy=(e,t)=>n=>t(e(n)),Ps=(...e)=>e.reduce(gy),os=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};let Ha=class{constructor(){this.subscriptions=[]}add(t){return Fa(this.subscriptions,t),()=>Ba(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const nt=e=>e*1e3,st=e=>e/1e3;function vf(e,t){return t?e*(1e3/t):0}const bf=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,yy=1e-7,xy=12;function vy(e,t,n,s,i){let r,a,o=0;do a=t+(n-t)/2,r=bf(a,s,i)-e,r>0?n=a:t=a;while(Math.abs(r)>yy&&++o<xy);return a}function Cs(e,t,n,s){if(e===t&&n===s)return He;const i=r=>vy(r,0,1,e,n);return r=>r===0||r===1?r:bf(i(r),t,s)}const wf=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sf=e=>t=>1-e(1-t),Tf=Cs(.33,1.53,.69,.99),Ga=Sf(Tf),Pf=wf(Ga),Cf=e=>(e*=2)<1?.5*Ga(e):.5*(2-Math.pow(2,-10*(e-1))),Ka=e=>1-Math.sin(Math.acos(e)),jf=Sf(Ka),Af=wf(Ka),by=Cs(.42,0,1,1),wy=Cs(0,0,.58,1),Nf=Cs(.42,0,.58,1),Sy=e=>Array.isArray(e)&&typeof e[0]!="number",kf=e=>Array.isArray(e)&&typeof e[0]=="number",Ty={linear:He,easeIn:by,easeInOut:Nf,easeOut:wy,circIn:Ka,circInOut:Af,circOut:jf,backIn:Ga,backInOut:Pf,backOut:Tf,anticipate:Cf},Py=e=>typeof e=="string",$l=e=>{if(kf(e)){Ua(e.length===4);const[t,n,s,i]=e;return Cs(t,n,s,i)}else if(Py(e))return Ty[e];return e},zs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ml={value:null};function Cy(e,t){let n=new Set,s=new Set,i=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){a.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,m=!1)=>{const y=m&&i?n:s;return h&&a.add(f),y.has(f)||y.add(f),f},cancel:f=>{s.delete(f),a.delete(f)},process:f=>{if(o=f,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),t&&Ml.value&&Ml.value.frameloop[t].push(l),l=0,n.clear(),i=!1,r&&(r=!1,u.process(f))}};return u}const jy=40;function _f(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=zs.reduce((b,P)=>(b[P]=Cy(r,t?P:void 0),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:m,postRender:g}=a,y=()=>{const b=mt.useManualTiming?i.timestamp:performance.now();n=!1,mt.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(b-i.timestamp,jy),1)),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(y))},v=()=>{n=!0,s=!0,i.isProcessing||e(y)};return{schedule:zs.reduce((b,P)=>{const S=a[P];return b[P]=(T,C=!1,j=!1)=>(n||v(),S.schedule(T,C,j)),b},{}),cancel:b=>{for(let P=0;P<zs.length;P++)a[zs[P]].cancel(b)},state:i,steps:a}}const{schedule:le,cancel:Pt,state:Se,steps:Zi}=_f(typeof requestAnimationFrame<"u"?requestAnimationFrame:He,!0);let Ks;function Ay(){Ks=void 0}const Ee={now:()=>(Ks===void 0&&Ee.set(Se.isProcessing||mt.useManualTiming?Se.timestamp:performance.now()),Ks),set:e=>{Ks=e,queueMicrotask(Ay)}},$f=e=>t=>typeof t=="string"&&t.startsWith(e),Za=$f("--"),Ny=$f("var(--"),qa=e=>Ny(e)?ky.test(e.split("/*")[0].trim()):!1,ky=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_n={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ls={..._n,transform:e=>ht(0,1,e)},Ls={..._n,default:1},Gn=e=>Math.round(e*1e5)/1e5,Xa=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _y(e){return e==null}const $y=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ya=(e,t)=>n=>!!(typeof n=="string"&&$y.test(n)&&n.startsWith(e)||t&&!_y(n)&&Object.prototype.hasOwnProperty.call(n,t)),Mf=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,r,a,o]=s.match(Xa);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},My=e=>ht(0,255,e),qi={..._n,transform:e=>Math.round(My(e))},Ot={test:Ya("rgb","red"),parse:Mf("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+qi.transform(e)+", "+qi.transform(t)+", "+qi.transform(n)+", "+Gn(ls.transform(s))+")"};function Ey(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Mr={test:Ya("#"),parse:Ey,transform:Ot.transform},js=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xt=js("deg"),it=js("%"),B=js("px"),Vy=js("vh"),Dy=js("vw"),El={...it,parse:e=>it.parse(e)/100,transform:e=>it.transform(e*100)},an={test:Ya("hsl","hue"),parse:Mf("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+it.transform(Gn(t))+", "+it.transform(Gn(n))+", "+Gn(ls.transform(s))+")"},ge={test:e=>Ot.test(e)||Mr.test(e)||an.test(e),parse:e=>Ot.test(e)?Ot.parse(e):an.test(e)?an.parse(e):Mr.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ot.transform(e):an.transform(e),getAnimatableNone:e=>{const t=ge.parse(e);return t.alpha=0,ge.transform(t)}},Ry=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zy(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Xa))==null?void 0:t.length)||0)+(((n=e.match(Ry))==null?void 0:n.length)||0)>0}const Ef="number",Vf="color",Ly="var",Iy="var(",Vl="${}",Oy=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cs(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const o=t.replace(Oy,l=>(ge.test(l)?(s.color.push(r),i.push(Vf),n.push(ge.parse(l))):l.startsWith(Iy)?(s.var.push(r),i.push(Ly),n.push(l)):(s.number.push(r),i.push(Ef),n.push(parseFloat(l))),++r,Vl)).split(Vl);return{values:n,split:o,indexes:s,types:i}}function Df(e){return cs(e).values}function Rf(e){const{split:t,types:n}=cs(e),s=t.length;return i=>{let r="";for(let a=0;a<s;a++)if(r+=t[a],i[a]!==void 0){const o=n[a];o===Ef?r+=Gn(i[a]):o===Vf?r+=ge.transform(i[a]):r+=i[a]}return r}}const Fy=e=>typeof e=="number"?0:ge.test(e)?ge.getAnimatableNone(e):e;function By(e){const t=Df(e);return Rf(e)(t.map(Fy))}const Ct={test:zy,parse:Df,createTransformer:Rf,getAnimatableNone:By};function Xi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Uy({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,r=0,a=0;if(!t)i=r=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Xi(l,o,e+1/3),r=Xi(l,o,e),a=Xi(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}function oi(e,t){return n=>n>0?t:e}const ae=(e,t,n)=>e+(t-e)*n,Yi=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Wy=[Mr,Ot,an],Hy=e=>Wy.find(t=>t.test(e));function Dl(e){const t=Hy(e);if(!t)return!1;let n=t.parse(e);return t===an&&(n=Uy(n)),n}const Rl=(e,t)=>{const n=Dl(e),s=Dl(t);if(!n||!s)return oi(e,t);const i={...n};return r=>(i.red=Yi(n.red,s.red,r),i.green=Yi(n.green,s.green,r),i.blue=Yi(n.blue,s.blue,r),i.alpha=ae(n.alpha,s.alpha,r),Ot.transform(i))},Er=new Set(["none","hidden"]);function Gy(e,t){return Er.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ky(e,t){return n=>ae(e,t,n)}function Ja(e){return typeof e=="number"?Ky:typeof e=="string"?qa(e)?oi:ge.test(e)?Rl:Xy:Array.isArray(e)?zf:typeof e=="object"?ge.test(e)?Rl:Zy:oi}function zf(e,t){const n=[...e],s=n.length,i=e.map((r,a)=>Ja(r)(r,t[a]));return r=>{for(let a=0;a<s;a++)n[a]=i[a](r);return n}}function Zy(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Ja(e[i])(e[i],t[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function qy(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],a=e.indexes[r][s[r]],o=e.values[a]??0;n[i]=o,s[r]++}return n}const Xy=(e,t)=>{const n=Ct.createTransformer(t),s=cs(e),i=cs(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Er.has(e)&&!i.values.length||Er.has(t)&&!s.values.length?Gy(e,t):Ps(zf(qy(s,i),i.values),n):oi(e,t)};function Lf(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ae(e,t,n):Ja(e)(e,t)}const Yy=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>le.update(t,n),stop:()=>Pt(t),now:()=>Se.isProcessing?Se.timestamp:Ee.now()}},If=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)s+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},li=2e4;function Qa(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<li;)t+=n,s=e.next(t);return t>=li?1/0:t}function Jy(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Qa(s),li);return{type:"keyframes",ease:r=>s.next(i*r).value/t,duration:st(i)}}const Qy=5;function Of(e,t,n){const s=Math.max(t-Qy,0);return vf(n-e(s),t-s)}const ue={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ji=.001;function ex({duration:e=ue.duration,bounce:t=ue.bounce,velocity:n=ue.velocity,mass:s=ue.mass}){let i,r,a=1-t;a=ht(ue.minDamping,ue.maxDamping,a),e=ht(ue.minDuration,ue.maxDuration,st(e)),a<1?(i=c=>{const u=c*a,f=u*e,h=u-n,m=Vr(c,a),g=Math.exp(-f);return Ji-h/m*g},r=c=>{const f=c*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(c,2)*e,g=Math.exp(-f),y=Vr(Math.pow(c,2),a);return(-i(c)+Ji>0?-1:1)*((h-m)*g)/y}):(i=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-Ji+u*f},r=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const o=5/e,l=nx(i,r,o);if(e=nt(e),isNaN(l))return{stiffness:ue.stiffness,damping:ue.damping,duration:e};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:e}}}const tx=12;function nx(e,t,n){let s=n;for(let i=1;i<tx;i++)s=s-e(s)/t(s);return s}function Vr(e,t){return e*Math.sqrt(1-t*t)}const sx=["duration","bounce"],ix=["stiffness","damping","mass"];function zl(e,t){return t.some(n=>e[n]!==void 0)}function rx(e){let t={velocity:ue.velocity,stiffness:ue.stiffness,damping:ue.damping,mass:ue.mass,isResolvedFromDuration:!1,...e};if(!zl(e,ix)&&zl(e,sx))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*ht(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ue.mass,stiffness:i,damping:r}}else{const n=ex(e);t={...t,...n,mass:ue.mass},t.isResolvedFromDuration=!0}return t}function ci(e=ue.visualDuration,t=ue.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=rx({...n,velocity:-st(n.velocity||0)}),g=h||0,y=c/(2*Math.sqrt(l*u)),v=a-r,p=st(Math.sqrt(l/u)),w=Math.abs(v)<5;s||(s=w?ue.restSpeed.granular:ue.restSpeed.default),i||(i=w?ue.restDelta.granular:ue.restDelta.default);let b;if(y<1){const S=Vr(p,y);b=T=>{const C=Math.exp(-y*p*T);return a-C*((g+y*p*v)/S*Math.sin(S*T)+v*Math.cos(S*T))}}else if(y===1)b=S=>a-Math.exp(-p*S)*(v+(g+p*v)*S);else{const S=p*Math.sqrt(y*y-1);b=T=>{const C=Math.exp(-y*p*T),j=Math.min(S*T,300);return a-C*((g+y*p*v)*Math.sinh(j)+S*v*Math.cosh(j))/S}}const P={calculatedDuration:m&&f||null,next:S=>{const T=b(S);if(m)o.done=S>=f;else{let C=S===0?g:0;y<1&&(C=S===0?nt(g):Of(b,S,T));const j=Math.abs(C)<=s,k=Math.abs(a-T)<=i;o.done=j&&k}return o.value=o.done?a:T,o},toString:()=>{const S=Math.min(Qa(P),li),T=If(C=>P.next(S*C).value,S,30);return S+"ms "+T},toTransition:()=>{}};return P}ci.applyToOptions=e=>{const t=Jy(e,100,ci);return e.ease=t.ease,e.duration=nt(t.duration),e.type="keyframes",e};function Dr({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=j=>o!==void 0&&j<o||l!==void 0&&j>l,g=j=>o===void 0?l:l===void 0||Math.abs(o-j)<Math.abs(l-j)?o:l;let y=n*t;const v=f+y,p=a===void 0?v:a(v);p!==v&&(y=p-f);const w=j=>-y*Math.exp(-j/s),b=j=>p+w(j),P=j=>{const k=w(j),$=b(j);h.done=Math.abs(k)<=c,h.value=h.done?p:$};let S,T;const C=j=>{m(h.value)&&(S=j,T=ci({keyframes:[h.value,g(h.value)],velocity:Of(b,j,h.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:j=>{let k=!1;return!T&&S===void 0&&(k=!0,P(j),C(j)),S!==void 0&&j>=S?T.next(j-S):(!k&&P(j),h)}}}function ax(e,t,n){const s=[],i=n||mt.mix||Lf,r=e.length-1;for(let a=0;a<r;a++){let o=i(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||He:t;o=Ps(l,o)}s.push(o)}return s}function ox(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const r=e.length;if(Ua(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ax(t,s,i),l=o.length,c=u=>{if(a&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=os(e[f],e[f+1],u);return o[f](h)};return n?u=>c(ht(e[0],e[r-1],u)):c}function lx(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=os(0,t,s);e.push(ae(n,1,i))}}function cx(e){const t=[0];return lx(t,e.length-1),t}function ux(e,t){return e.map(n=>n*t)}function dx(e,t){return e.map(()=>t||Nf).splice(0,e.length-1)}function Kn({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=Sy(s)?s.map($l):$l(s),r={done:!1,value:t[0]},a=ux(n&&n.length===t.length?n:cx(t),e),o=ox(a,t,{ease:Array.isArray(i)?i:dx(t,i)});return{calculatedDuration:e,next:l=>(r.value=o(l),r.done=l>=e,r)}}const fx=e=>e!==null;function eo(e,{repeat:t,repeatType:n="loop"},s,i=1){const r=e.filter(fx),o=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||s===void 0?r[o]:s}const hx={decay:Dr,inertia:Dr,tween:Kn,keyframes:Kn,spring:ci};function Ff(e){typeof e.type=="string"&&(e.type=hx[e.type])}let to=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}};const mx=e=>e/100;let no=class extends to{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ee.now()&&this.tick(Ee.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ff(t);const{type:n=Kn,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=t;let{keyframes:o}=t;const l=n||Kn;l!==Kn&&typeof o[0]!="number"&&(this.mixKeyframes=Ps(mx,Lf(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Qa(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,P=s;if(f){const j=Math.min(this.currentTime,i)/o;let k=Math.floor(j),$=j%1;!$&&j>=1&&($=1),$===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(h==="reverse"?($=1-$,m&&($-=m/o)):h==="mirror"&&(P=a)),b=ht(0,1,$)*o}const S=w?{done:!1,value:u[0]}:P.next(b);r&&(S.value=r(S.value));let{done:T}=S;!w&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&g!==Dr&&(S.value=eo(u,this.options,v,this.speed)),y&&y(S.value),C&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return st(this.calculatedDuration)}get time(){return st(this.currentTime)}set time(t){var n;t=nt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ee.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=st(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=Yy,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ee.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}};function px(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ft=e=>e*180/Math.PI,Rr=e=>{const t=Ft(Math.atan2(e[1],e[0]));return zr(t)},gx={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Rr,rotateZ:Rr,skewX:e=>Ft(Math.atan(e[1])),skewY:e=>Ft(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},zr=e=>(e=e%360,e<0&&(e+=360),e),Ll=Rr,Il=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ol=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),yx={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Il,scaleY:Ol,scale:e=>(Il(e)+Ol(e))/2,rotateX:e=>zr(Ft(Math.atan2(e[6],e[5]))),rotateY:e=>zr(Ft(Math.atan2(-e[2],e[0]))),rotateZ:Ll,rotate:Ll,skewX:e=>Ft(Math.atan(e[4])),skewY:e=>Ft(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Lr(e){return e.includes("scale")?1:0}function Ir(e,t){if(!e||e==="none")return Lr(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=yx,i=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=gx,i=o}if(!i)return Lr(t);const r=s[t],a=i[1].split(",").map(vx);return typeof r=="function"?r(a):a[r]}const xx=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ir(n,t)};function vx(e){return parseFloat(e.trim())}const $n=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mn=new Set($n),Fl=e=>e===_n||e===B,bx=new Set(["x","y","z"]),wx=$n.filter(e=>!bx.has(e));function Sx(e){const t=[];return wx.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ht={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ir(t,"x"),y:(e,{transform:t})=>Ir(t,"y")};Ht.translateX=Ht.x;Ht.translateY=Ht.y;const Gt=new Set;let Or=!1,Fr=!1,Br=!1;function Bf(){if(Fr){const e=Array.from(Gt).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=Sx(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,a])=>{var o;(o=s.getValue(r))==null||o.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Fr=!1,Or=!1,Gt.forEach(e=>e.complete(Br)),Gt.clear()}function Uf(){Gt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Fr=!0)})}function Tx(){Br=!0,Uf(),Bf(),Br=!1}let so=class{constructor(t,n,s,i,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Gt.add(this),Or||(Or=!0,le.read(Uf),le.resolveKeyframes(Bf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const o=s.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),i&&r===void 0&&i.set(t[0])}px(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Gt.delete(this)}cancel(){this.state==="scheduled"&&(Gt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};const Px=e=>e.startsWith("--");function Cx(e,t,n){Px(t)?e.style.setProperty(t,n):e.style[t]=n}const jx=Wa(()=>window.ScrollTimeline!==void 0),Ax={};function Nx(e,t){const n=Wa(e);return()=>Ax[t]??n()}const Wf=Nx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Un=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Bl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Un([0,.65,.55,1]),circOut:Un([.55,0,1,.45]),backIn:Un([.31,.01,.66,-.59]),backOut:Un([.33,1.53,.69,.99])};function Hf(e,t){if(e)return typeof e=="function"?Wf()?If(e,t):"ease-out":kf(e)?Un(e):Array.isArray(e)?e.map(n=>Hf(n,t)||Bl.easeOut):Bl[e]}function kx(e,t,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const f=Hf(o,i);Array.isArray(f)&&(u.easing=f);const h={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Gf(e){return typeof e=="function"&&"applyToOptions"in e}function _x({type:e,...t}){return Gf(e)&&Wf()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}let $x=class extends to{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=t,Ua(typeof t.type!="string");const c=_x(t);this.animation=kx(n,s,i,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=eo(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Cx(n,s,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return st(Number(t))}get time(){return st(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=nt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&jx()?(this.animation.timeline=t,He):n(this)}};const Kf={anticipate:Cf,backInOut:Pf,circInOut:Af};function Mx(e){return e in Kf}function Ex(e){typeof e.ease=="string"&&Mx(e.ease)&&(e.ease=Kf[e.ease])}const Ul=10;let Vx=class extends $x{constructor(t){Ex(t),Ff(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new no({...a,autoplay:!1}),l=nt(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-Ul).value,o.sample(l).value,Ul),o.stop()}};const Wl=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ct.test(e)||e==="0")&&!e.startsWith("url("));function Dx(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Rx(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=Wl(i,t),o=Wl(r,t);return!a||!o?!1:Dx(e)||(n==="spring"||Gf(n))&&s}function io(e){return yf(e)&&"offsetHeight"in e}const zx=new Set(["opacity","clipPath","filter","transform"]),Lx=Wa(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ix(e){var c;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:r,type:a}=e;if(!io((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Lx()&&n&&zx.has(n)&&(n!=="transform"||!l)&&!o&&!s&&i!=="mirror"&&r!==0&&a!=="inertia"}const Ox=40;let Fx=class extends to{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Ee.now();const h={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:a,name:l,motionValue:c,element:u,...f},m=(u==null?void 0:u.KeyframeResolver)||so;this.keyframeResolver=new m(o,(y,v,p)=>this.onKeyframesResolved(y,v,h,!p),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=s;this.resolvedAt=Ee.now(),Rx(t,r,a,o)||((mt.instantAnimations||!l)&&(u==null||u(eo(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Ox?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!c&&Ix(h)?new Vx({...h,element:h.motionValue.owner.current}):new no(h);m.finished.then(()=>this.notifyFinished()).catch(He),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Tx()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}};const Bx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ux(e){const t=Bx.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function Zf(e,t,n=1){const[s,i]=Ux(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const a=r.trim();return gf(a)?parseFloat(a):a}return qa(i)?Zf(i,t,n+1):i}function ro(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const qf=new Set(["width","height","top","left","right","bottom",...$n]),Wx={test:e=>e==="auto",parse:e=>e},Xf=e=>t=>t.test(e),Yf=[_n,B,it,xt,Dy,Vy,Wx],Hl=e=>Yf.find(Xf(e));function Hx(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xf(e):!0}const Gx=new Set(["brightness","contrast","saturate","opacity"]);function Kx(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Xa)||[];if(!s)return e;const i=n.replace(s,"");let r=Gx.has(t)?1:0;return s!==n&&(r*=100),t+"("+r+i+")"}const Zx=/\b([a-z-]*)\(.*?\)/gu,Ur={...Ct,getAnimatableNone:e=>{const t=e.match(Zx);return t?t.map(Kx).join(" "):e}},Gl={..._n,transform:Math.round},qx={rotate:xt,rotateX:xt,rotateY:xt,rotateZ:xt,scale:Ls,scaleX:Ls,scaleY:Ls,scaleZ:Ls,skew:xt,skewX:xt,skewY:xt,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:ls,originX:El,originY:El,originZ:B},ao={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,top:B,right:B,bottom:B,left:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,backgroundPositionX:B,backgroundPositionY:B,...qx,zIndex:Gl,fillOpacity:ls,strokeOpacity:ls,numOctaves:Gl},Xx={...ao,color:ge,backgroundColor:ge,outlineColor:ge,fill:ge,stroke:ge,borderColor:ge,borderTopColor:ge,borderRightColor:ge,borderBottomColor:ge,borderLeftColor:ge,filter:Ur,WebkitFilter:Ur},Jf=e=>Xx[e];function Qf(e,t){let n=Jf(e);return n!==Ur&&(n=Ct),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Yx=new Set(["auto","none","0"]);function Jx(e,t,n){let s=0,i;for(;s<e.length&&!i;){const r=e[s];typeof r=="string"&&!Yx.has(r)&&cs(r).values.length&&(i=e[s]),s++}if(i&&n)for(const r of t)e[r]=Qf(n,i)}let Qx=class extends so{constructor(t,n,s,i,r){super(t,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),qa(c))){const u=Zf(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!qf.has(s)||t.length!==2)return;const[i,r]=t,a=Hl(i),o=Hl(r);if(a!==o)if(Fl(a)&&Fl(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Ht[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||Hx(t[i]))&&s.push(i);s.length&&Jx(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ht[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,a=s[r];s[r]=Ht[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}};function e0(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const eh=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Kl=30,t0=e=>!isNaN(parseFloat(e));let n0=class{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var a,o;const r=Ee.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ee.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=t0(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ha);const s=this.events[t].add(n);return t==="change"?()=>{s(),le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ee.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kl)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kl);return vf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function vn(e,t){return new n0(e,t)}const{schedule:oo}=_f(queueMicrotask,!1),qe={x:!1,y:!1};function th(){return qe.x||qe.y}function s0(e){return e==="x"||e==="y"?qe[e]?null:(qe[e]=!0,()=>{qe[e]=!1}):qe.x||qe.y?null:(qe.x=qe.y=!0,()=>{qe.x=qe.y=!1})}function nh(e,t){const n=e0(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function Zl(e){return!(e.pointerType==="touch"||th())}function i0(e,t,n={}){const[s,i,r]=nh(e,n),a=o=>{if(!Zl(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{Zl(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return s.forEach(o=>{o.addEventListener("pointerenter",a,i)}),r}const sh=(e,t)=>t?e===t?!0:sh(e,t.parentElement):!1,lo=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,r0=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a0(e){return r0.has(e.tagName)||e.tabIndex!==-1}const Zs=new WeakSet;function ql(e){return t=>{t.key==="Enter"&&e(t)}}function Qi(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const o0=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ql(()=>{if(Zs.has(n))return;Qi(n,"down");const i=ql(()=>{Qi(n,"up")}),r=()=>Qi(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Xl(e){return lo(e)&&!th()}function l0(e,t,n={}){const[s,i,r]=nh(e,n),a=o=>{const l=o.currentTarget;if(!Xl(o))return;Zs.add(l);const c=t(l,o),u=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Zs.has(l)&&Zs.delete(l),Xl(m)&&typeof c=="function"&&c(m,{success:g})},f=m=>{u(m,l===window||l===document||n.useGlobalTarget||sh(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return s.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),io(o)&&(o.addEventListener("focus",c=>o0(c,i)),!a0(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function ih(e){return yf(e)&&"ownerSVGElement"in e}function c0(e){return ih(e)&&e.tagName==="svg"}const je=e=>!!(e&&e.getVelocity),u0=[...Yf,ge,Ct],d0=e=>u0.find(Xf(e)),co=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});let f0=class extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=io(s)&&s.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}};function h0({children:e,isPresent:t,anchorX:n}){const s=x.useId(),i=x.useRef(null),r=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=x.useContext(co);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=r.current;if(t||!i.current||!o||!l)return;const h=n==="left"?`left: ${u}`:`right: ${f}`;i.current.dataset.motionPopId=s;const m=document.createElement("style");return a&&(m.nonce=a),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),d.jsx(f0,{isPresent:t,childRef:i,sizeRef:r,children:x.cloneElement(e,{ref:i})})}const m0=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:a,anchorX:o})=>{const l=Ia(p0),c=x.useId();let u=!0,f=x.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const m of l.values())if(!m)return;s&&s()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,s]);return r&&u&&(f={...f}),x.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(e=d.jsx(h0,{isPresent:n,anchorX:o,children:e})),d.jsx(_i.Provider,{value:f,children:e})};function p0(){return new Map}function rh(e=!0){const t=x.useContext(_i);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,r=x.useId();x.useEffect(()=>{if(e)return i(r)},[e]);const a=x.useCallback(()=>e&&s&&s(r),[r,s,e]);return!n&&s?[!1,a]:[!0]}const Is=e=>e.key||"";function Yl(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Jl=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,c]=rh(a),u=x.useMemo(()=>Yl(e),[e]),f=a&&!l?[]:u.map(Is),h=x.useRef(!0),m=x.useRef(u),g=Ia(()=>new Map),[y,v]=x.useState(u),[p,w]=x.useState(u);pf(()=>{h.current=!1,m.current=u;for(let S=0;S<p.length;S++){const T=Is(p[S]);f.includes(T)?g.delete(T):g.get(T)!==!0&&g.set(T,!1)}},[p,f.length,f.join("-")]);const b=[];if(u!==y){let S=[...u];for(let T=0;T<p.length;T++){const C=p[T],j=Is(C);f.includes(j)||(S.splice(T,0,C),b.push(C))}return r==="wait"&&b.length&&(S=b),w(Yl(S)),v(u),null}const{forceRender:P}=x.useContext(La);return d.jsx(d.Fragment,{children:p.map(S=>{const T=Is(S),C=a&&!l?!1:u===p||f.includes(T),j=()=>{if(g.has(T))g.set(T,!0);else return;let k=!0;g.forEach($=>{$||(k=!1)}),k&&(P==null||P(),w(m.current),a&&(c==null||c()),s&&s())};return d.jsx(m0,{isPresent:C,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,onExitComplete:C?void 0:j,anchorX:o,children:S},T)})})},ah=x.createContext({strict:!1}),Ql={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bn={};for(const e in Ql)bn[e]={isEnabled:t=>Ql[e].some(n=>!!t[n])};function g0(e){for(const t in e)bn[t]={...bn[t],...e[t]}}const y0=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ui(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||y0.has(e)}let oh=e=>!ui(e);function x0(e){typeof e=="function"&&(oh=t=>t.startsWith("on")?!ui(t):e(t))}try{x0(require("@emotion/is-prop-valid").default)}catch{}function v0(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(oh(i)||n===!0&&ui(i)||!t&&!ui(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function b0(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const $i=x.createContext({});function Mi(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function us(e){return typeof e=="string"||Array.isArray(e)}const uo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fo=["initial",...uo];function Ei(e){return Mi(e.animate)||fo.some(t=>us(e[t]))}function lh(e){return!!(Ei(e)||e.variants)}function w0(e,t){if(Ei(e)){const{initial:n,animate:s}=e;return{initial:n===!1||us(n)?n:void 0,animate:us(s)?s:void 0}}return e.inherit!==!1?t:{}}function S0(e){const{initial:t,animate:n}=w0(e,x.useContext($i));return x.useMemo(()=>({initial:t,animate:n}),[ec(t),ec(n)])}function ec(e){return Array.isArray(e)?e.join(" "):e}const T0=Symbol.for("motionComponentSymbol");function on(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function P0(e,t,n){return x.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):on(n)&&(n.current=s))},[t])}const ho=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),C0="framerAppearId",ch="data-"+ho(C0),uh=x.createContext({});function j0(e,t,n,s,i){var y,v;const{visualElement:r}=x.useContext($i),a=x.useContext(ah),o=x.useContext(_i),l=x.useContext(co).reducedMotion,c=x.useRef(null);s=s||a.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=x.useContext(uh);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&A0(c.current,n,i,f);const h=x.useRef(!1);x.useInsertionEffect(()=>{u&&h.current&&u.update(n,o)});const m=n[ch],g=x.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return pf(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),oo.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),g.current=!1))}),u}function A0(e,t,n,s){const{layoutId:i,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dh(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||o&&on(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:l,layoutRoot:c})}function dh(e){if(e)return e.options.allowProjection!==!1?e.projection:dh(e.parent)}function N0({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&g0(e);function r(o,l){let c;const u={...x.useContext(co),...o,layoutId:k0(o)},{isStatic:f}=u,h=S0(o),m=s(o,f);if(!f&&Oa){_0();const g=$0(u);c=g.MeasureLayout,h.visualElement=j0(i,m,u,t,g.ProjectionNode)}return d.jsxs($i.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,o,P0(m,h.visualElement,l),m,f,h.visualElement)]})}r.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=x.forwardRef(r);return a[T0]=i,a}function k0({layoutId:e}){const t=x.useContext(La).id;return t&&e!==void 0?t+"-"+e:e}function _0(e,t){x.useContext(ah).strict}function $0(e){const{drag:t,layout:n}=bn;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const ds={};function M0(e){for(const t in e)ds[t]=e[t],Za(t)&&(ds[t].isCSSVariable=!0)}function fh(e,{layout:t,layoutId:n}){return Mn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ds[e]||e==="opacity")}const E0={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V0=$n.length;function D0(e,t,n){let s="",i=!0;for(let r=0;r<V0;r++){const a=$n[r],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=eh(o,ao[a]);if(!l){i=!1;const u=E0[a]||a;s+=`${u}(${c}) `}n&&(t[a]=c)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function mo(e,t,n){const{style:s,vars:i,transformOrigin:r}=e;let a=!1,o=!1;for(const l in t){const c=t[l];if(Mn.has(l)){a=!0;continue}else if(Za(l)){i[l]=c;continue}else{const u=eh(c,ao[l]);l.startsWith("origin")?(o=!0,r[l]=u):s[l]=u}}if(t.transform||(a||n?s.transform=D0(t,e.transform,n):s.transform&&(s.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;s.transformOrigin=`${l} ${c} ${u}`}}const po=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hh(e,t,n){for(const s in t)!je(t[s])&&!fh(s,n)&&(e[s]=t[s])}function R0({transformTemplate:e},t){return x.useMemo(()=>{const n=po();return mo(n,t,e),Object.assign({},n.vars,n.style)},[t])}function z0(e,t){const n=e.style||{},s={};return hh(s,n,e),Object.assign(s,R0(e,t)),s}function L0(e,t){const n={},s=z0(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const I0={offset:"stroke-dashoffset",array:"stroke-dasharray"},O0={offset:"strokeDashoffset",array:"strokeDasharray"};function F0(e,t,n=1,s=0,i=!0){e.pathLength=1;const r=i?I0:O0;e[r.offset]=B.transform(-s);const a=B.transform(t),o=B.transform(n);e[r.array]=`${a} ${o}`}function mh(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:a=0,...o},l,c,u){if(mo(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),i!==void 0&&F0(f,i,r,a,!1)}const ph=()=>({...po(),attrs:{}}),gh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function B0(e,t,n,s){const i=x.useMemo(()=>{const r=ph();return mh(r,t,gh(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};hh(r,e.style,e),i.style={...r,...i.style}}return i}const U0=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function go(e){return typeof e!="string"||e.includes("-")?!1:!!(U0.indexOf(e)>-1||/[A-Z]/u.test(e))}function W0(e=!1){return(n,s,i,{latestValues:r},a)=>{const l=(go(n)?B0:L0)(s,r,a,n),c=v0(s,typeof n=="string",e),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:f}=s,h=x.useMemo(()=>je(f)?f.get():f,[f]);return x.createElement(n,{...u,children:h})}}function tc(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function yo(e,t,n,s){if(typeof t=="function"){const[i,r]=tc(s);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=tc(s);t=t(n!==void 0?n:e.custom,i,r)}return t}function qs(e){return je(e)?e.get():e}function H0({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:G0(n,s,i,e),renderState:t()}}const yh=e=>(t,n)=>{const s=x.useContext($i),i=x.useContext(_i),r=()=>H0(e,t,s,i);return n?r():Ia(r)};function G0(e,t,n,s){const i={},r=s(e,{});for(const h in r)i[h]=qs(r[h]);let{initial:a,animate:o}=e;const l=Ei(e),c=lh(e);t&&c&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const f=u?o:a;if(f&&typeof f!="boolean"&&!Mi(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=yo(e,h[m]);if(g){const{transitionEnd:y,transition:v,...p}=g;for(const w in p){let b=p[w];if(Array.isArray(b)){const P=u?b.length-1:0;b=b[P]}b!==null&&(i[w]=b)}for(const w in y)i[w]=y[w]}}}return i}function xo(e,t,n){var r;const{style:s}=e,i={};for(const a in s)(je(s[a])||t.style&&je(t.style[a])||fh(a,e)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}const K0={useVisualState:yh({scrapeMotionValuesFromProps:xo,createRenderState:po})};function xh(e,t,n){const s=xo(e,t,n);for(const i in e)if(je(e[i])||je(t[i])){const r=$n.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=e[i]}return s}const Z0={useVisualState:yh({scrapeMotionValuesFromProps:xh,createRenderState:ph})};function q0(e,t){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...go(s)?Z0:K0,preloadedFeatures:e,useRender:W0(i),createVisualElement:t,Component:s};return N0(a)}}function fs(e,t,n){const s=e.getProps();return yo(s,t,n!==void 0?n:s.custom,e)}const Wr=e=>Array.isArray(e);function X0(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,vn(n))}function Y0(e){return Wr(e)?e[e.length-1]||0:e}function J0(e,t){const n=fs(e,t);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const a in r){const o=Y0(r[a]);X0(e,a,o)}}function Q0(e){return!!(je(e)&&e.add)}function Hr(e,t){const n=e.getValue("willChange");if(Q0(n))return n.add(t);if(!n&&mt.WillChange){const s=new mt.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function vh(e){return e.props[ch]}const ev=e=>e!==null;function tv(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(ev),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}const nv={type:"spring",stiffness:500,damping:25,restSpeed:10},sv=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iv={type:"keyframes",duration:.8},rv={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},av=(e,{keyframes:t})=>t.length>2?iv:Mn.has(e)?e.startsWith("scale")?sv(t[1]):nv:rv;function ov({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const vo=(e,t,n,s={},i,r)=>a=>{const o=ro(s,e)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c=c-nt(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:i};ov(o)||Object.assign(u,av(e,u)),u.duration&&(u.duration=nt(u.duration)),u.repeatDelay&&(u.repeatDelay=nt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(mt.instantAnimations||mt.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!r&&t.get()!==void 0){const h=tv(u.keyframes,o);if(h!==void 0){le.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new no(u):new Fx(u)};function lv({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function bh(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:a,...o}=t;s&&(r=s);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&lv(c,u))continue;const m={delay:n,...ro(r||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const p=vh(e);if(p){const w=window.MotionHandoffAnimation(p,u,le);w!==null&&(m.startTime=w,y=!0)}}Hr(e,u),f.start(vo(u,f,h,e.shouldReduceMotion&&qf.has(u)?{type:!1}:m,e,y));const v=f.animation;v&&l.push(v)}return a&&Promise.all(l).then(()=>{le.update(()=>{a&&J0(e,a)})}),l}function Gr(e,t,n={}){var l;const s=fs(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(bh(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return cv(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[r,a]:[a,r];return c().then(()=>u())}else return Promise.all([r(),a(n.delay)])}function cv(e,t,n=0,s=0,i=1,r){const a=[],o=(e.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>o-c*s;return Array.from(e.variantChildren).sort(uv).forEach((c,u)=>{c.notify("AnimationStart",t),a.push(Gr(c,t,{...r,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(a)}function uv(e,t){return e.sortNodePosition(t)}function dv(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(r=>Gr(e,r,n));s=Promise.all(i)}else if(typeof t=="string")s=Gr(e,t,n);else{const i=typeof t=="function"?fs(e,t,n.custom):t;s=Promise.all(bh(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function wh(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const fv=fo.length;function Sh(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Sh(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<fv;n++){const s=fo[n],i=e.props[s];(us(i)||i===!1)&&(t[s]=i)}return t}const hv=[...uo].reverse(),mv=uo.length;function pv(e){return t=>Promise.all(t.map(({animation:n,options:s})=>dv(e,n,s)))}function gv(e){let t=pv(e),n=nc(),s=!0;const i=l=>(c,u)=>{var h;const f=fs(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...y}=f;c={...c,...y,...g}}return c};function r(l){t=l(e)}function a(l){const{props:c}=e,u=Sh(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let v=0;v<mv;v++){const p=hv[v],w=n[p],b=c[p]!==void 0?c[p]:u[p],P=us(b),S=p===l?w.isActive:null;S===!1&&(g=v);let T=b===u[p]&&b!==c[p]&&P;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...m},!w.isActive&&S===null||!b&&!w.prevProp||Mi(b)||typeof b=="boolean")continue;const C=yv(w.prevProp,b);let j=C||p===l&&w.isActive&&!T&&P||v>g&&P,k=!1;const $=Array.isArray(b)?b:[b];let z=$.reduce(i(p),{});S===!1&&(z={});const{prevResolvedValues:q={}}=w,ve={...q,...z},M=Y=>{j=!0,h.has(Y)&&(k=!0,h.delete(Y)),w.needsAnimating[Y]=!0;const ie=e.getValue(Y);ie&&(ie.liveStyle=!1)};for(const Y in ve){const ie=z[Y],Ne=q[Y];if(m.hasOwnProperty(Y))continue;let Me=!1;Wr(ie)&&Wr(Ne)?Me=!wh(ie,Ne):Me=ie!==Ne,Me?ie!=null?M(Y):h.add(Y):ie!==void 0&&h.has(Y)?M(Y):w.protectedKeys[Y]=!0}w.prevProp=b,w.prevResolvedValues=z,w.isActive&&(m={...m,...z}),s&&e.blockInitialAnimation&&(j=!1),j&&(!(T&&C)||k)&&f.push(...$.map(Y=>({animation:Y,options:{type:p}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const p=fs(e,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(v.transition=p.transition)}h.forEach(p=>{const w=e.getBaseTarget(p),b=e.getValue(p);b&&(b.liveStyle=!0),v[p]=w??null}),f.push({animation:v})}let y=!!f.length;return s&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(f):Promise.resolve()}function o(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=a(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=nc(),s=!0}}}function yv(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!wh(t,e):!1}function Vt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nc(){return{animate:Vt(!0),whileInView:Vt(),whileHover:Vt(),whileTap:Vt(),whileDrag:Vt(),whileFocus:Vt(),exit:Vt()}}let _t=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},xv=class extends _t{constructor(t){super(t),t.animationState||(t.animationState=gv(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mi(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}},vv=0,bv=class extends _t{constructor(){super(...arguments),this.id=vv++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const wv={animation:{Feature:xv},exit:{Feature:bv}};function hs(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function As(e){return{point:{x:e.pageX,y:e.pageY}}}const Sv=e=>t=>lo(t)&&e(t,As(t));function Zn(e,t,n,s){return hs(e,t,Sv(n),s)}function Th({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Tv({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Pv(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const Ph=1e-4,Cv=1-Ph,jv=1+Ph,Ch=.01,Av=0-Ch,Nv=0+Ch;function _e(e){return e.max-e.min}function kv(e,t,n){return Math.abs(e-t)<=n}function sc(e,t,n,s=.5){e.origin=s,e.originPoint=ae(t.min,t.max,e.origin),e.scale=_e(n)/_e(t),e.translate=ae(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Cv&&e.scale<=jv||isNaN(e.scale))&&(e.scale=1),(e.translate>=Av&&e.translate<=Nv||isNaN(e.translate))&&(e.translate=0)}function qn(e,t,n,s){sc(e.x,t.x,n.x,s?s.originX:void 0),sc(e.y,t.y,n.y,s?s.originY:void 0)}function ic(e,t,n){e.min=n.min+t.min,e.max=e.min+_e(t)}function _v(e,t,n){ic(e.x,t.x,n.x),ic(e.y,t.y,n.y)}function rc(e,t,n){e.min=t.min-n.min,e.max=e.min+_e(t)}function Xn(e,t,n){rc(e.x,t.x,n.x),rc(e.y,t.y,n.y)}const ac=()=>({translate:0,scale:1,origin:0,originPoint:0}),ln=()=>({x:ac(),y:ac()}),oc=()=>({min:0,max:0}),me=()=>({x:oc(),y:oc()});function Be(e){return[e("x"),e("y")]}function er(e){return e===void 0||e===1}function Kr({scale:e,scaleX:t,scaleY:n}){return!er(e)||!er(t)||!er(n)}function zt(e){return Kr(e)||jh(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function jh(e){return lc(e.x)||lc(e.y)}function lc(e){return e&&e!=="0%"}function di(e,t,n){const s=e-n,i=t*s;return n+i}function cc(e,t,n,s,i){return i!==void 0&&(e=di(e,i,s)),di(e,n,s)+t}function Zr(e,t=0,n=1,s,i){e.min=cc(e.min,t,n,s,i),e.max=cc(e.max,t,n,s,i)}function Ah(e,{x:t,y:n}){Zr(e.x,t.translate,t.scale,t.originPoint),Zr(e.y,n.translate,n.scale,n.originPoint)}const uc=.999999999999,dc=1.0000000000001;function $v(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,a;for(let o=0;o<i;o++){r=n[o],a=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&un(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Ah(e,a)),s&&zt(r.latestValues)&&un(e,r.latestValues))}t.x<dc&&t.x>uc&&(t.x=1),t.y<dc&&t.y>uc&&(t.y=1)}function cn(e,t){e.min=e.min+t,e.max=e.max+t}function fc(e,t,n,s,i=.5){const r=ae(e.min,e.max,i);Zr(e,t,n,r,s)}function un(e,t){fc(e.x,t.x,t.scaleX,t.scale,t.originX),fc(e.y,t.y,t.scaleY,t.scale,t.originY)}function Nh(e,t){return Th(Pv(e.getBoundingClientRect(),t))}function Mv(e,t,n){const s=Nh(e,n),{scroll:i}=t;return i&&(cn(s.x,i.offset.x),cn(s.y,i.offset.y)),s}const kh=({current:e})=>e?e.ownerDocument.defaultView:null,hc=(e,t)=>Math.abs(e-t);function Ev(e,t){const n=hc(e.x,t.x),s=hc(e.y,t.y);return Math.sqrt(n**2+s**2)}let _h=class{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=nr(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Ev(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:y}=Se;this.history.push({...g,timestamp:y});const{onStart:v,onMove:p}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=tr(h,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=nr(f.type==="pointercancel"?this.lastMoveEventInfo:tr(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),g&&g(f,v)},!lo(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const a=As(t),o=tr(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Se;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,nr(o,this.history)),this.removeListeners=Ps(Zn(this.contextWindow,"pointermove",this.handlePointerMove),Zn(this.contextWindow,"pointerup",this.handlePointerUp),Zn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pt(this.updatePoint)}};function tr(e,t){return t?{point:t(e.point)}:e}function mc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nr({point:e},t){return{point:e,delta:mc(e,$h(t)),offset:mc(e,Vv(t)),velocity:Dv(t,.1)}}function Vv(e){return e[0]}function $h(e){return e[e.length-1]}function Dv(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=$h(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>nt(t)));)n--;if(!s)return{x:0,y:0};const r=st(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Rv(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ae(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ae(n,e,s.max):Math.min(e,n)),e}function pc(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function zv(e,{top:t,left:n,bottom:s,right:i}){return{x:pc(e.x,n,i),y:pc(e.y,t,s)}}function gc(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Lv(e,t){return{x:gc(e.x,t.x),y:gc(e.y,t.y)}}function Iv(e,t){let n=.5;const s=_e(e),i=_e(t);return i>s?n=os(t.min,t.max-s,e.min):s>i&&(n=os(e.min,e.max-i,t.min)),ht(0,1,n)}function Ov(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const qr=.35;function Fv(e=qr){return e===!1?e=0:e===!0&&(e=qr),{x:yc(e,"left","right"),y:yc(e,"top","bottom")}}function yc(e,t,n){return{min:xc(e,t),max:xc(e,n)}}function xc(e,t){return typeof e=="number"?e:e[t]||0}const Bv=new WeakMap;let Uv=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=me(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(As(u).point)},r=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=s0(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Be(v=>{let p=this.getAxisMotionValue(v).get()||0;if(it.test(p)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[v];b&&(p=_e(b)*(parseFloat(p)/100))}}this.originPoint[v]=p}),g&&le.postRender(()=>g(u,f)),Hr(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=Wv(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),y&&y(u,f)},o=(u,f)=>this.stop(u,f),l=()=>Be(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _h(t,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:kh(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&le.postRender(()=>r(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Os(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=Rv(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&on(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=zv(s.layoutBox,t):this.constraints=!1,this.elastic=Fv(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Be(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Ov(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!on(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=Mv(s,i.root,this.visualElement.getTransformPagePoint());let a=Lv(i.layout.layoutBox,r);if(n){const o=n(Tv(a));this.hasMutatedConstraints=!!o,o&&(a=Th(o))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Be(u=>{if(!Os(u,n,this.currentDirection))return;let f=l&&l[u]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:s?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Hr(this.visualElement,t),s.start(vo(t,s,0,n,this.visualElement,!1))}stopAnimation(){Be(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Be(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Be(n=>{const{drag:s}=this.getProps();if(!Os(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];r.set(t[n]-ae(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!on(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Be(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=Iv({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Be(a=>{if(!Os(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ae(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;Bv.set(this.visualElement,this);const t=this.visualElement.current,n=Zn(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();on(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),le.read(s);const a=hs(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Be(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=qr,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o}}};function Os(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Wv(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let Hv=class extends _t{constructor(t){super(t),this.removeGroupControls=He,this.removeListeners=He,this.controls=new Uv(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||He}unmount(){this.removeGroupControls(),this.removeListeners()}};const vc=e=>(t,n)=>{e&&le.postRender(()=>e(t,n))};let Gv=class extends _t{constructor(){super(...arguments),this.removePointerDownListener=He}onPointerDown(t){this.session=new _h(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kh(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:vc(t),onStart:vc(n),onMove:s,onEnd:(r,a)=>{delete this.session,i&&le.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=Zn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Xs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const In={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(B.test(e))e=parseFloat(e);else return e;const n=bc(e,t.target.x),s=bc(e,t.target.y);return`${n}% ${s}%`}},Kv={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Ct.parse(e);if(i.length>5)return s;const r=Ct.createTransformer(e),a=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=l;const c=ae(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),r(i)}};let Zv=class extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=t;M0(qv),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Xs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:a}=s;return a&&(a.isPresent=r,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||le.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oo.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function Mh(e){const[t,n]=rh(),s=x.useContext(La);return d.jsx(Zv,{...e,layoutGroup:s,switchLayoutGroup:x.useContext(uh),isPresent:t,safeToRemove:n})}const qv={borderRadius:{...In,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:In,borderTopRightRadius:In,borderBottomLeftRadius:In,borderBottomRightRadius:In,boxShadow:Kv};function Xv(e,t,n){const s=je(e)?e:vn(e);return s.start(vo("",s,t,n)),s.animation}const Yv=(e,t)=>e.depth-t.depth;let Jv=class{constructor(){this.children=[],this.isDirty=!1}add(t){Fa(this.children,t),this.isDirty=!0}remove(t){Ba(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Yv),this.isDirty=!1,this.children.forEach(t)}};function Qv(e,t){const n=Ee.now(),s=({timestamp:i})=>{const r=i-n;r>=t&&(Pt(s),e(r-t))};return le.setup(s,!0),()=>Pt(s)}const Eh=["TopLeft","TopRight","BottomLeft","BottomRight"],eb=Eh.length,wc=e=>typeof e=="string"?parseFloat(e):e,Sc=e=>typeof e=="number"||B.test(e);function tb(e,t,n,s,i,r){i?(e.opacity=ae(0,n.opacity??1,nb(s)),e.opacityExit=ae(t.opacity??1,0,sb(s))):r&&(e.opacity=ae(t.opacity??1,n.opacity??1,s));for(let a=0;a<eb;a++){const o=`border${Eh[a]}Radius`;let l=Tc(t,o),c=Tc(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Sc(l)===Sc(c)?(e[o]=Math.max(ae(wc(l),wc(c),s),0),(it.test(c)||it.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=ae(t.rotate||0,n.rotate||0,s))}function Tc(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nb=Vh(0,.5,jf),sb=Vh(.5,.95,He);function Vh(e,t,n){return s=>s<e?0:s>t?1:n(os(e,t,s))}function Pc(e,t){e.min=t.min,e.max=t.max}function Oe(e,t){Pc(e.x,t.x),Pc(e.y,t.y)}function Cc(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function jc(e,t,n,s,i){return e-=t,e=di(e,1/n,s),i!==void 0&&(e=di(e,1/i,s)),e}function ib(e,t=0,n=1,s=.5,i,r=e,a=e){if(it.test(t)&&(t=parseFloat(t),t=ae(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ae(r.min,r.max,s);e===r&&(o-=t),e.min=jc(e.min,t,n,o,i),e.max=jc(e.max,t,n,o,i)}function Ac(e,t,[n,s,i],r,a){ib(e,t[n],t[s],t[i],t.scale,r,a)}const rb=["x","scaleX","originX"],ab=["y","scaleY","originY"];function Nc(e,t,n,s){Ac(e.x,t,rb,n?n.x:void 0,s?s.x:void 0),Ac(e.y,t,ab,n?n.y:void 0,s?s.y:void 0)}function kc(e){return e.translate===0&&e.scale===1}function Dh(e){return kc(e.x)&&kc(e.y)}function _c(e,t){return e.min===t.min&&e.max===t.max}function ob(e,t){return _c(e.x,t.x)&&_c(e.y,t.y)}function $c(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Rh(e,t){return $c(e.x,t.x)&&$c(e.y,t.y)}function Mc(e){return _e(e.x)/_e(e.y)}function Ec(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}let lb=class{constructor(){this.members=[]}add(t){Fa(this.members,t),t.scheduleRender()}remove(t){if(Ba(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function cb(e,t,n){let s="";const i=e.x.translate/t.x,r=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||r||a)&&(s=`translate3d(${i}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),h&&(s+=`rotateY(${h}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const sr=["","X","Y","Z"],ub={visibility:"hidden"},db=1e3;let fb=0;function ir(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function zh(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vh(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",le,!(i||r))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&zh(s)}function Lh({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},o=t==null?void 0:t()){this.id=fb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pb),this.nodes.forEach(bb),this.nodes.forEach(wb),this.nodes.forEach(gb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jv)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ha),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=ih(a)&&!c0(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Qv(f,250),Xs.hasAnimatedSinceResize&&(Xs.hasAnimatedSinceResize=!1,this.nodes.forEach(Dc))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||jb,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=c.getProps(),p=!this.targetLayout||!Rh(this.targetLayout,m),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...ro(g,"layout"),onPlay:y,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,w)}else f||Dc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sb),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zh(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vc);return}this.isUpdating||this.nodes.forEach(xb),this.isUpdating=!1,this.nodes.forEach(vb),this.nodes.forEach(hb),this.nodes.forEach(mb),this.clearAllSnapshots();const o=Ee.now();Se.delta=ht(0,1e3/60,o-Se.timestamp),Se.timestamp=o,Se.isProcessing=!0,Zi.update.process(Se),Zi.preRender.process(Se),Zi.render.process(Se),Se.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oo.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yb),this.sharedNodes.forEach(Tb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_e(this.snapshot.measuredBox.x)&&!_e(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Dh(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||zt(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Ab(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return me();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Nb))){const{scroll:u}=this.root;u&&(cn(o.x,u.offset.x),cn(o.y,u.offset.y))}return o}removeElementScroll(a){var l;const o=me();if(Oe(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Oe(o,a),cn(o.x,f.offset.x),cn(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=me();Oe(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&un(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),zt(u.latestValues)&&un(l,u.latestValues)}return zt(this.latestValues)&&un(l,this.latestValues),l}removeTransform(a){const o=me();Oe(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!zt(c.latestValues))continue;Kr(c.latestValues)&&c.updateSnapshot();const u=me(),f=c.measurePageBox();Oe(u,f),Nc(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return zt(this.latestValues)&&Nc(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Se.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Se.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),Xn(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Oe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=me(),this.targetWithTransforms=me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_v(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oe(this.target,this.layout.layoutBox),Ah(this.target,this.targetDelta)):Oe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),Xn(this.relativeTargetOrigin,this.target,m.target),Oe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Kr(this.parent.latestValues)||jh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Se.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Oe(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;$v(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=me());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cc(this.prevProjectionDelta.x,this.projectionDelta.x),Cc(this.prevProjectionDelta.y,this.projectionDelta.y)),qn(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Ec(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ec(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ln(),this.projectionDelta=ln(),this.projectionDeltaWithTransform=ln()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ln();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=me(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,v=this.getStack(),p=!v||v.members.length<=1,w=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(Cb));this.animationProgress=0;let b;this.mixTargetDelta=P=>{const S=P/1e3;Rc(f.x,a.x,S),Rc(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xn(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Pb(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&ob(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=me()),Oe(b,this.relativeTarget)),y&&(this.animationValues=u,tb(u,c,this.latestValues,S,w,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Pt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{Xs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vn(0)),this.currentAnimation=Xv(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(db),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Ih(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||me();const f=_e(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=_e(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Oe(o,l),un(o,u),qn(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new lb),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&ir("z",a,c,this.animationValues);for(let u=0;u<sr.length;u++)ir(`rotate${sr[u]}`,a,c,this.animationValues),ir(`skew${sr[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ub;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=qs(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=qs(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!zt(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=cb(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in ds){if(u[m]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:v}=ds[m],p=o.transform==="none"?u[m]:g(u[m],c);if(y){const w=y.length;for(let b=0;b<w;b++)o[y[b]]=p}else v?this.options.visualElement.renderState.vars[m]=p:o[m]=p}return this.options.layoutId&&(o.pointerEvents=c===this?qs(a==null?void 0:a.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Vc),this.root.sharedNodes.clear()}}}function hb(e){e.updateLayout()}function mb(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;r==="size"?Be(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=_e(h);h.min=s[f].min,h.max=h.min+m}):Ih(r,t.layoutBox,s)&&Be(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=_e(s[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=ln();qn(o,s,t.layoutBox);const l=ln();a?qn(l,e.applyTransform(i,!0),t.measuredBox):qn(l,s,t.layoutBox);const c=!Dh(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=me();Xn(g,t.layoutBox,h.layoutBox);const y=me();Xn(y,s,m.layoutBox),Rh(g,y)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function pb(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gb(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yb(e){e.clearSnapshot()}function Vc(e){e.clearMeasurements()}function xb(e){e.isLayoutDirty=!1}function vb(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Dc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bb(e){e.resolveTargetDelta()}function wb(e){e.calcProjection()}function Sb(e){e.resetSkewAndRotation()}function Tb(e){e.removeLeadSnapshot()}function Rc(e,t,n){e.translate=ae(t.translate,0,n),e.scale=ae(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zc(e,t,n,s){e.min=ae(t.min,n.min,s),e.max=ae(t.max,n.max,s)}function Pb(e,t,n,s){zc(e.x,t.x,n.x,s),zc(e.y,t.y,n.y,s)}function Cb(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jb={duration:.45,ease:[.4,0,.1,1]},Lc=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ic=Lc("applewebkit/")&&!Lc("chrome/")?Math.round:He;function Oc(e){e.min=Ic(e.min),e.max=Ic(e.max)}function Ab(e){Oc(e.x),Oc(e.y)}function Ih(e,t,n){return e==="position"||e==="preserve-aspect"&&!kv(Mc(t),Mc(n),.2)}function Nb(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const kb=Lh({attachResizeListener:(e,t)=>hs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rr={current:void 0},Oh=Lh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rr.current){const e=new kb({});e.mount(window),e.setOptions({layoutScroll:!0}),rr.current=e}return rr.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_b={pan:{Feature:Gv},drag:{Feature:Hv,ProjectionNode:Oh,MeasureLayout:Mh}};function Fc(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&le.postRender(()=>r(t,As(t)))}let $b=class extends _t{mount(){const{current:t}=this.node;t&&(this.unmount=i0(t,(n,s)=>(Fc(this.node,s,"Start"),i=>Fc(this.node,i,"End"))))}unmount(){}},Mb=class extends _t{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ps(hs(this.node.current,"focus",()=>this.onFocus()),hs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function Bc(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&le.postRender(()=>r(t,As(t)))}let Eb=class extends _t{mount(){const{current:t}=this.node;t&&(this.unmount=l0(t,(n,s)=>(Bc(this.node,s,"Start"),(i,{success:r})=>Bc(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const Xr=new WeakMap,ar=new WeakMap,Vb=e=>{const t=Xr.get(e.target);t&&t(e)},Db=e=>{e.forEach(Vb)};function Rb({root:e,...t}){const n=e||document;ar.has(n)||ar.set(n,{});const s=ar.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(Db,{root:e,...t})),s[i]}function zb(e,t,n){const s=Rb(t);return Xr.set(e,n),s.observe(e),()=>{Xr.delete(e),s.unobserve(e)}}const Lb={some:0,all:1};let Ib=class extends _t{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Lb[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return zb(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ob(t,n))&&this.startObserver()}unmount(){}};function Ob({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fb={inView:{Feature:Ib},tap:{Feature:Eb},focus:{Feature:Mb},hover:{Feature:$b}},Bb={layout:{ProjectionNode:Oh,MeasureLayout:Mh}},Yr={current:null},Fh={current:!1};function Ub(){if(Fh.current=!0,!!Oa)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yr.current=e.matches;e.addListener(t),t()}else Yr.current=!1}const Wb=new WeakMap;function Hb(e,t,n){for(const s in t){const i=t[s],r=n[s];if(je(i))e.addValue(s,i);else if(je(r))e.addValue(s,vn(i,{owner:e}));else if(r!==i)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,vn(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Uc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Gb=class{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=so,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ee.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,le.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Ei(n),this.isVariantNode=lh(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&je(m)&&m.set(l[h],!1)}}mount(t){this.current=t,Wb.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Fh.current||Ub(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pt(this.notifyUpdate),Pt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Mn.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bn){const n=bn[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Uc.length;s++){const i=Uc[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=t[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Hb(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=vn(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(gf(s)||xf(s))?s=parseFloat(s):!d0(s)&&Ct.test(n)&&(s=Qf(t,n)),this.setBaseTarget(t,je(s)?s.get():s)),je(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=yo(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!je(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ha),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}},Bh=class extends Gb{constructor(){super(...arguments),this.KeyframeResolver=Qx}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;je(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function Uh(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const r in n)e.style.setProperty(r,n[r])}function Kb(e){return window.getComputedStyle(e)}let Zb=class extends Bh{constructor(){super(...arguments),this.type="html",this.renderInstance=Uh}readValueFromInstance(t,n){var s;if(Mn.has(n))return(s=this.projection)!=null&&s.isProjecting?Lr(n):xx(t,n);{const i=Kb(t),r=(Za(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Nh(t,n)}build(t,n,s){mo(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return xo(t,n,s)}};const Wh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qb(e,t,n,s){Uh(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Wh.has(i)?i:ho(i),t.attrs[i])}let Xb=class extends Bh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=me}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Mn.has(n)){const s=Jf(n);return s&&s.default||0}return n=Wh.has(n)?n:ho(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return xh(t,n,s)}build(t,n,s){mh(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){qb(t,n,s,i)}mount(t){this.isSVGTag=gh(t.tagName),super.mount(t)}};const Yb=(e,t)=>go(e)?new Xb(t):new Zb(t,{allowProjection:e!==x.Fragment}),Jb=q0({...wv,...Fb,..._b,...Bb},Yb),we=b0(Jb),Qb=({currentConfig:e,onSaveTemplate:t,onSaveConfig:n,onExportResults:s,onUpdateConfig:i,isDesktop:r,isLoading:a})=>{const[o,l]=x.useState(!1),[c,u]=x.useState(e.name),[f,h]=x.useState(!1),m=()=>{c.trim()&&(i({...e,name:c.trim(),updatedAt:new Date}),l(!1))},g=()=>{u(e.name),l(!1)};return d.jsxs(we.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,type:"spring",stiffness:300,damping:25},whileHover:{scale:1.01,transition:{duration:.2}},onHoverStart:()=>h(!0),onHoverEnd:()=>h(!1),className:`relative p-4 bg-gradient-to-br from-zinc-900 via-zinc-900 to-zinc-800 \r
                 border border-zinc-600/40 rounded-lg overflow-hidden group shadow-lg`,children:[d.jsx(we.div,{initial:{opacity:.3},animate:{opacity:f?.7:.3,scale:f?1.1:1},transition:{duration:.3},className:"pointer-events-none absolute top-0 left-0 w-2.5 h-2.5 border-t-2 border-l-2 border-yellow-400/70 rounded-tl-lg"}),d.jsx(we.div,{initial:{opacity:.3},animate:{opacity:f?.7:.3,scale:f?1.1:1},transition:{duration:.3,delay:.1},className:"pointer-events-none absolute bottom-0 right-0 w-2.5 h-2.5 border-b-2 border-r-2 border-yellow-400/70 rounded-br-lg"}),d.jsx(we.div,{initial:{opacity:0},animate:{opacity:f?.08:0},transition:{duration:.3},className:"pointer-events-none absolute inset-0 bg-gradient-to-br from-white/10 via-zinc-400/5 to-zinc-600/10 rounded-lg"}),d.jsxs("div",{className:"relative flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1 mr-2",children:[d.jsx(Jl,{mode:"wait",children:o?d.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:c,onChange:y=>u(y.target.value),onKeyDown:y=>{y.key==="Enter"&&m(),y.key==="Escape"&&g()},className:`font-roboto font-medium text-base text-zinc-100 bg-zinc-800/60 \r
                           border border-yellow-400/40 rounded-md px-2 py-1 focus:outline-none \r
                           focus:ring-1 focus:ring-yellow-400/50 focus:border-yellow-400/60 w-full`,autoFocus:!0}),d.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:m,className:"p-1 text-green-400 hover:bg-green-400/20 rounded transition-colors flex-shrink-0",children:d.jsx(Nd,{className:"h-3.5 w-3.5"})}),d.jsx(we.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:g,className:"p-1 text-red-400 hover:bg-red-400/20 rounded transition-colors flex-shrink-0",children:d.jsx(kd,{className:"h-3.5 w-3.5"})})]},"editing"):d.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"flex items-center gap-2 group/title cursor-pointer",onClick:()=>l(!0),children:[d.jsx("h3",{className:"font-roboto font-medium text-base text-zinc-100 leading-tight",children:e.name}),d.jsx(we.div,{initial:{opacity:0,scale:.8},animate:{opacity:f?1:0,scale:f?1:.8},transition:{duration:.2},children:d.jsx(Up,{className:"h-3.5 w-3.5 text-yellow-400/60 group-hover/title:text-yellow-400"})})]},"display")}),d.jsxs(we.p,{className:"text-xs text-zinc-400 mt-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[e.samplePairs.length," sample pair",e.samplePairs.length!==1?"s":""]})]}),d.jsx(we.div,{whileHover:{rotate:180},transition:{duration:.3},children:d.jsx(_d,{className:"h-4 w-4 text-zinc-400"})})]}),d.jsxs(we.div,{className:"text-xs text-zinc-500 space-y-1.5 mb-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Simulations:"}),d.jsx("span",{className:"font-mono text-zinc-300",children:e.simulationCount.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Confidence:"}),d.jsxs("span",{className:"font-mono text-zinc-300",children:[(e.confidenceLevel*100).toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{children:"Thresholds:"}),d.jsx("span",{className:"font-mono text-zinc-300 text-right",children:e.significanceThresholds.join(", ")})]})]}),d.jsxs(we.div,{className:"space-y-2",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(we.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1",children:d.jsxs(fe,{size:"sm",variant:"secondary",onClick:()=>{console.log("Template button clicked!"),t()},onPointerDownCapture:y=>y.stopPropagation(),className:`w-full text-xs font-roboto bg-zinc-800/60 hover:bg-zinc-700/60 \r
                       border border-zinc-600/40 hover:border-yellow-400/40 \r
                       transition-all duration-300 h-7 px-2`,children:[d.jsx(wr,{className:"h-3 w-3 mr-1"}),"Template"]})}),r&&d.jsx(we.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1",children:d.jsxs(fe,{size:"sm",variant:"secondary",onClick:n,onPointerDownCapture:y=>y.stopPropagation(),disabled:a,className:`w-full text-xs font-roboto bg-zinc-800/60 hover:bg-zinc-700/60 \r
                         border border-zinc-600/40 hover:border-yellow-400/40 \r
                         transition-all duration-300 h-7 px-2`,children:[d.jsx(Wp,{className:"h-3 w-3 mr-1"}),"Save"]})})]}),r&&e.results&&d.jsx(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5,duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(fe,{size:"sm",variant:"ghost",onClick:s,onPointerDownCapture:y=>y.stopPropagation(),disabled:a,className:`w-full text-xs font-roboto bg-gradient-to-r from-zinc-800/40 to-zinc-700/40 \r
                       hover:from-zinc-700/50 hover:to-zinc-600/50 \r
                       border border-yellow-400/25 hover:border-yellow-400/40 \r
                       text-yellow-300/90 hover:text-yellow-200 \r
                       transition-all duration-300 h-7 px-2`,children:[d.jsx($d,{className:"h-3 w-3 mr-1"}),"Export Results"]})})]}),d.jsx(Jl,{children:a&&d.jsx(we.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:`absolute inset-0 bg-zinc-900/70 backdrop-blur-sm rounded-lg \r
                     flex items-center justify-center`,children:d.jsx(we.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-yellow-400/30 border-t-yellow-400 rounded-full"})})})]})},e1=()=>{const e=tt(M=>M.toggleLeftSidebar),{setCurrentConfig:t,loadTemplate:n,saveAsTemplate:s,templates:i}=kn(),r=za(),{isDesktop:a,fileOperations:o,notifications:l}=mf(),[c,u]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(!1),[y,v]=x.useState(""),[p,w]=x.useState(""),[b,P]=x.useState(!1);x.useEffect(()=>{console.log("showSaveDialog state changed:",f)},[f]),x.useEffect(()=>{const M=ee=>{m&&!ee.target.closest(".dropdown-container")&&g(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[m]);const S=[{id:"notebook-reproduction",name:"Legacy Notebook Reproduction",description:"Reproduces the original Jupyter notebook simulation with multiple sample sizes",isBuiltIn:!0,config:{id:"template-notebook",name:"Legacy Notebook Reproduction",samplePairs:[{id:"pair-n10",name:"Small Sample (n=10)",population1:{mean:0,std:1,size:1e3},population2:{mean:.5,std:1,size:1e3},sampleSize:10},{id:"pair-n30",name:"Medium Sample (n=30)",population1:{mean:0,std:1,size:1e3},population2:{mean:.5,std:1,size:1e3},sampleSize:30},{id:"pair-n60",name:"Large Sample (n=60)",population1:{mean:0,std:1,size:1e3},population2:{mean:.5,std:1,size:1e3},sampleSize:60},{id:"pair-n100",name:"Very Large Sample (n=100)",population1:{mean:0,std:1,size:1e3},population2:{mean:.5,std:1,size:1e3},sampleSize:100}],simulationCount:1e3,significanceThresholds:[.5,.1,.05,.01,.001],confidenceLevel:.95,createdAt:new Date,updatedAt:new Date}},{id:"null-hypothesis",name:"Null Hypothesis Test",description:"Test scenarios where populations have identical means (null hypothesis is true)",isBuiltIn:!0,config:{id:"template-null",name:"Null Hypothesis Test",samplePairs:[{id:"pair-null-small",name:"Null Test (n=20)",population1:{mean:100,std:15,size:1e3},population2:{mean:100,std:15,size:1e3},sampleSize:20},{id:"pair-null-large",name:"Null Test (n=50)",population1:{mean:100,std:15,size:1e3},population2:{mean:100,std:15,size:1e3},sampleSize:50}],simulationCount:1e3,significanceThresholds:[.5,.1,.05,.01,.001],confidenceLevel:.95,createdAt:new Date,updatedAt:new Date}},{id:"effect-size-comparison",name:"Effect Size Comparison",description:"Compare statistical power across different effect sizes",isBuiltIn:!0,config:{id:"template-effect",name:"Effect Size Comparison",samplePairs:[{id:"pair-small-effect",name:"Small Effect (d=0.2)",population1:{mean:100,std:15,size:1e3},population2:{mean:103,std:15,size:1e3},sampleSize:30},{id:"pair-medium-effect",name:"Medium Effect (d=0.5)",population1:{mean:100,std:15,size:1e3},population2:{mean:107.5,std:15,size:1e3},sampleSize:30},{id:"pair-large-effect",name:"Large Effect (d=0.8)",population1:{mean:100,std:15,size:1e3},population2:{mean:112,std:15,size:1e3},sampleSize:30}],simulationCount:1e3,significanceThresholds:[.5,.1,.05,.01,.001],confidenceLevel:.95,createdAt:new Date,updatedAt:new Date}}],T=()=>{const M={id:`sim-${Date.now()}`,name:`New Simulation ${new Date().toLocaleTimeString()}`,samplePairs:[{id:`pair-${Date.now()}`,name:"Sample Pair 1",population1:{mean:100,std:15,size:1e3},population2:{mean:110,std:15,size:1e3},sampleSize:30}],simulationCount:1e3,significanceThresholds:[.5,.1,.05,.01,.001],confidenceLevel:.95,createdAt:new Date,updatedAt:new Date};t(M)},C=M=>{n(M),u(!1)},j=()=>{r&&y.trim()&&(s(y.trim(),p.trim()),h(!1),v(""),w(""))},k=M=>{t(M)},$=async()=>{if(!(!r||!a)){P(!0);try{const M=`${r.name.replace(/[^a-zA-Z0-9]/g,"_")}.json`,ee=await o.showSaveDialog(M);ee&&(await o.saveConfig(r,ee),await l.send("Configuration Saved",`Saved to ${ee}`))}catch(M){console.error("Failed to save configuration:",M),await l.send("Save Failed","Could not save configuration file")}finally{P(!1)}}},z=async()=>{if(a){P(!0);try{const M=await o.showOpenDialog();if(M){const ee=await o.loadConfig(M);t(ee),await l.send("Configuration Loaded",`Loaded from ${M}`)}}catch(M){console.error("Failed to load configuration:",M),await l.send("Load Failed","Could not load configuration file")}finally{P(!1)}}},q=async()=>{if(!(!(r!=null&&r.results)||!a)){P(!0);try{const M=`${r.name.replace(/[^a-zA-Z0-9]/g,"_")}_results.json`,ee=await o.showSaveDialog(M);ee&&(await o.exportResults(r,r.results,"json",ee),await l.sendExportComplete(ee))}catch(M){console.error("Failed to export results:",M),await l.send("Export Failed","Could not export results")}finally{P(!1)}}},ve=[...S,...i];return d.jsxs("div",{className:"h-full flex flex-col bg-sidebar border-r border-border",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border",children:[d.jsx("h2",{className:"text-sidebar-foreground text-sm",children:"Simulations"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("div",{className:"relative dropdown-container",children:[d.jsx("button",{onClick:()=>g(!m),className:"h-7 w-7 p-0 flex items-center justify-center rounded hover:bg-sidebar-accent transition-colors text-sidebar-foreground",title:"Quick Actions",children:d.jsx(ti,{className:"h-3 w-3"})}),m&&d.jsx("div",{className:"absolute top-8 right-0 w-48 bg-sidebar border border-border rounded shadow-lg z-[9999]",children:d.jsxs("div",{className:"p-1 space-y-0.5",children:[d.jsxs("button",{onClick:()=>{T(),g(!1)},className:"w-full flex items-center gap-2 px-2 py-1.5 text-xs text-sidebar-foreground hover:bg-sidebar-accent rounded transition-colors",children:[d.jsx(ti,{className:"h-3 w-3"}),"Create New Simulation"]}),d.jsxs("button",{onClick:()=>{u(!c),g(!1)},className:"w-full flex items-center gap-2 px-2 py-1.5 text-xs text-sidebar-foreground hover:bg-sidebar-accent rounded transition-colors",children:[d.jsx(Md,{className:"h-3 w-3"}),"Load Template"]}),a&&d.jsxs("button",{onClick:()=>{z(),g(!1)},disabled:b,className:"w-full flex items-center gap-2 px-2 py-1.5 text-xs text-sidebar-foreground hover:bg-sidebar-accent rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Hp,{className:"h-3 w-3"}),"Load Config File"]})]})})]}),d.jsx("button",{onClick:e,className:"h-7 w-7 p-0 flex items-center justify-center rounded hover:bg-sidebar-accent transition-colors text-sidebar-foreground",children:d.jsx("span",{className:"text-xs",children:"←"})}),d.jsx(py,{})]})]}),d.jsxs("div",{className:"flex-1 overflow-auto",children:[c&&d.jsx("div",{className:"border-b border-border",children:d.jsxs("div",{className:"p-2",children:[d.jsx("h4",{className:"text-xs text-muted-foreground border-b border-border pb-1",children:"Built-in Templates"}),d.jsx("div",{className:"mt-1 space-y-0.5",children:ve.map(M=>d.jsxs("button",{onClick:()=>C(M),className:"w-full text-left p-2 rounded hover:bg-sidebar-accent transition-colors",children:[d.jsx("h5",{className:"text-xs text-sidebar-foreground truncate",children:M.name}),d.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5 truncate",children:M.description})]},M.id))})]})}),r?d.jsx("div",{className:"p-2 space-y-1",children:d.jsx(Qb,{currentConfig:r,onSaveTemplate:()=>{console.log("onSaveTemplate called, setting showSaveDialog to true"),h(!0)},onSaveConfig:$,onExportResults:q,onUpdateConfig:k,isDesktop:a,isLoading:b})}):d.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[d.jsx(et,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-xs",children:"No active simulation"}),d.jsx("p",{className:"text-[10px] mt-1",children:"Create new or load template"})]})]}),f&&d.jsxs("div",{className:"border-t border-border p-2",children:[d.jsx("h3",{className:"text-sidebar-foreground text-xs mb-2",children:"Save as Template"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:y,onChange:M=>v(M.target.value),placeholder:"Template name",className:"w-full px-2 py-1 text-xs bg-sidebar-accent border border-border rounded text-sidebar-foreground"}),d.jsx("textarea",{value:p,onChange:M=>w(M.target.value),placeholder:"Description (optional)",rows:2,className:"w-full px-2 py-1 text-xs bg-sidebar-accent border border-border rounded text-sidebar-foreground"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(fe,{size:"sm",onClick:j,disabled:!y.trim(),className:"flex-1",children:"Save"}),d.jsx(fe,{size:"sm",variant:"outline",onClick:()=>{console.log("Cancel clicked, setting showSaveDialog to false"),h(!1)},className:"flex-1",children:"Cancel"})]})]})]})]})},t1=e=>({id:e.id,samplePairs:e.samplePairs.map(t=>({id:t.id,name:t.name,population1:t.population1,population2:t.population2,sampleSize:t.sampleSize})),simulationCount:e.simulationCount,significanceThresholds:e.significanceThresholds,confidenceLevel:e.confidenceLevel}),n1=()=>{const e=x.useRef(null),t=x.useRef(null),n=x.useRef(null),s=x.useRef(new Map),{setProgress:i,setResults:r,clearResults:a}=kn(),{notifications:o}=mf(),[l,c]=x.useState({status:"idle",progress:0,results:null,error:null,completedSimulations:0}),u=x.useCallback(v=>{v.onmessage=p=>{const{type:w,id:b,data:P,progress:S,error:T}=p.data;switch(w){case"TEST_RESPONSE":break;case"SIMULATION_PROGRESS":const C=S||0,j=(P==null?void 0:P.completedSimulations)||0;c(z=>({...z,progress:C,completedSimulations:j})),i({isRunning:!0,progress:C});break;case"SIMULATION_COMPLETE":const k=s.current.get(b);if(k&&(k.resolve(P),s.current.delete(b)),c(z=>({...z,status:"completed",progress:1,results:P})),r(P),i({isRunning:!1,progress:1}),n.current){const z=Date.now()-n.current,q=(P==null?void 0:P.configName)||"Simulation";o.sendSimulationComplete(q,z).catch(console.error)}t.current=null,n.current=null;break;case"SIMULATION_ERROR":const $=s.current.get(b);$&&($.reject(new Error(T||"Unknown simulation error")),s.current.delete(b)),c(z=>({...z,status:"error",error:T||"Unknown simulation error"})),i({isRunning:!1,progress:0}),o.send("Simulation Failed",T||"Unknown simulation error").catch(console.error),t.current=null,n.current=null;break}},v.onerror=p=>{console.error("Worker error:",p),c(w=>({...w,status:"error",error:"Worker execution error"})),i({isRunning:!1,progress:0}),o.send("Simulation Error","Worker execution error").catch(console.error),n.current=null},v.postMessage({type:"TEST",id:"test-communication"})},[]);x.useEffect(()=>(e.current=new Worker(new URL("./simulation.worker-D7EjXoom.js",import.meta.url),{type:"module"}),u(e.current),()=>{e.current&&e.current.terminate()}),[u]);const f=x.useCallback(async v=>{if(!e.current)throw new Error("Worker not initialized");if(l.status==="running")throw new Error("Simulation already running. Cancel current simulation first.");const p=`sim-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;t.current=p,n.current=Date.now(),c({status:"running",progress:0,results:null,error:null,completedSimulations:0}),a(),i({isRunning:!0,progress:0});const w={...t1(v),configName:v.name};return new Promise((b,P)=>{s.current.set(p,{resolve:b,reject:P}),e.current.postMessage({type:"SIMULATION_START",id:p,data:w}),setTimeout(()=>{if(t.current===p){console.log("Simulation timeout reached");const S=s.current.get(p);S&&(S.reject(new Error("Simulation timeout")),s.current.delete(p)),c(T=>({...T,status:"error",error:"Simulation timeout"})),i({isRunning:!1,progress:0}),o.send("Simulation Timeout","Simulation exceeded 5 minute limit").catch(console.error),t.current=null,n.current=null}},3e5)})},[l.status,a,i,o]),h=x.useCallback(()=>{if(t.current){const v=s.current.get(t.current);v&&(v.reject(new Error("Simulation cancelled")),s.current.delete(t.current)),t.current=null,n.current=null}c(v=>({...v,status:"cancelled",error:null})),i({isRunning:!1,progress:0}),e.current&&(e.current.terminate(),e.current=new Worker(new URL("./simulation.worker-D7EjXoom.js",import.meta.url),{type:"module"}),u(e.current))},[u]),m=x.useCallback(()=>{c({status:"idle",progress:0,results:null,error:null,completedSimulations:0}),a(),i({isRunning:!1,progress:0})},[a,i]),g=x.useCallback((v=100,p=110,w=15,b=15,P=30,S=1e3)=>({id:`legacy-${Date.now()}`,samplePairs:[{id:"legacy-pair",name:"Legacy Notebook Reproduction",population1:{mean:v,std:w,size:1e3},population2:{mean:p,std:b,size:1e3},sampleSize:P}],simulationCount:S,significanceThresholds:[.5,.1,.05,.01,.001],confidenceLevel:.95}),[]),y=x.useCallback((v=100,p=15,w=30,b=1e3)=>({id:`null-${Date.now()}`,samplePairs:[{id:"null-pair",name:"Null Hypothesis Test",population1:{mean:v,std:p,size:1e3},population2:{mean:v,std:p,size:1e3},sampleSize:w}],simulationCount:b,significanceThresholds:[.5,.1,.05,.01,.001],confidenceLevel:.95}),[]);return{simulationState:l,isRunning:l.status==="running",runSimulation:f,cancelSimulation:h,resetState:m,createLegacyNotebookConfig:g,createNullHypothesisConfig:y}};var ne;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const r={};for(const a of i)r[a]=a;return r},e.getValidEnumValues=i=>{const r=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of r)a[o]=i[o];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(r){return i[r]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.push(a);return r},e.find=(i,r)=>{for(const a of i)if(r(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function s(i,r=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}e.joinValues=s,e.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(ne||(ne={}));var Wc;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Wc||(Wc={}));const V=ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bt=e=>{switch(typeof e){case"undefined":return V.undefined;case"string":return V.string;case"number":return Number.isNaN(e)?V.nan:V.number;case"boolean":return V.boolean;case"function":return V.function;case"bigint":return V.bigint;case"symbol":return V.symbol;case"object":return Array.isArray(e)?V.array:e===null?V.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?V.promise:typeof Map<"u"&&e instanceof Map?V.map:typeof Set<"u"&&e instanceof Set?V.set:typeof Date<"u"&&e instanceof Date?V.date:V.object;default:return V.unknown}},N=ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ke extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(r){return r.message},s={_errors:[]},i=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)s._errors.push(n(a));else{let o=s,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),s}static assert(t){if(!(t instanceof Ke))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):s.push(t(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Ke.create=e=>new Ke(e);const Jr=(e,t)=>{let n;switch(e.code){case N.invalid_type:e.received===V.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case N.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ne.jsonStringifyReplacer)}`;break;case N.unrecognized_keys:n=`Unrecognized key(s) in object: ${ne.joinValues(e.keys,", ")}`;break;case N.invalid_union:n="Invalid input";break;case N.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ne.joinValues(e.options)}`;break;case N.invalid_enum_value:n=`Invalid enum value. Expected ${ne.joinValues(e.options)}, received '${e.received}'`;break;case N.invalid_arguments:n="Invalid function arguments";break;case N.invalid_return_type:n="Invalid function return type";break;case N.invalid_date:n="Invalid date";break;case N.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ne.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case N.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case N.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case N.custom:n="Invalid input";break;case N.invalid_intersection_types:n="Intersection results could not be merged";break;case N.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case N.not_finite:n="Number must be finite";break;default:n=t.defaultError,ne.assertNever(e)}return{message:n}};let s1=Jr;function i1(){return s1}const r1=e=>{const{data:t,path:n,errorMaps:s,issueData:i}=e,r=[...n,...i.path||[]],a={...i,path:r};if(i.message!==void 0)return{...i,path:r,message:i.message};let o="";const l=s.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:t,defaultError:o}).message;return{...i,path:r,message:o}};function _(e,t){const n=i1(),s=r1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Jr?void 0:Jr].filter(i=>!!i)});e.common.issues.push(s)}class Le{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const i of n){if(i.status==="aborted")return H;i.status==="dirty"&&t.dirty(),s.push(i.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const i of n){const r=await i.key,a=await i.value;s.push({key:r,value:a})}return Le.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const i of n){const{key:r,value:a}=i;if(r.status==="aborted"||a.status==="aborted")return H;r.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(s[r.value]=a.value)}return{status:t.value,value:s}}}const H=Object.freeze({status:"aborted"}),Wn=e=>({status:"dirty",value:e}),Ze=e=>({status:"valid",value:e}),Hc=e=>e.status==="aborted",Gc=e=>e.status==="dirty",wn=e=>e.status==="valid",fi=e=>typeof Promise<"u"&&e instanceof Promise;var R;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(R||(R={}));class jt{constructor(t,n,s,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kc=(e,t)=>{if(wn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ke(e.common.issues);return this._error=n,this._error}}};function J(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:i}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,o)=>{const{message:l}=e;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??s??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class te{get description(){return this._def.description}_getType(t){return bt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:bt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Le,ctx:{common:t.parent.common,data:t.data,parsedType:bt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(fi(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bt(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Kc(s,i)}"~validate"(t){var s,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bt(t)};if(!this["~standard"].async)try{const r=this._parseSync({data:t,path:[],parent:n});return wn(r)?{value:r.value}:{issues:n.common.issues}}catch(r){(i=(s=r==null?void 0:r.message)==null?void 0:s.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(r=>wn(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bt(t)},i=this._parse({data:t,path:s.path,parent:s}),r=await(fi(i)?i:Promise.resolve(i));return Kc(s,r)}refine(t,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,r)=>{const a=t(i),o=()=>r.addIssue({code:N.custom,...s(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,n){return this._refinement((s,i)=>t(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(t){return new Pn({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Tt.create(this,this._def)}nullable(){return Cn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rt.create(this)}promise(){return pi.create(this,this._def)}or(t){return hi.create([this,t],this._def)}and(t){return mi.create(this,t,this._def)}transform(t){return new Pn({...J(this._def),schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new ta({...J(this._def),innerType:this,defaultValue:n,typeName:G.ZodDefault})}brand(){return new N1({typeName:G.ZodBranded,type:this,...J(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new na({...J(this._def),innerType:this,catchValue:n,typeName:G.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return bo.create(this,t)}readonly(){return sa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const a1=/^c[^\s-]{8,}$/i,o1=/^[0-9a-z]+$/,l1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,c1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u1=/^[a-z0-9_-]{21}$/i,d1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,f1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,h1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,m1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let or;const p1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,g1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,y1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,x1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,b1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",w1=new RegExp(`^${Hh}$`);function Gh(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function S1(e){return new RegExp(`^${Gh(e)}$`)}function T1(e){let t=`${Hh}T${Gh(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function P1(e,t){return!!((t==="v4"||!t)&&p1.test(e)||(t==="v6"||!t)&&y1.test(e))}function C1(e,t){if(!d1.test(e))return!1;try{const[n]=e.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(s));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function j1(e,t){return!!((t==="v4"||!t)&&g1.test(e)||(t==="v6"||!t)&&x1.test(e))}class St extends te{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==V.string){const r=this._getOrReturnCtx(t);return _(r,{code:N.invalid_type,expected:V.string,received:r.parsedType}),H}const s=new Le;let i;for(const r of this._def.checks)if(r.kind==="min")t.data.length<r.value&&(i=this._getOrReturnCtx(t,i),_(i,{code:N.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="max")t.data.length>r.value&&(i=this._getOrReturnCtx(t,i),_(i,{code:N.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="length"){const a=t.data.length>r.value,o=t.data.length<r.value;(a||o)&&(i=this._getOrReturnCtx(t,i),a?_(i,{code:N.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):o&&_(i,{code:N.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),s.dirty())}else if(r.kind==="email")h1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"email",code:N.invalid_string,message:r.message}),s.dirty());else if(r.kind==="emoji")or||(or=new RegExp(m1,"u")),or.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"emoji",code:N.invalid_string,message:r.message}),s.dirty());else if(r.kind==="uuid")c1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"uuid",code:N.invalid_string,message:r.message}),s.dirty());else if(r.kind==="nanoid")u1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"nanoid",code:N.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid")a1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"cuid",code:N.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid2")o1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"cuid2",code:N.invalid_string,message:r.message}),s.dirty());else if(r.kind==="ulid")l1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"ulid",code:N.invalid_string,message:r.message}),s.dirty());else if(r.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),_(i,{validation:"url",code:N.invalid_string,message:r.message}),s.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"regex",code:N.invalid_string,message:r.message}),s.dirty())):r.kind==="trim"?t.data=t.data.trim():r.kind==="includes"?t.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(t,i),_(i,{code:N.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),s.dirty()):r.kind==="toLowerCase"?t.data=t.data.toLowerCase():r.kind==="toUpperCase"?t.data=t.data.toUpperCase():r.kind==="startsWith"?t.data.startsWith(r.value)||(i=this._getOrReturnCtx(t,i),_(i,{code:N.invalid_string,validation:{startsWith:r.value},message:r.message}),s.dirty()):r.kind==="endsWith"?t.data.endsWith(r.value)||(i=this._getOrReturnCtx(t,i),_(i,{code:N.invalid_string,validation:{endsWith:r.value},message:r.message}),s.dirty()):r.kind==="datetime"?T1(r).test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{code:N.invalid_string,validation:"datetime",message:r.message}),s.dirty()):r.kind==="date"?w1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{code:N.invalid_string,validation:"date",message:r.message}),s.dirty()):r.kind==="time"?S1(r).test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{code:N.invalid_string,validation:"time",message:r.message}),s.dirty()):r.kind==="duration"?f1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"duration",code:N.invalid_string,message:r.message}),s.dirty()):r.kind==="ip"?P1(t.data,r.version)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"ip",code:N.invalid_string,message:r.message}),s.dirty()):r.kind==="jwt"?C1(t.data,r.alg)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"jwt",code:N.invalid_string,message:r.message}),s.dirty()):r.kind==="cidr"?j1(t.data,r.version)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"cidr",code:N.invalid_string,message:r.message}),s.dirty()):r.kind==="base64"?v1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"base64",code:N.invalid_string,message:r.message}),s.dirty()):r.kind==="base64url"?b1.test(t.data)||(i=this._getOrReturnCtx(t,i),_(i,{validation:"base64url",code:N.invalid_string,message:r.message}),s.dirty()):ne.assertNever(r);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(i=>t.test(i),{validation:n,code:N.invalid_string,...R.errToObj(s)})}_addCheck(t){return new St({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...R.errToObj(t)})}url(t){return this._addCheck({kind:"url",...R.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...R.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...R.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...R.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...R.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...R.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...R.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...R.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...R.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...R.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...R.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...R.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...R.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...R.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...R.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...R.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...R.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...R.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...R.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...R.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...R.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...R.errToObj(n)})}nonempty(t){return this.min(1,R.errToObj(t))}trim(){return new St({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new St({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new St({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}St.create=e=>new St({checks:[],typeName:G.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...J(e)});function A1(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,i=n>s?n:s,r=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return r%a/10**i}class Sn extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==V.number){const r=this._getOrReturnCtx(t);return _(r,{code:N.invalid_type,expected:V.number,received:r.parsedType}),H}let s;const i=new Le;for(const r of this._def.checks)r.kind==="int"?ne.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),_(s,{code:N.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?t.data<r.value:t.data<=r.value)&&(s=this._getOrReturnCtx(t,s),_(s,{code:N.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?t.data>r.value:t.data>=r.value)&&(s=this._getOrReturnCtx(t,s),_(s,{code:N.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?A1(t.data,r.value)!==0&&(s=this._getOrReturnCtx(t,s),_(s,{code:N.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),_(s,{code:N.not_finite,message:r.message}),i.dirty()):ne.assertNever(r);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,R.toString(n))}gt(t,n){return this.setLimit("min",t,!1,R.toString(n))}lte(t,n){return this.setLimit("max",t,!0,R.toString(n))}lt(t,n){return this.setLimit("max",t,!1,R.toString(n))}setLimit(t,n,s,i){return new Sn({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:R.toString(i)}]})}_addCheck(t){return new Sn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:R.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:R.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:R.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ne.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Sn.create=e=>new Sn({checks:[],typeName:G.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...J(e)});class ms extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==V.bigint)return this._getInvalidInput(t);let s;const i=new Le;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?t.data<r.value:t.data<=r.value)&&(s=this._getOrReturnCtx(t,s),_(s,{code:N.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?t.data>r.value:t.data>=r.value)&&(s=this._getOrReturnCtx(t,s),_(s,{code:N.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?t.data%r.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),_(s,{code:N.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):ne.assertNever(r);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return _(n,{code:N.invalid_type,expected:V.bigint,received:n.parsedType}),H}gte(t,n){return this.setLimit("min",t,!0,R.toString(n))}gt(t,n){return this.setLimit("min",t,!1,R.toString(n))}lte(t,n){return this.setLimit("max",t,!0,R.toString(n))}lt(t,n){return this.setLimit("max",t,!1,R.toString(n))}setLimit(t,n,s,i){return new ms({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:R.toString(i)}]})}_addCheck(t){return new ms({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:R.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ms.create=e=>new ms({checks:[],typeName:G.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...J(e)});class Qr extends te{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==V.boolean){const s=this._getOrReturnCtx(t);return _(s,{code:N.invalid_type,expected:V.boolean,received:s.parsedType}),H}return Ze(t.data)}}Qr.create=e=>new Qr({typeName:G.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...J(e)});class ps extends te{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==V.date){const r=this._getOrReturnCtx(t);return _(r,{code:N.invalid_type,expected:V.date,received:r.parsedType}),H}if(Number.isNaN(t.data.getTime())){const r=this._getOrReturnCtx(t);return _(r,{code:N.invalid_date}),H}const s=new Le;let i;for(const r of this._def.checks)r.kind==="min"?t.data.getTime()<r.value&&(i=this._getOrReturnCtx(t,i),_(i,{code:N.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),s.dirty()):r.kind==="max"?t.data.getTime()>r.value&&(i=this._getOrReturnCtx(t,i),_(i,{code:N.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),s.dirty()):ne.assertNever(r);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ps({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:R.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:R.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ps.create=e=>new ps({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:G.ZodDate,...J(e)});class Zc extends te{_parse(t){if(this._getType(t)!==V.symbol){const s=this._getOrReturnCtx(t);return _(s,{code:N.invalid_type,expected:V.symbol,received:s.parsedType}),H}return Ze(t.data)}}Zc.create=e=>new Zc({typeName:G.ZodSymbol,...J(e)});class qc extends te{_parse(t){if(this._getType(t)!==V.undefined){const s=this._getOrReturnCtx(t);return _(s,{code:N.invalid_type,expected:V.undefined,received:s.parsedType}),H}return Ze(t.data)}}qc.create=e=>new qc({typeName:G.ZodUndefined,...J(e)});class Xc extends te{_parse(t){if(this._getType(t)!==V.null){const s=this._getOrReturnCtx(t);return _(s,{code:N.invalid_type,expected:V.null,received:s.parsedType}),H}return Ze(t.data)}}Xc.create=e=>new Xc({typeName:G.ZodNull,...J(e)});class Yc extends te{constructor(){super(...arguments),this._any=!0}_parse(t){return Ze(t.data)}}Yc.create=e=>new Yc({typeName:G.ZodAny,...J(e)});class Jc extends te{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ze(t.data)}}Jc.create=e=>new Jc({typeName:G.ZodUnknown,...J(e)});class At extends te{_parse(t){const n=this._getOrReturnCtx(t);return _(n,{code:N.invalid_type,expected:V.never,received:n.parsedType}),H}}At.create=e=>new At({typeName:G.ZodNever,...J(e)});class Qc extends te{_parse(t){if(this._getType(t)!==V.undefined){const s=this._getOrReturnCtx(t);return _(s,{code:N.invalid_type,expected:V.void,received:s.parsedType}),H}return Ze(t.data)}}Qc.create=e=>new Qc({typeName:G.ZodVoid,...J(e)});class rt extends te{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),i=this._def;if(n.parsedType!==V.array)return _(n,{code:N.invalid_type,expected:V.array,received:n.parsedType}),H;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(_(n,{code:a?N.too_big:N.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(_(n,{code:N.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(_(n,{code:N.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new jt(n,a,n.path,o)))).then(a=>Le.mergeArray(s,a));const r=[...n.data].map((a,o)=>i.type._parseSync(new jt(n,a,n.path,o)));return Le.mergeArray(s,r)}get element(){return this._def.type}min(t,n){return new rt({...this._def,minLength:{value:t,message:R.toString(n)}})}max(t,n){return new rt({...this._def,maxLength:{value:t,message:R.toString(n)}})}length(t,n){return new rt({...this._def,exactLength:{value:t,message:R.toString(n)}})}nonempty(t){return this.min(1,t)}}rt.create=(e,t)=>new rt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray,...J(t)});function sn(e){if(e instanceof ye){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Tt.create(sn(s))}return new ye({...e._def,shape:()=>t})}else return e instanceof rt?new rt({...e._def,type:sn(e.element)}):e instanceof Tt?Tt.create(sn(e.unwrap())):e instanceof Cn?Cn.create(sn(e.unwrap())):e instanceof Jt?Jt.create(e.items.map(t=>sn(t))):e}class ye extends te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ne.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==V.object){const c=this._getOrReturnCtx(t);return _(c,{code:N.invalid_type,expected:V.object,received:c.parsedType}),H}const{status:s,ctx:i}=this._processInputParams(t),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof At&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=r[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new jt(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof At){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(_(i,{code:N.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new jt(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,h=await u.value;c.push({key:f,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Le.mergeObjectSync(s,c)):Le.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(t){return R.errToObj,new ye({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var r,a;const i=((a=(r=this._def).errorMap)==null?void 0:a.call(r,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:R.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new ye({...this._def,unknownKeys:"strip"})}passthrough(){return new ye({...this._def,unknownKeys:"passthrough"})}extend(t){return new ye({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ye({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:G.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ye({...this._def,catchall:t})}pick(t){const n={};for(const s of ne.objectKeys(t))t[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new ye({...this._def,shape:()=>n})}omit(t){const n={};for(const s of ne.objectKeys(this.shape))t[s]||(n[s]=this.shape[s]);return new ye({...this._def,shape:()=>n})}deepPartial(){return sn(this)}partial(t){const n={};for(const s of ne.objectKeys(this.shape)){const i=this.shape[s];t&&!t[s]?n[s]=i:n[s]=i.optional()}return new ye({...this._def,shape:()=>n})}required(t){const n={};for(const s of ne.objectKeys(this.shape))if(t&&!t[s])n[s]=this.shape[s];else{let r=this.shape[s];for(;r instanceof Tt;)r=r._def.innerType;n[s]=r}return new ye({...this._def,shape:()=>n})}keyof(){return Kh(ne.objectKeys(this.shape))}}ye.create=(e,t)=>new ye({shape:()=>e,unknownKeys:"strip",catchall:At.create(),typeName:G.ZodObject,...J(t)});ye.strictCreate=(e,t)=>new ye({shape:()=>e,unknownKeys:"strict",catchall:At.create(),typeName:G.ZodObject,...J(t)});ye.lazycreate=(e,t)=>new ye({shape:e,unknownKeys:"strip",catchall:At.create(),typeName:G.ZodObject,...J(t)});class hi extends te{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function i(r){for(const o of r)if(o.result.status==="valid")return o.result;for(const o of r)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=r.map(o=>new Ke(o.ctx.common.issues));return _(n,{code:N.invalid_union,unionErrors:a}),H}if(n.common.async)return Promise.all(s.map(async r=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await r._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let r;const a=[];for(const l of s){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!r&&(r={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(r)return n.common.issues.push(...r.ctx.common.issues),r.result;const o=a.map(l=>new Ke(l));return _(n,{code:N.invalid_union,unionErrors:o}),H}}get options(){return this._def.options}}hi.create=(e,t)=>new hi({options:e,typeName:G.ZodUnion,...J(t)});function ea(e,t){const n=bt(e),s=bt(t);if(e===t)return{valid:!0,data:e};if(n===V.object&&s===V.object){const i=ne.objectKeys(t),r=ne.objectKeys(e).filter(o=>i.indexOf(o)!==-1),a={...e,...t};for(const o of r){const l=ea(e[o],t[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===V.array&&s===V.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],l=ea(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===V.date&&s===V.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class mi extends te{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=(r,a)=>{if(Hc(r)||Hc(a))return H;const o=ea(r.value,a.value);return o.valid?((Gc(r)||Gc(a))&&n.dirty(),{status:n.value,value:o.data}):(_(s,{code:N.invalid_intersection_types}),H)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([r,a])=>i(r,a)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}mi.create=(e,t,n)=>new mi({left:e,right:t,typeName:G.ZodIntersection,...J(n)});class Jt extends te{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==V.array)return _(s,{code:N.invalid_type,expected:V.array,received:s.parsedType}),H;if(s.data.length<this._def.items.length)return _(s,{code:N.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&s.data.length>this._def.items.length&&(_(s,{code:N.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const r=[...s.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new jt(s,a,s.path,o)):null}).filter(a=>!!a);return s.common.async?Promise.all(r).then(a=>Le.mergeArray(n,a)):Le.mergeArray(n,r)}get items(){return this._def.items}rest(t){return new Jt({...this._def,rest:t})}}Jt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jt({items:e,typeName:G.ZodTuple,rest:null,...J(t)})};class eu extends te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==V.map)return _(s,{code:N.invalid_type,expected:V.map,received:s.parsedType}),H;const i=this._def.keyType,r=this._def.valueType,a=[...s.data.entries()].map(([o,l],c)=>({key:i._parse(new jt(s,o,s.path,[c,"key"])),value:r._parse(new jt(s,l,s.path,[c,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return H;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return H;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}eu.create=(e,t,n)=>new eu({valueType:t,keyType:e,typeName:G.ZodMap,...J(n)});class gs extends te{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==V.set)return _(s,{code:N.invalid_type,expected:V.set,received:s.parsedType}),H;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(_(s,{code:N.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(_(s,{code:N.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const r=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return H;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...s.data.values()].map((l,c)=>r._parse(new jt(s,l,s.path,c)));return s.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(t,n){return new gs({...this._def,minSize:{value:t,message:R.toString(n)}})}max(t,n){return new gs({...this._def,maxSize:{value:t,message:R.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gs.create=(e,t)=>new gs({valueType:e,minSize:null,maxSize:null,typeName:G.ZodSet,...J(t)});class tu extends te{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}tu.create=(e,t)=>new tu({getter:e,typeName:G.ZodLazy,...J(t)});class nu extends te{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return _(n,{received:n.data,code:N.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:t.data}}get value(){return this._def.value}}nu.create=(e,t)=>new nu({value:e,typeName:G.ZodLiteral,...J(t)});function Kh(e,t){return new Tn({values:e,typeName:G.ZodEnum,...J(t)})}class Tn extends te{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return _(n,{expected:ne.joinValues(s),received:n.parsedType,code:N.invalid_type}),H}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return _(n,{received:n.data,code:N.invalid_enum_value,options:s}),H}return Ze(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Tn.create(t,{...this._def,...n})}exclude(t,n=this._def){return Tn.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}Tn.create=Kh;class su extends te{_parse(t){const n=ne.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==V.string&&s.parsedType!==V.number){const i=ne.objectValues(n);return _(s,{expected:ne.joinValues(i),received:s.parsedType,code:N.invalid_type}),H}if(this._cache||(this._cache=new Set(ne.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ne.objectValues(n);return _(s,{received:s.data,code:N.invalid_enum_value,options:i}),H}return Ze(t.data)}get enum(){return this._def.values}}su.create=(e,t)=>new su({values:e,typeName:G.ZodNativeEnum,...J(t)});class pi extends te{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==V.promise&&n.common.async===!1)return _(n,{code:N.invalid_type,expected:V.promise,received:n.parsedType}),H;const s=n.parsedType===V.promise?n.data:Promise.resolve(n.data);return Ze(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}pi.create=(e,t)=>new pi({type:e,typeName:G.ZodPromise,...J(t)});class Pn extends te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=this._def.effect||null,r={addIssue:a=>{_(s,a),a.fatal?n.abort():n.dirty()},get path(){return s.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const a=i.transform(s.data,r);if(s.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return H;const l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?H:l.status==="dirty"||n.value==="dirty"?Wn(l.value):l});{if(n.value==="aborted")return H;const o=this._def.schema._parseSync({data:a,path:s.path,parent:s});return o.status==="aborted"?H:o.status==="dirty"||n.value==="dirty"?Wn(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,r);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?H:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?H:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!wn(a))return H;const o=i.transform(a.value,r);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>wn(a)?Promise.resolve(i.transform(a.value,r)).then(o=>({status:n.value,value:o})):H);ne.assertNever(i)}}Pn.create=(e,t,n)=>new Pn({schema:e,typeName:G.ZodEffects,effect:t,...J(n)});Pn.createWithPreprocess=(e,t,n)=>new Pn({schema:t,effect:{type:"preprocess",transform:e},typeName:G.ZodEffects,...J(n)});class Tt extends te{_parse(t){return this._getType(t)===V.undefined?Ze(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Tt.create=(e,t)=>new Tt({innerType:e,typeName:G.ZodOptional,...J(t)});class Cn extends te{_parse(t){return this._getType(t)===V.null?Ze(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cn.create=(e,t)=>new Cn({innerType:e,typeName:G.ZodNullable,...J(t)});class ta extends te{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===V.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ta.create=(e,t)=>new ta({innerType:e,typeName:G.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...J(t)});class na extends te{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return fi(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Ke(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ke(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}na.create=(e,t)=>new na({innerType:e,typeName:G.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...J(t)});class iu extends te{_parse(t){if(this._getType(t)!==V.nan){const s=this._getOrReturnCtx(t);return _(s,{code:N.invalid_type,expected:V.nan,received:s.parsedType}),H}return{status:"valid",value:t.data}}}iu.create=e=>new iu({typeName:G.ZodNaN,...J(e)});class N1 extends te{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class bo extends te{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?H:r.status==="dirty"?(n.dirty(),Wn(r.value)):this._def.out._parseAsync({data:r.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?H:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(t,n){return new bo({in:t,out:n,typeName:G.ZodPipeline})}}class sa extends te{_parse(t){const n=this._def.innerType._parse(t),s=i=>(wn(i)&&(i.value=Object.freeze(i.value)),i);return fi(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}sa.create=(e,t)=>new sa({innerType:e,typeName:G.ZodReadonly,...J(t)});var G;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(G||(G={}));const ft=St.create,Qe=Sn.create,k1=Qr.create,ru=ps.create;At.create;const au=rt.create,En=ye.create;hi.create;mi.create;Jt.create;Tn.create;pi.create;Tt.create;Cn.create;const ia=En({mean:Qe().finite("Mean must be a finite number"),std:Qe().positive("Standard deviation must be positive"),size:Qe().int().min(10,"Population size must be at least 10").max(1e4,"Population size cannot exceed 10,000")}),_1=En({id:ft().min(1,"ID is required"),name:ft().min(1,"Name is required").max(50,"Name cannot exceed 50 characters"),population1:ia,population2:ia,sampleSize:Qe().int().min(5,"Sample size must be at least 5").max(1e3,"Sample size cannot exceed 1,000")}),Zh=En({id:ft().min(1,"ID is required"),name:ft().min(1,"Configuration name is required").max(100,"Name cannot exceed 100 characters"),samplePairs:au(_1).min(1,"At least one sample pair is required").max(20,"Cannot exceed 20 sample pairs"),simulationCount:Qe().int().min(100,"Minimum 100 simulations required").max(1e4,"Maximum 10,000 simulations allowed"),significanceThresholds:au(Qe().min(.001,"Threshold must be at least 0.001").max(1,"Threshold cannot exceed 1")).min(1,"At least one significance threshold is required"),confidenceLevel:Qe().min(.01,"Confidence level must be at least 0.01").max(.999,"Confidence level cannot exceed 0.999"),createdAt:ru(),updatedAt:ru()});En({id:ft().min(1,"Template ID is required"),name:ft().min(1,"Template name is required").max(100,"Name cannot exceed 100 characters"),description:ft().max(500,"Description cannot exceed 500 characters"),config:Zh,isBuiltIn:k1()});const ou=En({mean:Qe().finite().optional(),std:Qe().positive().optional(),size:Qe().int().min(10).max(1e4).optional()}),$1=En({id:ft().optional(),name:ft().max(50).optional(),population1:ou.optional(),population2:ou.optional(),sampleSize:Qe().int().min(5).max(1e3).optional()});function M1(e){try{return{success:!0,data:ia.parse(e),errors:[]}}catch(t){return t instanceof Ke?{success:!1,data:null,errors:t.errors.map(n=>({field:n.path.join("."),message:n.message,value:void 0}))}:{success:!1,data:null,errors:[{field:"unknown",message:"Validation failed",value:e}]}}}function E1(e){try{return{success:!0,data:Zh.parse(e),errors:[]}}catch(t){return t instanceof Ke?{success:!1,data:null,errors:t.errors.map(n=>({field:n.path.join("."),message:n.message,value:void 0}))}:{success:!1,data:null,errors:[{field:"unknown",message:"Validation failed",value:e}]}}}function V1(e){try{return{success:!0,data:$1.parse(e),errors:[]}}catch(t){return t instanceof Ke?{success:!1,data:null,errors:t.errors.map(n=>({field:n.path.join("."),message:n.message,value:void 0}))}:{success:!1,data:null,errors:[{field:"unknown",message:"Validation failed",value:e}]}}}const wo=x.createContext({});function So(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const To=typeof window<"u",qh=To?x.useLayoutEffect:x.useEffect,Vi=x.createContext(null),Po=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Xh(e){return typeof e=="object"&&e!==null}function Co(e){return Xh(e)&&"offsetHeight"in e}class D1 extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=Co(s)&&s.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function R1({children:e,isPresent:t,anchorX:n}){const s=x.useId(),i=x.useRef(null),r=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=x.useContext(Po);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=r.current;if(t||!i.current||!o||!l)return;const h=n==="left"?`left: ${u}`:`right: ${f}`;i.current.dataset.motionPopId=s;const m=document.createElement("style");return a&&(m.nonce=a),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),d.jsx(D1,{isPresent:t,childRef:i,sizeRef:r,children:x.cloneElement(e,{ref:i})})}const z1=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:a,anchorX:o})=>{const l=So(L1),c=x.useId();let u=!0,f=x.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const m of l.values())if(!m)return;s&&s()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,s]);return r&&u&&(f={...f}),x.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(e=d.jsx(R1,{isPresent:n,anchorX:o,children:e})),d.jsx(Vi.Provider,{value:f,children:e})};function L1(){return new Map}function Yh(e=!0){const t=x.useContext(Vi);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,r=x.useId();x.useEffect(()=>{if(e)return i(r)},[e]);const a=x.useCallback(()=>e&&s&&s(r),[r,s,e]);return!n&&s?[!1,a]:[!0]}const Fs=e=>e.key||"";function lu(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Ns=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,c]=Yh(a),u=x.useMemo(()=>lu(e),[e]),f=a&&!l?[]:u.map(Fs),h=x.useRef(!0),m=x.useRef(u),g=So(()=>new Map),[y,v]=x.useState(u),[p,w]=x.useState(u);qh(()=>{h.current=!1,m.current=u;for(let S=0;S<p.length;S++){const T=Fs(p[S]);f.includes(T)?g.delete(T):g.get(T)!==!0&&g.set(T,!1)}},[p,f.length,f.join("-")]);const b=[];if(u!==y){let S=[...u];for(let T=0;T<p.length;T++){const C=p[T],j=Fs(C);f.includes(j)||(S.splice(T,0,C),b.push(C))}return r==="wait"&&b.length&&(S=b),w(lu(S)),v(u),null}const{forceRender:P}=x.useContext(wo);return d.jsx(d.Fragment,{children:p.map(S=>{const T=Fs(S),C=a&&!l?!1:u===p||f.includes(T),j=()=>{if(g.has(T))g.set(T,!0);else return;let k=!0;g.forEach($=>{$||(k=!1)}),k&&(P==null||P(),w(m.current),a&&(c==null||c()),s&&s())};return d.jsx(z1,{isPresent:C,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,onExitComplete:C?void 0:j,anchorX:o,children:S},T)})})},Bs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],cu={value:null};function I1(e,t){let n=new Set,s=new Set,i=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){a.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,m=!1)=>{const y=m&&i?n:s;return h&&a.add(f),y.has(f)||y.add(f),f},cancel:f=>{s.delete(f),a.delete(f)},process:f=>{if(o=f,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),t&&cu.value&&cu.value.frameloop[t].push(l),l=0,n.clear(),i=!1,r&&(r=!1,u.process(f))}};return u}const pt={},O1=40;function Jh(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=Bs.reduce((b,P)=>(b[P]=I1(r,t?P:void 0),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:m,postRender:g}=a,y=()=>{const b=pt.useManualTiming?i.timestamp:performance.now();n=!1,pt.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(b-i.timestamp,O1),1)),i.timestamp=b,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(y))},v=()=>{n=!0,s=!0,i.isProcessing||e(y)};return{schedule:Bs.reduce((b,P)=>{const S=a[P];return b[P]=(T,C=!1,j=!1)=>(n||v(),S.schedule(T,C,j)),b},{}),cancel:b=>{for(let P=0;P<Bs.length;P++)a[Bs[P]].cancel(b)},state:i,steps:a}}const Ge=e=>e,{schedule:ce,cancel:Nt,state:Te,steps:lr}=Jh(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ge,!0),Qh=x.createContext({strict:!1}),uu={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jn={};for(const e in uu)jn[e]={isEnabled:t=>uu[e].some(n=>!!t[n])};function F1(e){for(const t in e)jn[t]={...jn[t],...e[t]}}const B1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gi(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||B1.has(e)}let em=e=>!gi(e);function U1(e){typeof e=="function"&&(em=t=>t.startsWith("on")?!gi(t):e(t))}try{U1(require("@emotion/is-prop-valid").default)}catch{}function W1(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(em(i)||n===!0&&gi(i)||!t&&!gi(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function H1(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Di=x.createContext({});function Ri(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ys(e){return typeof e=="string"||Array.isArray(e)}const jo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ao=["initial",...jo];function zi(e){return Ri(e.animate)||Ao.some(t=>ys(e[t]))}function tm(e){return!!(zi(e)||e.variants)}function G1(e,t){if(zi(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ys(n)?n:void 0,animate:ys(s)?s:void 0}}return e.inherit!==!1?t:{}}function K1(e){const{initial:t,animate:n}=G1(e,x.useContext(Di));return x.useMemo(()=>({initial:t,animate:n}),[du(t),du(n)])}function du(e){return Array.isArray(e)?e.join(" "):e}const Z1=Symbol.for("motionComponentSymbol");function dn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function q1(e,t,n){return x.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):dn(n)&&(n.current=s))},[t])}const No=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),X1="framerAppearId",nm="data-"+No(X1),sm=x.createContext({}),{schedule:ko}=Jh(queueMicrotask,!1);function Y1(e,t,n,s,i){var y,v;const{visualElement:r}=x.useContext(Di),a=x.useContext(Qh),o=x.useContext(Vi),l=x.useContext(Po).reducedMotion,c=x.useRef(null);s=s||a.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=x.useContext(sm);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&J1(c.current,n,i,f);const h=x.useRef(!1);x.useInsertionEffect(()=>{u&&h.current&&u.update(n,o)});const m=n[nm],g=x.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return qh(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),ko.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),g.current=!1))}),u}function J1(e,t,n,s){const{layoutId:i,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:im(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||o&&dn(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:l,layoutRoot:c})}function im(e){if(e)return e.options.allowProjection!==!1?e.projection:im(e.parent)}let _o=()=>{};function Q1({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&F1(e);function r(o,l){let c;const u={...x.useContext(Po),...o,layoutId:ew(o)},{isStatic:f}=u,h=K1(o),m=s(o,f);if(!f&&To){tw();const g=nw(u);c=g.MeasureLayout,h.visualElement=Y1(i,m,u,t,g.ProjectionNode)}return d.jsxs(Di.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,o,q1(m,h.visualElement,l),m,f,h.visualElement)]})}r.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=x.forwardRef(r);return a[Z1]=i,a}function ew({layoutId:e}){const t=x.useContext(wo).id;return t&&e!==void 0?t+"-"+e:e}function tw(e,t){x.useContext(Qh).strict}function nw(e){const{drag:t,layout:n}=jn;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const rm=e=>t=>typeof t=="string"&&t.startsWith(e),$o=rm("--"),sw=rm("var(--"),Mo=e=>sw(e)?iw.test(e.split("/*")[0].trim()):!1,iw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xs={};function rw(e){for(const t in e)xs[t]=e[t],$o(t)&&(xs[t].isCSSVariable=!0)}const Vn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dn=new Set(Vn);function am(e,{layout:t,layoutId:n}){return Dn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xs[e]||e==="opacity")}const om=(e,t)=>t&&typeof e=="number"?t.transform(e):e,gt=(e,t,n)=>n>t?t:n<e?e:n,Rn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vs={...Rn,transform:e=>gt(0,1,e)},Us={...Rn,default:1},fu={...Rn,transform:Math.round},ks=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vt=ks("deg"),at=ks("%"),U=ks("px"),aw=ks("vh"),ow=ks("vw"),hu={...at,parse:e=>at.parse(e)/100,transform:e=>at.transform(e*100)},lw={rotate:vt,rotateX:vt,rotateY:vt,rotateZ:vt,scale:Us,scaleX:Us,scaleY:Us,scaleZ:Us,skew:vt,skewX:vt,skewY:vt,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:vs,originX:hu,originY:hu,originZ:U},Eo={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...lw,zIndex:fu,fillOpacity:vs,strokeOpacity:vs,numOctaves:fu},cw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uw=Vn.length;function dw(e,t,n){let s="",i=!0;for(let r=0;r<uw;r++){const a=Vn[r],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=om(o,Eo[a]);if(!l){i=!1;const u=cw[a]||a;s+=`${u}(${c}) `}n&&(t[a]=c)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Vo(e,t,n){const{style:s,vars:i,transformOrigin:r}=e;let a=!1,o=!1;for(const l in t){const c=t[l];if(Dn.has(l)){a=!0;continue}else if($o(l)){i[l]=c;continue}else{const u=om(c,Eo[l]);l.startsWith("origin")?(o=!0,r[l]=u):s[l]=u}}if(t.transform||(a||n?s.transform=dw(t,e.transform,n):s.transform&&(s.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;s.transformOrigin=`${l} ${c} ${u}`}}const Do=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ae=e=>!!(e&&e.getVelocity);function lm(e,t,n){for(const s in t)!Ae(t[s])&&!am(s,n)&&(e[s]=t[s])}function fw({transformTemplate:e},t){return x.useMemo(()=>{const n=Do();return Vo(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hw(e,t){const n=e.style||{},s={};return lm(s,n,e),Object.assign(s,fw(e,t)),s}function mw(e,t){const n={},s=hw(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const pw={offset:"stroke-dashoffset",array:"stroke-dasharray"},gw={offset:"strokeDashoffset",array:"strokeDasharray"};function yw(e,t,n=1,s=0,i=!0){e.pathLength=1;const r=i?pw:gw;e[r.offset]=U.transform(-s);const a=U.transform(t),o=U.transform(n);e[r.array]=`${a} ${o}`}function cm(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:a=0,...o},l,c,u){if(Vo(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),i!==void 0&&yw(f,i,r,a,!1)}const um=()=>({...Do(),attrs:{}}),dm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xw(e,t,n,s){const i=x.useMemo(()=>{const r=um();return cm(r,t,dm(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};lm(r,e.style,e),i.style={...r,...i.style}}return i}const vw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ro(e){return typeof e!="string"||e.includes("-")?!1:!!(vw.indexOf(e)>-1||/[A-Z]/u.test(e))}function bw(e=!1){return(n,s,i,{latestValues:r},a)=>{const l=(Ro(n)?xw:mw)(s,r,a,n),c=W1(s,typeof n=="string",e),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:f}=s,h=x.useMemo(()=>Ae(f)?f.get():f,[f]);return x.createElement(n,{...u,children:h})}}function mu(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function zo(e,t,n,s){if(typeof t=="function"){const[i,r]=mu(s);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=mu(s);t=t(n!==void 0?n:e.custom,i,r)}return t}function Ys(e){return Ae(e)?e.get():e}function ww({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Sw(n,s,i,e),renderState:t()}}const fm=e=>(t,n)=>{const s=x.useContext(Di),i=x.useContext(Vi),r=()=>ww(e,t,s,i);return n?r():So(r)};function Sw(e,t,n,s){const i={},r=s(e,{});for(const h in r)i[h]=Ys(r[h]);let{initial:a,animate:o}=e;const l=zi(e),c=tm(e);t&&c&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const f=u?o:a;if(f&&typeof f!="boolean"&&!Ri(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=zo(e,h[m]);if(g){const{transitionEnd:y,transition:v,...p}=g;for(const w in p){let b=p[w];if(Array.isArray(b)){const P=u?b.length-1:0;b=b[P]}b!==null&&(i[w]=b)}for(const w in y)i[w]=y[w]}}}return i}function Lo(e,t,n){var r;const{style:s}=e,i={};for(const a in s)(Ae(s[a])||t.style&&Ae(t.style[a])||am(a,e)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}const Tw={useVisualState:fm({scrapeMotionValuesFromProps:Lo,createRenderState:Do})};function hm(e,t,n){const s=Lo(e,t,n);for(const i in e)if(Ae(e[i])||Ae(t[i])){const r=Vn.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=e[i]}return s}const Pw={useVisualState:fm({scrapeMotionValuesFromProps:hm,createRenderState:um})};function Cw(e,t){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Ro(s)?Pw:Tw,preloadedFeatures:e,useRender:bw(i),createVisualElement:t,Component:s};return Q1(a)}}function bs(e,t,n){const s=e.getProps();return zo(s,t,n!==void 0?n:s.custom,e)}const ra=e=>Array.isArray(e);let Js;function jw(){Js=void 0}const Ve={now:()=>(Js===void 0&&Ve.set(Te.isProcessing||pt.useManualTiming?Te.timestamp:performance.now()),Js),set:e=>{Js=e,queueMicrotask(jw)}};function Io(e,t){e.indexOf(t)===-1&&e.push(t)}function Oo(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Fo{constructor(){this.subscriptions=[]}add(t){return Io(this.subscriptions,t),()=>Oo(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function mm(e,t){return t?e*(1e3/t):0}const pu=30,Aw=e=>!isNaN(parseFloat(e));class Nw{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var a,o;const r=Ve.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ve.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Aw(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Fo);const s=this.events[t].add(n);return t==="change"?()=>{s(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ve.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>pu)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pu);return mm(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function An(e,t){return new Nw(e,t)}function kw(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,An(n))}function _w(e){return ra(e)?e[e.length-1]||0:e}function $w(e,t){const n=bs(e,t);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const a in r){const o=_w(r[a]);kw(e,a,o)}}function Mw(e){return!!(Ae(e)&&e.add)}function aa(e,t){const n=e.getValue("willChange");if(Mw(n))return n.add(t);if(!n&&pt.WillChange){const s=new pt.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function pm(e){return e.props[nm]}const Ew=e=>e!==null;function Vw(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(Ew),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}const Dw={type:"spring",stiffness:500,damping:25,restSpeed:10},Rw=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zw={type:"keyframes",duration:.8},Lw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Iw=(e,{keyframes:t})=>t.length>2?zw:Dn.has(e)?e.startsWith("scale")?Rw(t[1]):Dw:Lw;function Ow({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Bo(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const ot=e=>e*1e3,lt=e=>e/1e3,Yn=e=>Math.round(e*1e5)/1e5,Uo=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Fw(e){return e==null}const Bw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wo=(e,t)=>n=>!!(typeof n=="string"&&Bw.test(n)&&n.startsWith(e)||t&&!Fw(n)&&Object.prototype.hasOwnProperty.call(n,t)),gm=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,r,a,o]=s.match(Uo);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Uw=e=>gt(0,255,e),cr={...Rn,transform:e=>Math.round(Uw(e))},Bt={test:Wo("rgb","red"),parse:gm("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+cr.transform(e)+", "+cr.transform(t)+", "+cr.transform(n)+", "+Yn(vs.transform(s))+")"};function Ww(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const oa={test:Wo("#"),parse:Ww,transform:Bt.transform},fn={test:Wo("hsl","hue"),parse:gm("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+at.transform(Yn(t))+", "+at.transform(Yn(n))+", "+Yn(vs.transform(s))+")"},xe={test:e=>Bt.test(e)||oa.test(e)||fn.test(e),parse:e=>Bt.test(e)?Bt.parse(e):fn.test(e)?fn.parse(e):oa.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bt.transform(e):fn.transform(e),getAnimatableNone:e=>{const t=xe.parse(e);return t.alpha=0,xe.transform(t)}},Hw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gw(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Uo))==null?void 0:t.length)||0)+(((n=e.match(Hw))==null?void 0:n.length)||0)>0}const ym="number",xm="color",Kw="var",Zw="var(",gu="${}",qw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ws(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const o=t.replace(qw,l=>(xe.test(l)?(s.color.push(r),i.push(xm),n.push(xe.parse(l))):l.startsWith(Zw)?(s.var.push(r),i.push(Kw),n.push(l)):(s.number.push(r),i.push(ym),n.push(parseFloat(l))),++r,gu)).split(gu);return{values:n,split:o,indexes:s,types:i}}function vm(e){return ws(e).values}function bm(e){const{split:t,types:n}=ws(e),s=t.length;return i=>{let r="";for(let a=0;a<s;a++)if(r+=t[a],i[a]!==void 0){const o=n[a];o===ym?r+=Yn(i[a]):o===xm?r+=xe.transform(i[a]):r+=i[a]}return r}}const Xw=e=>typeof e=="number"?0:xe.test(e)?xe.getAnimatableNone(e):e;function Yw(e){const t=vm(e);return bm(e)(t.map(Xw))}const kt={test:Gw,parse:vm,createTransformer:bm,getAnimatableNone:Yw};function ur(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Jw({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,r=0,a=0;if(!t)i=r=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=ur(l,o,e+1/3),r=ur(l,o,e),a=ur(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}function yi(e,t){return n=>n>0?t:e}const oe=(e,t,n)=>e+(t-e)*n,dr=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Qw=[oa,Bt,fn],eS=e=>Qw.find(t=>t.test(e));function yu(e){const t=eS(e);if(!t)return!1;let n=t.parse(e);return t===fn&&(n=Jw(n)),n}const xu=(e,t)=>{const n=yu(e),s=yu(t);if(!n||!s)return yi(e,t);const i={...n};return r=>(i.red=dr(n.red,s.red,r),i.green=dr(n.green,s.green,r),i.blue=dr(n.blue,s.blue,r),i.alpha=oe(n.alpha,s.alpha,r),Bt.transform(i))},la=new Set(["none","hidden"]);function tS(e,t){return la.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}const nS=(e,t)=>n=>t(e(n)),_s=(...e)=>e.reduce(nS);function sS(e,t){return n=>oe(e,t,n)}function Ho(e){return typeof e=="number"?sS:typeof e=="string"?Mo(e)?yi:xe.test(e)?xu:aS:Array.isArray(e)?wm:typeof e=="object"?xe.test(e)?xu:iS:yi}function wm(e,t){const n=[...e],s=n.length,i=e.map((r,a)=>Ho(r)(r,t[a]));return r=>{for(let a=0;a<s;a++)n[a]=i[a](r);return n}}function iS(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Ho(e[i])(e[i],t[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function rS(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],a=e.indexes[r][s[r]],o=e.values[a]??0;n[i]=o,s[r]++}return n}const aS=(e,t)=>{const n=kt.createTransformer(t),s=ws(e),i=ws(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?la.has(e)&&!i.values.length||la.has(t)&&!s.values.length?tS(e,t):_s(wm(rS(s,i),i.values),n):yi(e,t)};function Sm(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):Ho(e)(e,t)}const oS=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ce.update(t,n),stop:()=>Nt(t),now:()=>Te.isProcessing?Te.timestamp:Ve.now()}},Tm=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)s+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},xi=2e4;function Go(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<xi;)t+=n,s=e.next(t);return t>=xi?1/0:t}function lS(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Go(s),xi);return{type:"keyframes",ease:r=>s.next(i*r).value/t,duration:lt(i)}}const cS=5;function Pm(e,t,n){const s=Math.max(t-cS,0);return mm(n-e(s),t-s)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fr=.001;function uS({duration:e=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:s=de.mass}){let i,r,a=1-t;a=gt(de.minDamping,de.maxDamping,a),e=gt(de.minDuration,de.maxDuration,lt(e)),a<1?(i=c=>{const u=c*a,f=u*e,h=u-n,m=ca(c,a),g=Math.exp(-f);return fr-h/m*g},r=c=>{const f=c*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(c,2)*e,g=Math.exp(-f),y=ca(Math.pow(c,2),a);return(-i(c)+fr>0?-1:1)*((h-m)*g)/y}):(i=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-fr+u*f},r=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const o=5/e,l=fS(i,r,o);if(e=ot(e),isNaN(l))return{stiffness:de.stiffness,damping:de.damping,duration:e};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:e}}}const dS=12;function fS(e,t,n){let s=n;for(let i=1;i<dS;i++)s=s-e(s)/t(s);return s}function ca(e,t){return e*Math.sqrt(1-t*t)}const hS=["duration","bounce"],mS=["stiffness","damping","mass"];function vu(e,t){return t.some(n=>e[n]!==void 0)}function pS(e){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...e};if(!vu(e,mS)&&vu(e,hS))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*gt(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:de.mass,stiffness:i,damping:r}}else{const n=uS(e);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function vi(e=de.visualDuration,t=de.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=pS({...n,velocity:-lt(n.velocity||0)}),g=h||0,y=c/(2*Math.sqrt(l*u)),v=a-r,p=lt(Math.sqrt(l/u)),w=Math.abs(v)<5;s||(s=w?de.restSpeed.granular:de.restSpeed.default),i||(i=w?de.restDelta.granular:de.restDelta.default);let b;if(y<1){const S=ca(p,y);b=T=>{const C=Math.exp(-y*p*T);return a-C*((g+y*p*v)/S*Math.sin(S*T)+v*Math.cos(S*T))}}else if(y===1)b=S=>a-Math.exp(-p*S)*(v+(g+p*v)*S);else{const S=p*Math.sqrt(y*y-1);b=T=>{const C=Math.exp(-y*p*T),j=Math.min(S*T,300);return a-C*((g+y*p*v)*Math.sinh(j)+S*v*Math.cosh(j))/S}}const P={calculatedDuration:m&&f||null,next:S=>{const T=b(S);if(m)o.done=S>=f;else{let C=S===0?g:0;y<1&&(C=S===0?ot(g):Pm(b,S,T));const j=Math.abs(C)<=s,k=Math.abs(a-T)<=i;o.done=j&&k}return o.value=o.done?a:T,o},toString:()=>{const S=Math.min(Go(P),xi),T=Tm(C=>P.next(S*C).value,S,30);return S+"ms "+T},toTransition:()=>{}};return P}vi.applyToOptions=e=>{const t=lS(e,100,vi);return e.ease=t.ease,e.duration=ot(t.duration),e.type="keyframes",e};function ua({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=j=>o!==void 0&&j<o||l!==void 0&&j>l,g=j=>o===void 0?l:l===void 0||Math.abs(o-j)<Math.abs(l-j)?o:l;let y=n*t;const v=f+y,p=a===void 0?v:a(v);p!==v&&(y=p-f);const w=j=>-y*Math.exp(-j/s),b=j=>p+w(j),P=j=>{const k=w(j),$=b(j);h.done=Math.abs(k)<=c,h.value=h.done?p:$};let S,T;const C=j=>{m(h.value)&&(S=j,T=vi({keyframes:[h.value,g(h.value)],velocity:Pm(b,j,h.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:j=>{let k=!1;return!T&&S===void 0&&(k=!0,P(j),C(j)),S!==void 0&&j>=S?T.next(j-S):(!k&&P(j),h)}}}const Ss=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};function gS(e,t,n){const s=[],i=n||pt.mix||Sm,r=e.length-1;for(let a=0;a<r;a++){let o=i(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||Ge:t;o=_s(l,o)}s.push(o)}return s}function yS(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const r=e.length;if(_o(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=gS(t,s,i),l=o.length,c=u=>{if(a&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Ss(e[f],e[f+1],u);return o[f](h)};return n?u=>c(gt(e[0],e[r-1],u)):c}function xS(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Ss(0,t,s);e.push(oe(n,1,i))}}function vS(e){const t=[0];return xS(t,e.length-1),t}function bS(e,t){return e.map(n=>n*t)}const Cm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,wS=1e-7,SS=12;function TS(e,t,n,s,i){let r,a,o=0;do a=t+(n-t)/2,r=Cm(a,s,i)-e,r>0?n=a:t=a;while(Math.abs(r)>wS&&++o<SS);return a}function $s(e,t,n,s){if(e===t&&n===s)return Ge;const i=r=>TS(r,0,1,e,n);return r=>r===0||r===1?r:Cm(i(r),t,s)}const PS=$s(.42,0,1,1),CS=$s(0,0,.58,1),jm=$s(.42,0,.58,1),jS=e=>Array.isArray(e)&&typeof e[0]!="number",Am=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Nm=e=>t=>1-e(1-t),km=$s(.33,1.53,.69,.99),Ko=Nm(km),_m=Am(Ko),$m=e=>(e*=2)<1?.5*Ko(e):.5*(2-Math.pow(2,-10*(e-1))),Zo=e=>1-Math.sin(Math.acos(e)),Mm=Nm(Zo),Em=Am(Zo),Vm=e=>Array.isArray(e)&&typeof e[0]=="number",AS={linear:Ge,easeIn:PS,easeInOut:jm,easeOut:CS,circIn:Zo,circInOut:Em,circOut:Mm,backIn:Ko,backInOut:_m,backOut:km,anticipate:$m},NS=e=>typeof e=="string",bu=e=>{if(Vm(e)){_o(e.length===4);const[t,n,s,i]=e;return $s(t,n,s,i)}else if(NS(e))return AS[e];return e};function kS(e,t){return e.map(()=>t||jm).splice(0,e.length-1)}function Jn({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=jS(s)?s.map(bu):bu(s),r={done:!1,value:t[0]},a=bS(n&&n.length===t.length?n:vS(t),e),o=yS(a,t,{ease:Array.isArray(i)?i:kS(t,i)});return{calculatedDuration:e,next:l=>(r.value=o(l),r.done=l>=e,r)}}const _S=e=>e!==null;function qo(e,{repeat:t,repeatType:n="loop"},s,i=1){const r=e.filter(_S),o=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||s===void 0?r[o]:s}const $S={decay:ua,inertia:ua,tween:Jn,keyframes:Jn,spring:vi};function Dm(e){typeof e.type=="string"&&(e.type=$S[e.type])}class Xo{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const MS=e=>e/100;class Yo extends Xo{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ve.now()&&this.tick(Ve.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Dm(t);const{type:n=Jn,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=t;let{keyframes:o}=t;const l=n||Jn;l!==Jn&&typeof o[0]!="number"&&(this.mixKeyframes=_s(MS,Sm(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Go(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,P=s;if(f){const j=Math.min(this.currentTime,i)/o;let k=Math.floor(j),$=j%1;!$&&j>=1&&($=1),$===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(h==="reverse"?($=1-$,m&&($-=m/o)):h==="mirror"&&(P=a)),b=gt(0,1,$)*o}const S=w?{done:!1,value:u[0]}:P.next(b);r&&(S.value=r(S.value));let{done:T}=S;!w&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&g!==ua&&(S.value=qo(u,this.options,v,this.speed)),y&&y(S.value),C&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return lt(this.calculatedDuration)}get time(){return lt(this.currentTime)}set time(t){var n;t=ot(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ve.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=lt(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=oS,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ve.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function ES(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ut=e=>e*180/Math.PI,da=e=>{const t=Ut(Math.atan2(e[1],e[0]));return fa(t)},VS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:da,rotateZ:da,skewX:e=>Ut(Math.atan(e[1])),skewY:e=>Ut(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fa=e=>(e=e%360,e<0&&(e+=360),e),wu=da,Su=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Tu=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),DS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Su,scaleY:Tu,scale:e=>(Su(e)+Tu(e))/2,rotateX:e=>fa(Ut(Math.atan2(e[6],e[5]))),rotateY:e=>fa(Ut(Math.atan2(-e[2],e[0]))),rotateZ:wu,rotate:wu,skewX:e=>Ut(Math.atan(e[4])),skewY:e=>Ut(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ha(e){return e.includes("scale")?1:0}function ma(e,t){if(!e||e==="none")return ha(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=DS,i=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=VS,i=o}if(!i)return ha(t);const r=s[t],a=i[1].split(",").map(zS);return typeof r=="function"?r(a):a[r]}const RS=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ma(n,t)};function zS(e){return parseFloat(e.trim())}const Pu=e=>e===Rn||e===U,LS=new Set(["x","y","z"]),IS=Vn.filter(e=>!LS.has(e));function OS(e){const t=[];return IS.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Kt={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ma(t,"x"),y:(e,{transform:t})=>ma(t,"y")};Kt.translateX=Kt.x;Kt.translateY=Kt.y;const Zt=new Set;let pa=!1,ga=!1,ya=!1;function Rm(){if(ga){const e=Array.from(Zt).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=OS(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,a])=>{var o;(o=s.getValue(r))==null||o.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ga=!1,pa=!1,Zt.forEach(e=>e.complete(ya)),Zt.clear()}function zm(){Zt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ga=!0)})}function FS(){ya=!0,zm(),Rm(),ya=!1}class Jo{constructor(t,n,s,i,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Zt.add(this),pa||(pa=!0,ce.read(zm),ce.resolveKeyframes(Rm))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const o=s.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),i&&r===void 0&&i.set(t[0])}ES(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Zt.delete(this)}cancel(){this.state==="scheduled"&&(Zt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BS=e=>e.startsWith("--");function US(e,t,n){BS(t)?e.style.setProperty(t,n):e.style[t]=n}function Qo(e){let t;return()=>(t===void 0&&(t=e()),t)}const WS=Qo(()=>window.ScrollTimeline!==void 0),HS={};function GS(e,t){const n=Qo(e);return()=>HS[t]??n()}const Lm=GS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hn=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Cu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hn([0,.65,.55,1]),circOut:Hn([.55,0,1,.45]),backIn:Hn([.31,.01,.66,-.59]),backOut:Hn([.33,1.53,.69,.99])};function Im(e,t){if(e)return typeof e=="function"?Lm()?Tm(e,t):"ease-out":Vm(e)?Hn(e):Array.isArray(e)?e.map(n=>Im(n,t)||Cu.easeOut):Cu[e]}function KS(e,t,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const f=Im(o,i);Array.isArray(f)&&(u.easing=f);const h={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Om(e){return typeof e=="function"&&"applyToOptions"in e}function ZS({type:e,...t}){return Om(e)&&Lm()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qS extends Xo{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=t,_o(typeof t.type!="string");const c=ZS(t);this.animation=KS(n,s,i,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=qo(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):US(n,s,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return lt(Number(t))}get time(){return lt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ot(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&WS()?(this.animation.timeline=t,Ge):n(this)}}const Fm={anticipate:$m,backInOut:_m,circInOut:Em};function XS(e){return e in Fm}function YS(e){typeof e.ease=="string"&&XS(e.ease)&&(e.ease=Fm[e.ease])}const ju=10;class JS extends qS{constructor(t){YS(t),Dm(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new Yo({...a,autoplay:!1}),l=ot(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-ju).value,o.sample(l).value,ju),o.stop()}}const Au=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kt.test(e)||e==="0")&&!e.startsWith("url("));function QS(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function eT(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=Au(i,t),o=Au(r,t);return!a||!o?!1:QS(e)||(n==="spring"||Om(n))&&s}const tT=new Set(["opacity","clipPath","filter","transform"]),nT=Qo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sT(e){var c;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:r,type:a}=e;if(!Co((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return nT()&&n&&tT.has(n)&&(n!=="transform"||!l)&&!o&&!s&&i!=="mirror"&&r!==0&&a!=="inertia"}const iT=40;class rT extends Xo{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Ve.now();const h={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:a,name:l,motionValue:c,element:u,...f},m=(u==null?void 0:u.KeyframeResolver)||Jo;this.keyframeResolver=new m(o,(y,v,p)=>this.onKeyframesResolved(y,v,h,!p),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=s;this.resolvedAt=Ve.now(),eT(t,r,a,o)||((pt.instantAnimations||!l)&&(u==null||u(qo(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>iT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!c&&sT(h)?new JS({...h,element:h.motionValue.owner.current}):new Yo(h);m.finished.then(()=>this.notifyFinished()).catch(Ge),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),FS()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const el=(e,t,n,s={},i,r)=>a=>{const o=Bo(s,e)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c=c-ot(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:i};Ow(o)||Object.assign(u,Iw(e,u)),u.duration&&(u.duration=ot(u.duration)),u.repeatDelay&&(u.repeatDelay=ot(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(pt.instantAnimations||pt.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!r&&t.get()!==void 0){const h=Vw(u.keyframes,o);if(h!==void 0){ce.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Yo(u):new rT(u)},Bm=new Set(["width","height","top","left","right","bottom",...Vn]);function aT({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Um(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:a,...o}=t;s&&(r=s);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&aT(c,u))continue;const m={delay:n,...Bo(r||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const p=pm(e);if(p){const w=window.MotionHandoffAnimation(p,u,ce);w!==null&&(m.startTime=w,y=!0)}}aa(e,u),f.start(el(u,f,h,e.shouldReduceMotion&&Bm.has(u)?{type:!1}:m,e,y));const v=f.animation;v&&l.push(v)}return a&&Promise.all(l).then(()=>{ce.update(()=>{a&&$w(e,a)})}),l}function xa(e,t,n={}){var l;const s=bs(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(Um(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return oT(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[r,a]:[a,r];return c().then(()=>u())}else return Promise.all([r(),a(n.delay)])}function oT(e,t,n=0,s=0,i=1,r){const a=[],o=(e.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>o-c*s;return Array.from(e.variantChildren).sort(lT).forEach((c,u)=>{c.notify("AnimationStart",t),a.push(xa(c,t,{...r,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(a)}function lT(e,t){return e.sortNodePosition(t)}function cT(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(r=>xa(e,r,n));s=Promise.all(i)}else if(typeof t=="string")s=xa(e,t,n);else{const i=typeof t=="function"?bs(e,t,n.custom):t;s=Promise.all(Um(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Wm(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const uT=Ao.length;function Hm(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Hm(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uT;n++){const s=Ao[n],i=e.props[s];(ys(i)||i===!1)&&(t[s]=i)}return t}const dT=[...jo].reverse(),fT=jo.length;function hT(e){return t=>Promise.all(t.map(({animation:n,options:s})=>cT(e,n,s)))}function mT(e){let t=hT(e),n=Nu(),s=!0;const i=l=>(c,u)=>{var h;const f=bs(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...y}=f;c={...c,...y,...g}}return c};function r(l){t=l(e)}function a(l){const{props:c}=e,u=Hm(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let v=0;v<fT;v++){const p=dT[v],w=n[p],b=c[p]!==void 0?c[p]:u[p],P=ys(b),S=p===l?w.isActive:null;S===!1&&(g=v);let T=b===u[p]&&b!==c[p]&&P;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...m},!w.isActive&&S===null||!b&&!w.prevProp||Ri(b)||typeof b=="boolean")continue;const C=pT(w.prevProp,b);let j=C||p===l&&w.isActive&&!T&&P||v>g&&P,k=!1;const $=Array.isArray(b)?b:[b];let z=$.reduce(i(p),{});S===!1&&(z={});const{prevResolvedValues:q={}}=w,ve={...q,...z},M=Y=>{j=!0,h.has(Y)&&(k=!0,h.delete(Y)),w.needsAnimating[Y]=!0;const ie=e.getValue(Y);ie&&(ie.liveStyle=!1)};for(const Y in ve){const ie=z[Y],Ne=q[Y];if(m.hasOwnProperty(Y))continue;let Me=!1;ra(ie)&&ra(Ne)?Me=!Wm(ie,Ne):Me=ie!==Ne,Me?ie!=null?M(Y):h.add(Y):ie!==void 0&&h.has(Y)?M(Y):w.protectedKeys[Y]=!0}w.prevProp=b,w.prevResolvedValues=z,w.isActive&&(m={...m,...z}),s&&e.blockInitialAnimation&&(j=!1),j&&(!(T&&C)||k)&&f.push(...$.map(Y=>({animation:Y,options:{type:p}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const p=bs(e,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(v.transition=p.transition)}h.forEach(p=>{const w=e.getBaseTarget(p),b=e.getValue(p);b&&(b.liveStyle=!0),v[p]=w??null}),f.push({animation:v})}let y=!!f.length;return s&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(f):Promise.resolve()}function o(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=a(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Nu(),s=!0}}}function pT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Wm(t,e):!1}function Dt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nu(){return{animate:Dt(!0),whileInView:Dt(),whileHover:Dt(),whileTap:Dt(),whileDrag:Dt(),whileFocus:Dt(),exit:Dt()}}class $t{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gT extends $t{constructor(t){super(t),t.animationState||(t.animationState=mT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ri(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let yT=0;class xT extends $t{constructor(){super(...arguments),this.id=yT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const vT={animation:{Feature:gT},exit:{Feature:xT}};function Ts(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const tl=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ms(e){return{point:{x:e.pageX,y:e.pageY}}}const bT=e=>t=>tl(t)&&e(t,Ms(t));function Qn(e,t,n,s){return Ts(e,t,bT(n),s)}function Gm({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function wT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ST(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const Km=1e-4,TT=1-Km,PT=1+Km,Zm=.01,CT=0-Zm,jT=0+Zm;function $e(e){return e.max-e.min}function AT(e,t,n){return Math.abs(e-t)<=n}function ku(e,t,n,s=.5){e.origin=s,e.originPoint=oe(t.min,t.max,e.origin),e.scale=$e(n)/$e(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=TT&&e.scale<=PT||isNaN(e.scale))&&(e.scale=1),(e.translate>=CT&&e.translate<=jT||isNaN(e.translate))&&(e.translate=0)}function es(e,t,n,s){ku(e.x,t.x,n.x,s?s.originX:void 0),ku(e.y,t.y,n.y,s?s.originY:void 0)}function _u(e,t,n){e.min=n.min+t.min,e.max=e.min+$e(t)}function NT(e,t,n){_u(e.x,t.x,n.x),_u(e.y,t.y,n.y)}function $u(e,t,n){e.min=t.min-n.min,e.max=e.min+$e(t)}function ts(e,t,n){$u(e.x,t.x,n.x),$u(e.y,t.y,n.y)}const Mu=()=>({translate:0,scale:1,origin:0,originPoint:0}),hn=()=>({x:Mu(),y:Mu()}),Eu=()=>({min:0,max:0}),pe=()=>({x:Eu(),y:Eu()});function Ue(e){return[e("x"),e("y")]}function hr(e){return e===void 0||e===1}function va({scale:e,scaleX:t,scaleY:n}){return!hr(e)||!hr(t)||!hr(n)}function Lt(e){return va(e)||qm(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qm(e){return Vu(e.x)||Vu(e.y)}function Vu(e){return e&&e!=="0%"}function bi(e,t,n){const s=e-n,i=t*s;return n+i}function Du(e,t,n,s,i){return i!==void 0&&(e=bi(e,i,s)),bi(e,n,s)+t}function ba(e,t=0,n=1,s,i){e.min=Du(e.min,t,n,s,i),e.max=Du(e.max,t,n,s,i)}function Xm(e,{x:t,y:n}){ba(e.x,t.translate,t.scale,t.originPoint),ba(e.y,n.translate,n.scale,n.originPoint)}const Ru=.999999999999,zu=1.0000000000001;function kT(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,a;for(let o=0;o<i;o++){r=n[o],a=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&pn(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Xm(e,a)),s&&Lt(r.latestValues)&&pn(e,r.latestValues))}t.x<zu&&t.x>Ru&&(t.x=1),t.y<zu&&t.y>Ru&&(t.y=1)}function mn(e,t){e.min=e.min+t,e.max=e.max+t}function Lu(e,t,n,s,i=.5){const r=oe(e.min,e.max,i);ba(e,t,n,r,s)}function pn(e,t){Lu(e.x,t.x,t.scaleX,t.scale,t.originX),Lu(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ym(e,t){return Gm(ST(e.getBoundingClientRect(),t))}function _T(e,t,n){const s=Ym(e,n),{scroll:i}=t;return i&&(mn(s.x,i.offset.x),mn(s.y,i.offset.y)),s}const Jm=({current:e})=>e?e.ownerDocument.defaultView:null,Iu=(e,t)=>Math.abs(e-t);function $T(e,t){const n=Iu(e.x,t.x),s=Iu(e.y,t.y);return Math.sqrt(n**2+s**2)}class Qm{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=pr(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=$T(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:y}=Te;this.history.push({...g,timestamp:y});const{onStart:v,onMove:p}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=mr(h,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=pr(f.type==="pointercancel"?this.lastMoveEventInfo:mr(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),g&&g(f,v)},!tl(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const a=Ms(t),o=mr(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Te;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,pr(o,this.history)),this.removeListeners=_s(Qn(this.contextWindow,"pointermove",this.handlePointerMove),Qn(this.contextWindow,"pointerup",this.handlePointerUp),Qn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nt(this.updatePoint)}}function mr(e,t){return t?{point:t(e.point)}:e}function Ou(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pr({point:e},t){return{point:e,delta:Ou(e,ep(t)),offset:Ou(e,MT(t)),velocity:ET(t,.1)}}function MT(e){return e[0]}function ep(e){return e[e.length-1]}function ET(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=ep(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>ot(t)));)n--;if(!s)return{x:0,y:0};const r=lt(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function VT(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?oe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?oe(n,e,s.max):Math.min(e,n)),e}function Fu(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function DT(e,{top:t,left:n,bottom:s,right:i}){return{x:Fu(e.x,n,i),y:Fu(e.y,t,s)}}function Bu(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function RT(e,t){return{x:Bu(e.x,t.x),y:Bu(e.y,t.y)}}function zT(e,t){let n=.5;const s=$e(e),i=$e(t);return i>s?n=Ss(t.min,t.max-s,e.min):s>i&&(n=Ss(e.min,e.max-i,t.min)),gt(0,1,n)}function LT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wa=.35;function IT(e=wa){return e===!1?e=0:e===!0&&(e=wa),{x:Uu(e,"left","right"),y:Uu(e,"top","bottom")}}function Uu(e,t,n){return{min:Wu(e,t),max:Wu(e,n)}}function Wu(e,t){return typeof e=="number"?e:e[t]||0}const Xe={x:!1,y:!1};function tp(){return Xe.x||Xe.y}function OT(e){return e==="x"||e==="y"?Xe[e]?null:(Xe[e]=!0,()=>{Xe[e]=!1}):Xe.x||Xe.y?null:(Xe.x=Xe.y=!0,()=>{Xe.x=Xe.y=!1})}const FT=new WeakMap;class BT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ms(u).point)},r=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OT(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ue(v=>{let p=this.getAxisMotionValue(v).get()||0;if(at.test(p)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[v];b&&(p=$e(b)*(parseFloat(p)/100))}}this.originPoint[v]=p}),g&&ce.postRender(()=>g(u,f)),aa(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=UT(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),y&&y(u,f)},o=(u,f)=>this.stop(u,f),l=()=>Ue(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Qm(t,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Jm(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&ce.postRender(()=>r(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Ws(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=VT(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&dn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=DT(s.layoutBox,t):this.constraints=!1,this.elastic=IT(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ue(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=LT(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!dn(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=_T(s,i.root,this.visualElement.getTransformPagePoint());let a=RT(i.layout.layoutBox,r);if(n){const o=n(wT(a));this.hasMutatedConstraints=!!o,o&&(a=Gm(o))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ue(u=>{if(!Ws(u,n,this.currentDirection))return;let f=l&&l[u]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:s?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return aa(this.visualElement,t),s.start(el(t,s,0,n,this.visualElement,!1))}stopAnimation(){Ue(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ue(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ue(n=>{const{drag:s}=this.getProps();if(!Ws(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];r.set(t[n]-oe(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!dn(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ue(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=zT({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ue(a=>{if(!Ws(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(oe(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;FT.set(this.visualElement,this);const t=this.visualElement.current,n=Qn(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();dn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ce.read(s);const a=Ts(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ue(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=wa,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function Ws(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function UT(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class WT extends $t{constructor(t){super(t),this.removeGroupControls=Ge,this.removeListeners=Ge,this.controls=new BT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hu=e=>(t,n)=>{e&&ce.postRender(()=>e(t,n))};class HT extends $t{constructor(){super(...arguments),this.removePointerDownListener=Ge}onPointerDown(t){this.session=new Qm(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jm(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Hu(t),onStart:Hu(n),onMove:s,onEnd:(r,a)=>{delete this.session,i&&ce.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=Qn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const On={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const n=Gu(e,t.target.x),s=Gu(e,t.target.y);return`${n}% ${s}%`}},GT={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=kt.parse(e);if(i.length>5)return s;const r=kt.createTransformer(e),a=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=l;const c=oe(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),r(i)}};class KT extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=t;rw(ZT),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Qs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:a}=s;return a&&(a.isPresent=r,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||ce.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ko.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function np(e){const[t,n]=Yh(),s=x.useContext(wo);return d.jsx(KT,{...e,layoutGroup:s,switchLayoutGroup:x.useContext(sm),isPresent:t,safeToRemove:n})}const ZT={borderRadius:{...On,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:On,borderTopRightRadius:On,borderBottomLeftRadius:On,borderBottomRightRadius:On,boxShadow:GT};function qT(e,t,n){const s=Ae(e)?e:An(e);return s.start(el("",s,t,n)),s.animation}const XT=(e,t)=>e.depth-t.depth;class YT{constructor(){this.children=[],this.isDirty=!1}add(t){Io(this.children,t),this.isDirty=!0}remove(t){Oo(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(XT),this.isDirty=!1,this.children.forEach(t)}}function JT(e,t){const n=Ve.now(),s=({timestamp:i})=>{const r=i-n;r>=t&&(Nt(s),e(r-t))};return ce.setup(s,!0),()=>Nt(s)}const sp=["TopLeft","TopRight","BottomLeft","BottomRight"],QT=sp.length,Ku=e=>typeof e=="string"?parseFloat(e):e,Zu=e=>typeof e=="number"||U.test(e);function eP(e,t,n,s,i,r){i?(e.opacity=oe(0,n.opacity??1,tP(s)),e.opacityExit=oe(t.opacity??1,0,nP(s))):r&&(e.opacity=oe(t.opacity??1,n.opacity??1,s));for(let a=0;a<QT;a++){const o=`border${sp[a]}Radius`;let l=qu(t,o),c=qu(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Zu(l)===Zu(c)?(e[o]=Math.max(oe(Ku(l),Ku(c),s),0),(at.test(c)||at.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,s))}function qu(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tP=ip(0,.5,Mm),nP=ip(.5,.95,Ge);function ip(e,t,n){return s=>s<e?0:s>t?1:n(Ss(e,t,s))}function Xu(e,t){e.min=t.min,e.max=t.max}function Fe(e,t){Xu(e.x,t.x),Xu(e.y,t.y)}function Yu(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ju(e,t,n,s,i){return e-=t,e=bi(e,1/n,s),i!==void 0&&(e=bi(e,1/i,s)),e}function sP(e,t=0,n=1,s=.5,i,r=e,a=e){if(at.test(t)&&(t=parseFloat(t),t=oe(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=oe(r.min,r.max,s);e===r&&(o-=t),e.min=Ju(e.min,t,n,o,i),e.max=Ju(e.max,t,n,o,i)}function Qu(e,t,[n,s,i],r,a){sP(e,t[n],t[s],t[i],t.scale,r,a)}const iP=["x","scaleX","originX"],rP=["y","scaleY","originY"];function ed(e,t,n,s){Qu(e.x,t,iP,n?n.x:void 0,s?s.x:void 0),Qu(e.y,t,rP,n?n.y:void 0,s?s.y:void 0)}function td(e){return e.translate===0&&e.scale===1}function rp(e){return td(e.x)&&td(e.y)}function nd(e,t){return e.min===t.min&&e.max===t.max}function aP(e,t){return nd(e.x,t.x)&&nd(e.y,t.y)}function sd(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ap(e,t){return sd(e.x,t.x)&&sd(e.y,t.y)}function id(e){return $e(e.x)/$e(e.y)}function rd(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oP{constructor(){this.members=[]}add(t){Io(this.members,t),t.scheduleRender()}remove(t){if(Oo(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lP(e,t,n){let s="";const i=e.x.translate/t.x,r=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||r||a)&&(s=`translate3d(${i}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),h&&(s+=`rotateY(${h}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}function op(e){return Xh(e)&&"ownerSVGElement"in e}function cP(e){return op(e)&&e.tagName==="svg"}const gr=["","X","Y","Z"],uP={visibility:"hidden"},dP=1e3;let fP=0;function yr(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function lp(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=pm(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ce,!(i||r))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&lp(s)}function cp({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},o=t==null?void 0:t()){this.id=fP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pP),this.nodes.forEach(bP),this.nodes.forEach(wP),this.nodes.forEach(gP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new YT)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Fo),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=op(a)&&!cP(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=JT(f,250),Qs.hasAnimatedSinceResize&&(Qs.hasAnimatedSinceResize=!1,this.nodes.forEach(od))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||jP,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=c.getProps(),p=!this.targetLayout||!ap(this.targetLayout,m),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Bo(g,"layout"),onPlay:y,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,w)}else f||od(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SP),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ad);return}this.isUpdating||this.nodes.forEach(xP),this.isUpdating=!1,this.nodes.forEach(vP),this.nodes.forEach(hP),this.nodes.forEach(mP),this.clearAllSnapshots();const o=Ve.now();Te.delta=gt(0,1e3/60,o-Te.timestamp),Te.timestamp=o,Te.isProcessing=!0,lr.update.process(Te),lr.preRender.process(Te),lr.render.process(Te),Te.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ko.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yP),this.sharedNodes.forEach(TP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$e(this.snapshot.measuredBox.x)&&!$e(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!rp(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Lt(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),AP(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return pe();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(NP))){const{scroll:u}=this.root;u&&(mn(o.x,u.offset.x),mn(o.y,u.offset.y))}return o}removeElementScroll(a){var l;const o=pe();if(Fe(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Fe(o,a),mn(o.x,f.offset.x),mn(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=pe();Fe(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pn(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Lt(u.latestValues)&&pn(l,u.latestValues)}return Lt(this.latestValues)&&pn(l,this.latestValues),l}removeTransform(a){const o=pe();Fe(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Lt(c.latestValues))continue;va(c.latestValues)&&c.updateSnapshot();const u=pe(),f=c.measurePageBox();Fe(u,f),ed(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Lt(this.latestValues)&&ed(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Te.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Te.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),ts(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Fe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pe(),this.targetWithTransforms=pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fe(this.target,this.layout.layoutBox),Xm(this.target,this.targetDelta)):Fe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),ts(this.relativeTargetOrigin,this.target,m.target),Fe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||va(this.parent.latestValues)||qm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Te.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Fe(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;kT(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=pe());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yu(this.prevProjectionDelta.x,this.projectionDelta.x),Yu(this.prevProjectionDelta.y,this.projectionDelta.y)),es(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!rd(this.projectionDelta.x,this.prevProjectionDelta.x)||!rd(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hn(),this.projectionDelta=hn(),this.projectionDeltaWithTransform=hn()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=hn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=pe(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,v=this.getStack(),p=!v||v.members.length<=1,w=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(CP));this.animationProgress=0;let b;this.mixTargetDelta=P=>{const S=P/1e3;ld(f.x,a.x,S),ld(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ts(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PP(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&aP(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=pe()),Fe(b,this.relativeTarget)),y&&(this.animationValues=u,eP(u,c,this.latestValues,S,w,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Nt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{Qs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=An(0)),this.currentAnimation=qT(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&up(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pe();const f=$e(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=$e(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Fe(o,l),pn(o,u),es(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new oP),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&yr("z",a,c,this.animationValues);for(let u=0;u<gr.length;u++)yr(`rotate${gr[u]}`,a,c,this.animationValues),yr(`skew${gr[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return uP;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Ys(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ys(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Lt(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=lP(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in xs){if(u[m]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:v}=xs[m],p=o.transform==="none"?u[m]:g(u[m],c);if(y){const w=y.length;for(let b=0;b<w;b++)o[y[b]]=p}else v?this.options.visualElement.renderState.vars[m]=p:o[m]=p}return this.options.layoutId&&(o.pointerEvents=c===this?Ys(a==null?void 0:a.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(ad),this.root.sharedNodes.clear()}}}function hP(e){e.updateLayout()}function mP(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;r==="size"?Ue(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=$e(h);h.min=s[f].min,h.max=h.min+m}):up(r,t.layoutBox,s)&&Ue(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=$e(s[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=hn();es(o,s,t.layoutBox);const l=hn();a?es(l,e.applyTransform(i,!0),t.measuredBox):es(l,s,t.layoutBox);const c=!rp(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=pe();ts(g,t.layoutBox,h.layoutBox);const y=pe();ts(y,s,m.layoutBox),ap(g,y)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function pP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yP(e){e.clearSnapshot()}function ad(e){e.clearMeasurements()}function xP(e){e.isLayoutDirty=!1}function vP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function od(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bP(e){e.resolveTargetDelta()}function wP(e){e.calcProjection()}function SP(e){e.resetSkewAndRotation()}function TP(e){e.removeLeadSnapshot()}function ld(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cd(e,t,n,s){e.min=oe(t.min,n.min,s),e.max=oe(t.max,n.max,s)}function PP(e,t,n,s){cd(e.x,t.x,n.x,s),cd(e.y,t.y,n.y,s)}function CP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jP={duration:.45,ease:[.4,0,.1,1]},ud=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dd=ud("applewebkit/")&&!ud("chrome/")?Math.round:Ge;function fd(e){e.min=dd(e.min),e.max=dd(e.max)}function AP(e){fd(e.x),fd(e.y)}function up(e,t,n){return e==="position"||e==="preserve-aspect"&&!AT(id(t),id(n),.2)}function NP(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const kP=cp({attachResizeListener:(e,t)=>Ts(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xr={current:void 0},dp=cp({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xr.current){const e=new kP({});e.mount(window),e.setOptions({layoutScroll:!0}),xr.current=e}return xr.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_P={pan:{Feature:HT},drag:{Feature:WT,ProjectionNode:dp,MeasureLayout:np}};function $P(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function fp(e,t){const n=$P(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function hd(e){return!(e.pointerType==="touch"||tp())}function MP(e,t,n={}){const[s,i,r]=fp(e,n),a=o=>{if(!hd(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{hd(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return s.forEach(o=>{o.addEventListener("pointerenter",a,i)}),r}function md(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&ce.postRender(()=>r(t,Ms(t)))}class EP extends $t{mount(){const{current:t}=this.node;t&&(this.unmount=MP(t,(n,s)=>(md(this.node,s,"Start"),i=>md(this.node,i,"End"))))}unmount(){}}class VP extends $t{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_s(Ts(this.node.current,"focus",()=>this.onFocus()),Ts(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const hp=(e,t)=>t?e===t?!0:hp(e,t.parentElement):!1,DP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RP(e){return DP.has(e.tagName)||e.tabIndex!==-1}const ei=new WeakSet;function pd(e){return t=>{t.key==="Enter"&&e(t)}}function vr(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const zP=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=pd(()=>{if(ei.has(n))return;vr(n,"down");const i=pd(()=>{vr(n,"up")}),r=()=>vr(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function gd(e){return tl(e)&&!tp()}function LP(e,t,n={}){const[s,i,r]=fp(e,n),a=o=>{const l=o.currentTarget;if(!gd(o))return;ei.add(l);const c=t(l,o),u=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ei.has(l)&&ei.delete(l),gd(m)&&typeof c=="function"&&c(m,{success:g})},f=m=>{u(m,l===window||l===document||n.useGlobalTarget||hp(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return s.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),Co(o)&&(o.addEventListener("focus",c=>zP(c,i)),!RP(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function yd(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&ce.postRender(()=>r(t,Ms(t)))}class IP extends $t{mount(){const{current:t}=this.node;t&&(this.unmount=LP(t,(n,s)=>(yd(this.node,s,"Start"),(i,{success:r})=>yd(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sa=new WeakMap,br=new WeakMap,OP=e=>{const t=Sa.get(e.target);t&&t(e)},FP=e=>{e.forEach(OP)};function BP({root:e,...t}){const n=e||document;br.has(n)||br.set(n,{});const s=br.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(FP,{root:e,...t})),s[i]}function UP(e,t,n){const s=BP(t);return Sa.set(e,n),s.observe(e),()=>{Sa.delete(e),s.unobserve(e)}}const WP={some:0,all:1};class HP extends $t{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:WP[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return UP(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(GP(t,n))&&this.startObserver()}unmount(){}}function GP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const KP={inView:{Feature:HP},tap:{Feature:IP},focus:{Feature:VP},hover:{Feature:EP}},ZP={layout:{ProjectionNode:dp,MeasureLayout:np}},Ta={current:null},mp={current:!1};function qP(){if(mp.current=!0,!!To)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ta.current=e.matches;e.addListener(t),t()}else Ta.current=!1}const XP=new WeakMap;function YP(e,t,n){for(const s in t){const i=t[s],r=n[s];if(Ae(i))e.addValue(s,i);else if(Ae(r))e.addValue(s,An(i,{owner:e}));else if(r!==i)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,An(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const pp=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gp=e=>/^0[^.\s]+$/u.test(e),JP={test:e=>e==="auto",parse:e=>e},yp=e=>t=>t.test(e),xp=[Rn,U,at,vt,ow,aw,JP],xd=e=>xp.find(yp(e)),QP=[...xp,xe,kt],eC=e=>QP.find(yp(e)),tC=new Set(["brightness","contrast","saturate","opacity"]);function nC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Uo)||[];if(!s)return e;const i=n.replace(s,"");let r=tC.has(t)?1:0;return s!==n&&(r*=100),t+"("+r+i+")"}const sC=/\b([a-z-]*)\(.*?\)/gu,Pa={...kt,getAnimatableNone:e=>{const t=e.match(sC);return t?t.map(nC).join(" "):e}},iC={...Eo,color:xe,backgroundColor:xe,outlineColor:xe,fill:xe,stroke:xe,borderColor:xe,borderTopColor:xe,borderRightColor:xe,borderBottomColor:xe,borderLeftColor:xe,filter:Pa,WebkitFilter:Pa},vp=e=>iC[e];function bp(e,t){let n=vp(e);return n!==Pa&&(n=kt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vd=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rC{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jo,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ve.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ce.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=zi(n),this.isVariantNode=tm(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&Ae(m)&&m.set(l[h],!1)}}mount(t){this.current=t,XP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),mp.current||qP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ta.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nt(this.notifyUpdate),Nt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Dn.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ce.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jn){const n=jn[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<vd.length;s++){const i=vd[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=t[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=YP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=An(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(pp(s)||gp(s))?s=parseFloat(s):!eC(s)&&kt.test(n)&&(s=bp(t,n)),this.setBaseTarget(t,Ae(s)?s.get():s)),Ae(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=zo(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ae(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Fo),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}const aC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oC(e){const t=aC.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function wp(e,t,n=1){const[s,i]=oC(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const a=r.trim();return pp(a)?parseFloat(a):a}return Mo(i)?wp(i,t,n+1):i}function lC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gp(e):!0}const cC=new Set(["auto","none","0"]);function uC(e,t,n){let s=0,i;for(;s<e.length&&!i;){const r=e[s];typeof r=="string"&&!cC.has(r)&&ws(r).values.length&&(i=e[s]),s++}if(i&&n)for(const r of t)e[r]=bp(n,i)}class dC extends Jo{constructor(t,n,s,i,r){super(t,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Mo(c))){const u=wp(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Bm.has(s)||t.length!==2)return;const[i,r]=t,a=xd(i),o=xd(r);if(a!==o)if(Pu(a)&&Pu(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Kt[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||lC(t[i]))&&s.push(i);s.length&&uC(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kt[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,a=s[r];s[r]=Kt[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}class Sp extends rC{constructor(){super(...arguments),this.KeyframeResolver=dC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ae(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tp(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const r in n)e.style.setProperty(r,n[r])}function fC(e){return window.getComputedStyle(e)}class hC extends Sp{constructor(){super(...arguments),this.type="html",this.renderInstance=Tp}readValueFromInstance(t,n){var s;if(Dn.has(n))return(s=this.projection)!=null&&s.isProjecting?ha(n):RS(t,n);{const i=fC(t),r=($o(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ym(t,n)}build(t,n,s){Vo(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Lo(t,n,s)}}const Pp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mC(e,t,n,s){Tp(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Pp.has(i)?i:No(i),t.attrs[i])}class pC extends Sp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dn.has(n)){const s=vp(n);return s&&s.default||0}return n=Pp.has(n)?n:No(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return hm(t,n,s)}build(t,n,s){cm(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){mC(t,n,s,i)}mount(t){this.isSVGTag=dm(t.tagName),super.mount(t)}}const gC=(e,t)=>Ro(e)?new pC(t):new hC(t,{allowProjection:e!==x.Fragment}),yC=Cw({...vT,...KP,..._P,...ZP},gC),Q=H1(yC),We=({children:e,className:t,onClick:n})=>d.jsx("div",{className:Va("card",n&&"cursor-pointer hover:bg-background-tertiary transition-colors",t),onClick:n,children:e});Nn.register(bd,wd,zp,Sd,Td,Pd);const nl=({datasets:e,title:t="Effect Size Distribution",trueEffectSize:n,binCount:s=30})=>{const i=x.useMemo(()=>{const l=e.flatMap(g=>g.effectSizes),c=Math.min(...l),f=(Math.max(...l)-c)/s,h=Array(s).fill(0).map((g,y)=>{const v=c+y*f,p=c+(y+1)*f;return`${v.toFixed(2)}-${p.toFixed(2)}`}),m=e.map((g,y)=>{const v=Array(s).fill(0);g.effectSizes.forEach(w=>{const b=Math.min(Math.floor((w-c)/f),s-1);v[b]++});const p=.9-y*.2;return{label:g.label,data:v,backgroundColor:`rgba(255, 255, 255, ${Math.max(p,.3)})`,borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:.5,borderRadius:2}});return{labels:h,datasets:m}},[e,s]),r={id:"trueEffectLine",afterDatasetsDraw:l=>{if(!n)return;const{ctx:c,chartArea:u,scales:f}=l;if(!u||!f.x)return;const h=e.flatMap(v=>v.effectSizes),m=Math.min(...h),g=Math.max(...h),y=g-m;if(n>=m&&n<=g){const v=(n-m)/y,p=u.left+v*u.width;c.save(),c.strokeStyle="#22d3ee",c.lineWidth=2,c.setLineDash([3,3]),c.beginPath(),c.moveTo(p,u.top),c.lineTo(p,u.bottom),c.stroke(),c.fillStyle="#22d3ee",c.font="10px sans-serif",c.textAlign="center",c.fillText(`True: ${n.toFixed(2)}`,p,u.top-5),c.restore()}}},a={responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,right:10,bottom:10,left:10}},plugins:{legend:{display:!1},title:{display:!1,text:t,align:"start",color:"#e4e4e7",font:{size:14,weight:"bold",family:"Roboto, sans-serif"},padding:{bottom:6}},tooltip:{backgroundColor:"rgba(39, 39, 42, 0.95)",titleColor:"#e4e4e7",bodyColor:"#e4e4e7",borderColor:"#71717a",borderWidth:1,callbacks:{title:l=>`Effect size range: ${l[0].label}`,label:l=>`${l.dataset.label}: ${l.raw} estimates`,afterBody:()=>["","Larger samples = more precise estimates","Clustering around true effect shows accuracy"]}}},scales:{x:{title:{display:!0,text:"Effect Size (Cohen's d)",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10}},grid:{color:"rgba(113, 113, 122, 0.3)"}},y:{title:{display:!0,text:"Frequency",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10}},grid:{color:"rgba(113, 113, 122, 0.3)"}}},elements:{bar:{borderSkipped:!1}},animation:{duration:750,easing:"easeOutQuart"}},o=x.useMemo(()=>e.map(l=>{const c=l.effectSizes,u=c.reduce((m,g)=>m+g,0)/c.length,f=c.reduce((m,g)=>m+Math.pow(g-u,2),0)/c.length,h=Math.sqrt(f);return{label:l.label,mean:u.toFixed(3),std:h.toFixed(3),min:Math.min(...c).toFixed(3),max:Math.max(...c).toFixed(3),opacity:.9-e.indexOf(l)*.2}}),[e]);return d.jsx(Q.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(We,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Gp,{className:"h-5 w-5 text-cyan-400"}),d.jsx("h3",{className:"text-lg font-semibold text-zinc-200",children:t}),d.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-zinc-500",children:[d.jsx(Ca,{className:"h-3 w-3"}),"Distribution of effect sizes"]})]}),d.jsx("div",{className:"h-80 mb-4",children:d.jsx(Cd,{data:i,options:a,plugins:[r]})}),d.jsx("div",{className:"flex justify-center mb-4 space-x-4",children:e.map((l,c)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:`rgba(255, 255, 255, ${.9-c*.2})`}}),d.jsx("span",{className:"text-sm text-zinc-300",children:l.label})]},l.label))}),d.jsxs("div",{className:"space-y-2",children:[o.map((l,c)=>d.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[d.jsxs("span",{className:"font-medium",children:[l.label,":"]}),d.jsxs("span",{children:["Mean: ",l.mean,", SD: ",l.std,", Range: [",l.min,", ",l.max,"]"]})]},c)),n&&d.jsxs("div",{className:"text-center mt-3 text-sm text-cyan-400 border-t border-zinc-700 pt-2",children:["True Effect Size: ",n.toFixed(2)]})]})]})})},xC=({datasets:e,trueEffectSize:t})=>{const[n,s]=x.useState(0),[i,r]=x.useState(!1),a=x.useRef(null);x.useEffect(()=>(i?a.current=setInterval(()=>{s(u=>(u+1)%e.length)},2500):a.current&&(clearInterval(a.current),a.current=null),()=>{a.current&&clearInterval(a.current)}),[i,e.length]);const o=()=>{s(u=>(u-1+e.length)%e.length)},l=()=>{s(u=>(u+1)%e.length)},c=()=>{r(!i)};return!e||e.length===0?null:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"relative overflow-hidden",children:d.jsx(Ns,{mode:"wait",children:d.jsxs(Q.div,{initial:{x:300,opacity:0,scale:.95},animate:{x:0,opacity:1,scale:1},exit:{x:-300,opacity:0,scale:.95},transition:{type:"spring",stiffness:250,damping:25},className:"bg-zinc-800 rounded-lg p-6",children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-zinc-100",children:e[n].label}),d.jsxs("p",{className:"text-sm text-zinc-400",children:[e[n].effectSizes.length," effect size estimates"]}),d.jsx("div",{className:"text-xs text-purple-400 mt-1",children:"Precision increases with sample size →"})]}),d.jsx(nl,{datasets:[e[n]],title:"",trueEffectSize:t}),d.jsxs(Q.div,{className:"mt-4 grid grid-cols-2 gap-4 text-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("div",{className:"bg-zinc-700 rounded p-3",children:[d.jsx("div",{className:"text-zinc-400",children:"Mean Effect Size"}),d.jsx("div",{className:"text-zinc-100 font-semibold",children:(e[n].effectSizes.reduce((u,f)=>u+f,0)/e[n].effectSizes.length).toFixed(3)})]}),d.jsxs("div",{className:"bg-zinc-700 rounded p-3",children:[d.jsx("div",{className:"text-zinc-400",children:"Standard Error"}),d.jsx("div",{className:"text-zinc-100 font-semibold",children:vC(e[n].effectSizes).toFixed(3)})]})]})]},n)})}),d.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[d.jsx(Q.button,{onClick:o,className:"p-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-zinc-300 hover:text-white transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(Ed,{className:"h-5 w-5"})}),d.jsx(Q.button,{onClick:c,className:`p-2 rounded-full transition-colors ${i?"bg-red-600 hover:bg-red-500 text-white":"bg-purple-600 hover:bg-purple-500 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i?d.jsx(Vd,{className:"h-5 w-5"}):d.jsx(ja,{className:"h-5 w-5"})}),d.jsx(Q.button,{onClick:l,className:"p-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-zinc-300 hover:text-white transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(Aa,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex justify-center space-x-2",children:e.map((u,f)=>d.jsx(Q.button,{onClick:()=>s(f),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${f===n?"bg-purple-500 text-white":"bg-zinc-600 hover:bg-zinc-500 text-zinc-300"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:u.label},f))}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"h-2 bg-zinc-700 rounded-full overflow-hidden",children:d.jsx(Q.div,{className:"h-full bg-gradient-to-r from-red-500 via-yellow-500 to-green-500 rounded-full",animate:{width:`${(n+1)/e.length*100}%`},transition:{type:"spring",stiffness:400,damping:30}})}),d.jsxs("div",{className:"flex justify-between text-xs text-zinc-500 mt-1",children:[d.jsx("span",{children:"Lower Precision"}),d.jsx("span",{children:"Higher Precision"})]})]})]}),d.jsx("div",{className:"bg-purple-900/20 border border-purple-800/30 rounded-lg p-3 text-sm",children:d.jsxs("p",{className:"text-purple-200",children:[d.jsx("strong",{children:"Effect Size Progression:"})," Watch how the distribution becomes tighter around the true effect size as sample size increases. The gradient bar shows the progression from lower to higher precision."]})})]})},vC=e=>{if(e.length===0)return 0;const t=e.reduce((i,r)=>i+r,0)/e.length,n=e.reduce((i,r)=>i+Math.pow(r-t,2),0)/e.length;return Math.sqrt(n)/Math.sqrt(e.length)},bC=({datasets:e,title:t,trueEffectSize:n,initialMode:s="separate"})=>{const[i,r]=x.useState(s);return!e||e.length<=1?d.jsx("div",{className:"bg-zinc-800 rounded-lg p-1",children:d.jsx(nl,{datasets:e||[],title:t,trueEffectSize:n})}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:t}),d.jsxs("div",{className:"flex items-center bg-zinc-800 rounded-lg relative overflow-hidden",children:[d.jsx(Q.div,{className:"absolute top-0 left-0 w-1/2 h-full bg-purple-600",animate:{x:i==="separate"?"0%":"100%"},transition:{type:"spring",stiffness:300,damping:30},layoutId:"effectSizeToggle"}),d.jsxs(Q.button,{onClick:()=>r("separate"),className:`relative z-10 flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors ${i==="separate"?"text-white":"text-zinc-400 hover:text-zinc-200"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(Dd,{className:"h-4 w-4"}),"Slideshow"]}),d.jsxs(Q.button,{onClick:()=>r("overlay"),className:`relative z-10 flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors ${i==="overlay"?"text-white":"text-zinc-400 hover:text-zinc-200"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(Rd,{className:"h-4 w-4"}),"Overlay"]})]})]}),d.jsx("div",{className:"relative overflow-hidden rounded-lg",children:d.jsx(Ns,{mode:"wait",children:i==="separate"?d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeInOut"},layout:!0,children:d.jsx(xC,{datasets:e,trueEffectSize:n})},"separate"):d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeInOut"},layout:!0,children:d.jsxs(Q.div,{className:"bg-zinc-800 rounded-lg p-4 overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.3},whileHover:{scale:1.01},children:[d.jsx(wC,{datasets:e,trueEffectSize:n}),d.jsx(Q.div,{className:"flex justify-center mt-4 space-x-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:e.map((a,o)=>d.jsxs(Q.div,{className:"flex items-center gap-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+o*.05},whileHover:{scale:1.05},children:[d.jsx(Q.div,{className:"w-3 h-3 rounded",style:{backgroundColor:`rgba(255, 255, 255, ${.9-o*.2})`},whileHover:{scale:1.2}}),d.jsx("span",{className:"text-sm text-zinc-300",children:a.label})]},`legend-${a.sampleSize}`))})]})},"overlay")})}),d.jsx("div",{className:"bg-purple-900/20 border border-purple-800/30 rounded-lg p-3 text-sm",children:d.jsxs("p",{className:"text-purple-200",children:[d.jsx("strong",{children:i==="separate"?"Separate View:":"Overlay View:"})," ",i==="separate"?"Analyze how sample size affects the precision of effect size estimates for each group individually.":"Compare effect size precision across all sample sizes simultaneously to identify optimal power."]})})]})},wC=({datasets:e,trueEffectSize:t})=>{const{chartData:n}=x.useMemo(()=>{const a=Math.min(...e.flatMap(h=>h.effectSizes)),c=(Math.max(...e.flatMap(h=>h.effectSizes))-a)/30,u=Array(30).fill(0).map((h,m)=>{const g=a+m*c,y=a+(m+1)*c;return`${g.toFixed(2)}-${y.toFixed(2)}`}),f=e.map((h,m)=>{const g=Array(30).fill(0);h.effectSizes.forEach(v=>{const p=Math.min(Math.floor((v-a)/c),29);p>=0&&g[p]++});const y=.9-m*.2;return{label:h.label,data:g,backgroundColor:`rgba(255, 255, 255, ${y})`,borderColor:"rgba(255, 255, 255, 1)",borderWidth:1,borderRadius:2,type:"bar"}});return{chartData:{labels:u,datasets:f}}},[e]),s=x.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,right:10,bottom:10,left:10}},plugins:{legend:{display:!1},title:{display:!0,text:"Effect Size Distribution Comparison",color:"#e4e4e7",font:{size:14,weight:"bold"}},tooltip:{backgroundColor:"rgba(39, 39, 42, 0.95)",titleColor:"#e4e4e7",bodyColor:"#e4e4e7",borderColor:"#71717a",borderWidth:1,callbacks:{title:r=>`Effect size range: ${r[0].label}`,label:r=>`${r.dataset.label}: ${r.raw} estimates`,afterBody:()=>["","Larger samples = more precise estimates","Clustering around true effect shows accuracy"]}}},scales:{x:{title:{display:!0,text:"Effect Size (Cohen's d)",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10},display:!1},grid:{color:"rgba(113, 113, 122, 0.3)",display:!1}},y:{title:{display:!0,text:"Frequency",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10},display:!1},grid:{color:"rgba(113, 113, 122, 0.3)",display:!1}}},elements:{bar:{borderSkipped:!1}},animation:{duration:750,easing:"easeOutQuart"}}),[]),i=x.useMemo(()=>({id:"trueEffectLine",afterDatasetsDraw:r=>{const{ctx:a,chartArea:o,scales:l}=r;if(!o||!l.x)return;const c=Math.min(...e.flatMap(h=>h.effectSizes)),u=Math.max(...e.flatMap(h=>h.effectSizes)),f=u-c;if(t>=c&&t<=u){const h=(t-c)/f,m=o.left+h*o.width;a.save(),a.strokeStyle="#22d3ee",a.lineWidth=2,a.setLineDash([3,3]),a.beginPath(),a.moveTo(m,o.top),a.lineTo(m,o.bottom),a.stroke(),a.fillStyle="#22d3ee",a.font="10px sans-serif",a.textAlign="center",a.fillText(`True: ${t.toFixed(2)}`,m,o.top-5),a.restore()}}}),[t,e]);return d.jsx("div",{className:"h-48 overflow-hidden",children:d.jsx(Cd,{data:n,options:s,plugins:[i]})})};Nn.register(bd,wd,Lp,Ip,Sd,Td,Pd,Op);const SC=(e,t,n)=>{if(e.length===0)return[];const s=[],i=1/(n-1);for(let r=0;r<n;r++){const a=r*i;let o=0;for(const l of e){const c=(a-l)/t;o+=Math.exp(-.5*c*c)/Math.sqrt(2*Math.PI)}o=o/(e.length*t),s.push({x:a,y:o})}return s},sl=({pValues:e,title:t="P-Value Distribution",significanceLevel:n=.05,densityPoints:s=100})=>{const{chartData:i,significantCount:r,totalCount:a}=x.useMemo(()=>{if(e.length===0)return{chartData:{labels:[],datasets:[]},significantCount:0,totalCount:0};const c=Math.pow(4/(3*e.length),1/5)*Math.sqrt(e.reduce((w,b)=>w+b*b,0)/e.length),u=SC(e,c,s),f=u.map(w=>w.x.toFixed(3)),h=u.map(w=>w.y),m=Math.floor(n*s),g=h.map((w,b)=>b<=m?w:null),y=h.map((w,b)=>b>=m?w:null),v=e.filter(w=>w<n).length,p=e.length;return{chartData:{labels:f,datasets:[{label:"Significant Region",data:g,backgroundColor:"rgba(239, 68, 68, 0.3)",borderColor:"rgba(239, 68, 68, 0.9)",borderWidth:3,fill:"origin",tension:.4,pointRadius:0,pointHoverRadius:0,spanGaps:!1},{label:"Non-Significant Region",data:y,backgroundColor:"rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.9)",borderWidth:3,fill:"origin",tension:.4,pointRadius:0,pointHoverRadius:0,spanGaps:!1}]},significantCount:v,totalCount:p}},[e,n,s]),o={id:"significanceLine",afterDatasetsDraw:c=>{const{ctx:u,chartArea:f,scales:h}=c;if(!f||!h.x)return;const m=f.left+f.width*n;u.save(),u.strokeStyle="#ef4444",u.lineWidth=2,u.setLineDash([5,5]),u.beginPath(),u.moveTo(m,f.top),u.lineTo(m,f.bottom),u.stroke(),u.fillStyle="#ef4444",u.font="10px sans-serif",u.textAlign="center",u.fillText(`α = ${n}`,m,f.top-5),u.restore()}},l={responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,right:10,bottom:10,left:10}},plugins:{legend:{display:!1},title:{display:!1,text:t,align:"start",color:"#e4e4e7",font:{size:14,weight:"normal",family:"Roboto, sans-serif"},padding:{bottom:6}},tooltip:{backgroundColor:"rgba(39, 39, 42, 0.95)",titleColor:"#e4e4e7",bodyColor:"#e4e4e7",borderColor:"#71717a",borderWidth:1,filter:c=>c.raw!==null,callbacks:{title:c=>{const u=c[0];return`P-value: ${parseFloat(u.label).toFixed(3)}`},label:c=>{const u=c.raw,f=c.datasetIndex===0;return`Density: ${u.toFixed(4)} ${f?"(significant)":"(not significant)"}`},afterBody:()=>["","Red curve: statistically significant region (p < α)","White curve: non-significant region (p ≥ α)","Higher peaks = more common p-values"]}}},scales:{x:{type:"linear",min:0,max:1,title:{display:!0,text:"P-Value",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10},stepSize:.1},grid:{color:"rgba(113, 113, 122, 0.3)"}},y:{min:0,title:{display:!0,text:"Density",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10}},grid:{color:"rgba(113, 113, 122, 0.3)"}}},elements:{line:{borderJoinStyle:"round",borderCapStyle:"round"}},animation:{duration:750,easing:"easeOutQuart"},interaction:{intersect:!1,mode:"index"}};return d.jsx(Q.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(We,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(et,{className:"h-5 w-5 text-red-400"}),d.jsx("h3",{className:"text-lg font-semibold text-zinc-200",children:t}),d.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-zinc-500",children:[d.jsx(Ca,{className:"h-3 w-3"}),"Distribution of p-values"]})]}),d.jsx("div",{className:"h-80 mb-4",children:d.jsx(jd,{data:i,options:l,plugins:[o]})}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:"text-red-400",children:[r," significant values"]}),d.jsxs("span",{className:"text-zinc-400",children:[a-r," false negatives"]})]}),d.jsx("div",{className:"text-center mt-2 text-xs text-zinc-500",children:a>0?`${(r/a*100).toFixed(1)}% of tests were significant`:"No data"})]})})},TC=({datasets:e,significanceLevel:t})=>{var u,f;const[n,s]=x.useState(0),[i,r]=x.useState(!1),a=x.useRef(null);x.useEffect(()=>(i?a.current=setInterval(()=>{s(h=>(h+1)%e.length)},2e3):a.current&&(clearInterval(a.current),a.current=null),()=>{a.current&&clearInterval(a.current)}),[i,e.length]);const o=()=>{s(h=>(h-1+e.length)%e.length)},l=()=>{s(h=>(h+1)%e.length)},c=()=>{r(!i)};return!e||e.length===0?null:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"relative overflow-hidden",children:d.jsx(Ns,{mode:"wait",children:d.jsxs(Q.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-zinc-800 rounded-lg p-6",children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-zinc-100",children:e[n].label}),d.jsxs("p",{className:"text-sm text-zinc-400",children:[e[n].pValues.length," simulations"]})]}),d.jsx(sl,{pValues:e[n].pValues,title:"",significanceLevel:t})]},n)})}),d.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[d.jsx(Q.button,{onClick:o,className:"p-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-zinc-300 hover:text-white transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(Ed,{className:"h-5 w-5"})}),d.jsx(Q.button,{onClick:c,className:`p-2 rounded-full transition-colors ${i?"bg-red-600 hover:bg-red-500 text-white":"bg-green-600 hover:bg-green-500 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i?d.jsx(Vd,{className:"h-5 w-5"}):d.jsx(ja,{className:"h-5 w-5"})}),d.jsx(Q.button,{onClick:l,className:"p-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-zinc-300 hover:text-white transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(Aa,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex justify-center space-x-2",children:e.map((h,m)=>d.jsx(Q.button,{onClick:()=>s(m),className:`w-3 h-3 rounded-full transition-colors ${m===n?"bg-blue-500":"bg-zinc-600 hover:bg-zinc-500"}`,whileHover:{scale:1.2},whileTap:{scale:.8}},m))}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"h-2 bg-zinc-700 rounded-full overflow-hidden",children:d.jsx(Q.div,{className:"h-full bg-blue-500 rounded-full",animate:{width:`${(n+1)/e.length*100}%`},transition:{type:"spring",stiffness:400,damping:30}})}),d.jsxs("div",{className:"flex justify-between text-xs text-zinc-500 mt-1",children:[d.jsx("span",{children:(u=e[0])==null?void 0:u.label}),d.jsx("span",{children:(f=e[e.length-1])==null?void 0:f.label})]})]})]}),d.jsx("div",{className:"bg-blue-900/20 border border-blue-800/30 rounded-lg p-3 text-sm",children:d.jsxs("p",{className:"text-blue-200",children:[d.jsx("strong",{children:"Slideshow Mode:"})," Watch how statistical power changes across different sample sizes. Use play/pause to auto-advance or navigate manually. Notice how larger samples produce more concentrated p-values around significance thresholds."]})})]})},PC=({datasets:e,title:t,significanceLevel:n=.05,initialMode:s="separate"})=>{var a;const[i,r]=x.useState(s);return!e||e.length<=1?d.jsx(sl,{pValues:((a=e==null?void 0:e[0])==null?void 0:a.pValues)||[],title:t,significanceLevel:n}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:t}),d.jsxs("div",{className:"flex items-center bg-zinc-800 rounded-lg relative overflow-hidden",children:[d.jsx(Q.div,{className:"absolute top-0 left-0 w-1/2 h-full bg-red-600",animate:{x:i==="separate"?"0%":"100%"},transition:{type:"spring",stiffness:300,damping:30},layoutId:"activeToggle"}),d.jsxs(Q.button,{onClick:()=>r("separate"),className:`relative z-10 flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors ${i==="separate"?"text-white":"text-zinc-400 hover:text-zinc-200"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(Dd,{className:"h-4 w-4"}),"Separate"]}),d.jsxs(Q.button,{onClick:()=>r("overlay"),className:`relative z-10 flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors ${i==="overlay"?"text-white":"text-zinc-400 hover:text-zinc-200"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(Rd,{className:"h-4 w-4"}),"Overlay"]})]})]}),d.jsx("div",{className:"relative overflow-hidden rounded-lg",children:d.jsx(Ns,{mode:"wait",children:i==="separate"?d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeInOut"},layout:!0,children:d.jsx(TC,{datasets:e,significanceLevel:n})},"separate"):d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeInOut"},layout:!0,children:d.jsxs(Q.div,{className:"bg-zinc-800 rounded-lg p-4 overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.3},whileHover:{scale:1.01},children:[d.jsx(jC,{datasets:e,significanceLevel:n}),d.jsx(Q.div,{className:"flex justify-center mt-4 space-x-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:e.map((o,l)=>d.jsxs(Q.div,{className:"flex items-center gap-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+l*.05},whileHover:{scale:1.05},children:[d.jsx(Q.div,{className:"w-3 h-3 rounded",style:{backgroundColor:`rgba(255, 255, 255, ${.9-l*.2})`},whileHover:{scale:1.2}}),d.jsx("span",{className:"text-sm text-zinc-300",children:o.label})]},`legend-${o.sampleSize}`))})]})},"overlay")})}),d.jsx("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-lg p-3 text-sm",children:d.jsxs("p",{className:"text-zinc-300",children:[d.jsx("strong",{className:"text-zinc-100",children:i==="separate"?"Separate View:":"Overlay View:"})," ",i==="separate"?"Compare individual density curves to see how sample size affects the distribution shape and statistical power.":"Overlay multiple density curves on the same chart. Hover over curves to highlight and compare distributions across different sample sizes."]})})]})},CC=(e,t,n)=>{if(e.length===0)return[];const s=[],i=1/(n-1);for(let r=0;r<n;r++){const a=r*i;let o=0;for(const l of e){const c=(a-l)/t;o+=Math.exp(-.5*c*c)/Math.sqrt(2*Math.PI)}o=o/(e.length*t),s.push({x:a,y:o})}return s},jC=({datasets:e,significanceLevel:t})=>{const{chartData:n}=x.useMemo(()=>{const a=Array(100).fill(0).map((c,u)=>(u/99).toFixed(3)),o=[],l=Math.floor(t*100);return e.forEach((c,u)=>{const f=Math.pow(4/(3*c.pValues.length),.2)*Math.sqrt(c.pValues.reduce((p,w)=>p+w*w,0)/c.pValues.length),m=CC(c.pValues,f,100).map(p=>p.y),g=.9-u*.15,y=m.map((p,w)=>w<=l?p:null),v=m.map((p,w)=>w>=l?p:null);o.push({label:`${c.label} (significant)`,data:y,backgroundColor:`rgba(239, 68, 68, ${g*.25})`,borderColor:`rgba(239, 68, 68, ${g})`,borderWidth:3,fill:"origin",tension:.4,pointRadius:0,pointHoverRadius:0,spanGaps:!1,hoverBackgroundColor:`rgba(239, 68, 68, ${g*.5})`,hoverBorderColor:"rgba(239, 68, 68, 1)",hoverBorderWidth:4}),o.push({label:`${c.label} (non-significant)`,data:v,backgroundColor:`rgba(255, 255, 255, ${g*.25})`,borderColor:`rgba(255, 255, 255, ${g})`,borderWidth:3,fill:"origin",tension:.4,pointRadius:0,pointHoverRadius:0,spanGaps:!1,hoverBackgroundColor:`rgba(255, 255, 255, ${g*.5})`,hoverBorderColor:"rgba(255, 255, 255, 1)",hoverBorderWidth:4})}),{chartData:{labels:a,datasets:o}}},[e,t]),s=x.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,right:10,bottom:10,left:10}},plugins:{legend:{display:!1},title:{display:!0,text:"P-Value Distribution Comparison",color:"#e4e4e7",font:{size:14,weight:"normal",family:"Roboto, sans-serif"}},tooltip:{backgroundColor:"rgba(39, 39, 42, 0.95)",titleColor:"#e4e4e7",bodyColor:"#e4e4e7",borderColor:"#71717a",borderWidth:1,filter:r=>r.raw!==null,callbacks:{title:r=>{const a=r[0];return`P-value: ${parseFloat(a.label).toFixed(3)}`},label:r=>{const a=r.raw,o=r.dataset.label,l=o.split(" (")[0],c=o.includes("(significant)");return`${l}: density ${a.toFixed(4)} ${c?"(significant)":"(not significant)"}`},afterBody:()=>["","Red curves: statistically significant regions (p < α)","White curves: non-significant regions (p ≥ α)","Hover to highlight individual sample sizes"]}}},scales:{x:{type:"linear",min:0,max:1,title:{display:!0,text:"P-Value",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10},stepSize:.1},grid:{color:"rgba(113, 113, 122, 0.3)"}},y:{min:0,title:{display:!0,text:"Density",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10}},grid:{color:"rgba(113, 113, 122, 0.3)"}}},elements:{line:{borderJoinStyle:"round",borderCapStyle:"round"}},animation:{duration:750,easing:"easeOutQuart"},interaction:{intersect:!1,mode:"index"},onHover:(r,a,o)=>{const l=r.native.target;if(l.style.cursor=a.length>0?"pointer":"default",a.length>0){const c=a[0].datasetIndex,u=Math.floor(c/2);o.data.datasets.forEach((f,h)=>{const m=Math.floor(h/2);if(m===u){const g=h%2===0;f.borderColor=g?"rgba(239, 68, 68, 1)":"rgba(255, 255, 255, 1)",f.borderWidth=4}else{const g=.9-m*.15,y=h%2===0;f.borderColor=y?`rgba(239, 68, 68, ${g*.5})`:`rgba(255, 255, 255, ${g*.5})`,f.borderWidth=2}}),o.update("none")}}}),[]),i=x.useMemo(()=>({id:"significanceLine",afterDatasetsDraw:r=>{const{ctx:a,chartArea:o,scales:l}=r;if(!o||!l.x)return;const c=o.left+o.width*t;a.save(),a.strokeStyle="#ef4444",a.lineWidth=2,a.setLineDash([5,5]),a.beginPath(),a.moveTo(c,o.top),a.lineTo(c,o.bottom),a.stroke(),a.fillStyle="#ef4444",a.font="10px sans-serif",a.textAlign="center",a.fillText(`α = ${t}`,c,o.top-5),a.restore()}}),[t]);return d.jsx("div",{className:"h-64 overflow-hidden",children:d.jsx(jd,{data:n,options:s,plugins:[i]})})},AC=({datasets:e,significanceLevels:t=[.5,.1,.05,.01,.001],title:n="Statistical Power Analysis"})=>{const s=x.useMemo(()=>e.map(o=>{const l=t.map(c=>{const u=o.pValues.filter(h=>h<c).length;return{power:u/o.pValues.length,significantCount:u,totalCount:o.pValues.length}});return{sampleSize:o.sampleSize,label:o.label,totalTests:o.pValues.length,powerDetails:l}}),[e,t]),i=o=>(o*100).toFixed(1)+"%",r=o=>o>=.8?"text-green-400":o>=.5?"text-yellow-400":"text-red-400",a=o=>`α = ${o}`;return d.jsxs(We,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-zinc-100 mb-4",children:n}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-zinc-700",children:[d.jsx("th",{className:"text-left py-2 px-3 text-zinc-300 font-medium",children:"Sample Size"}),t.map(o=>d.jsx("th",{className:"text-center py-2 px-3 text-zinc-300 font-medium",children:a(o)},o)),d.jsx("th",{className:"text-center py-2 px-3 text-zinc-300 font-medium",children:"Tests"})]})}),d.jsx("tbody",{children:s.map((o,l)=>d.jsxs("tr",{className:"border-b border-zinc-800",children:[d.jsx("td",{className:"py-3 px-3 text-zinc-100 font-medium",children:o.label}),o.powerDetails.map((c,u)=>d.jsxs("td",{className:"text-center py-3 px-3",children:[d.jsx("div",{className:r(c.power),children:i(c.power)}),d.jsxs("div",{className:"text-xs text-zinc-500",children:[c.significantCount,"/",c.totalCount]})]},u)),d.jsx("td",{className:"text-center py-3 px-3 text-zinc-400",children:o.totalTests.toLocaleString()})]},l))})]})}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-zinc-700",children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:"Power Interpretation:"}),d.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded"}),d.jsx("span",{className:"text-zinc-400",children:"≥80% (Good)"})]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded"}),d.jsx("span",{className:"text-zinc-400",children:"50-79% (Moderate)"})]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-red-400 rounded"}),d.jsx("span",{className:"text-zinc-400",children:"<50% (Low)"})]})]})]}),d.jsx("div",{className:"mt-3 text-xs text-zinc-500 italic",children:"Power = Probability of detecting a true effect when it exists (1 - β, where β is Type II error rate)"})]})};Nn.register(...Ad);const NC=({sValues:e,sampleSize:t,className:n=""})=>{const s=x.useRef(null),i=x.useRef(null);x.useEffect(()=>{if(!s.current||e.length===0)return;i.current&&i.current.destroy();const l=s.current.getContext("2d");if(!l)return;const c=Math.max(...e),u=Math.min(...e),f=Math.min(30,Math.max(10,Math.ceil(Math.sqrt(e.length)))),h=(c-u)/f,m=Array.from({length:f},(v,p)=>({x:u+p*h,count:0}));e.forEach(v=>{const p=Math.min(f-1,Math.floor((v-u)/h));m[p].count++});const g=[{value:-Math.log2(.05),label:"α = 0.05",color:"#ef4444"},{value:-Math.log2(.01),label:"α = 0.01",color:"#dc2626"},{value:-Math.log2(.001),label:"α = 0.001",color:"#b91c1c"}],y={type:"bar",data:{labels:m.map(v=>v.x.toFixed(1)),datasets:[{label:"S-Value Distribution",data:m.map(v=>v.count),backgroundColor:"rgba(251, 146, 60, 0.7)",borderColor:"rgb(251, 146, 60)",borderWidth:1,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:`Shannon S-Values Distribution${t?` (n=${t})`:""}`,color:"#e4e4e7",font:{size:14,weight:"bold"}},legend:{display:!1},tooltip:{backgroundColor:"rgba(39, 39, 42, 0.95)",titleColor:"#e4e4e7",bodyColor:"#e4e4e7",borderColor:"#71717a",borderWidth:1,callbacks:{title:v=>`S-Value: ${v[0].label}`,label:v=>{const p=v.parsed.y,w=(p/e.length*100).toFixed(1);return`Count: ${p} (${w}%)`},afterBody:()=>["","S-Value = -log₂(p-value)","Higher values = stronger evidence against H₀"]}}},scales:{x:{title:{display:!0,text:"S-Value (bits of information)",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10}},grid:{color:"rgba(113, 113, 122, 0.3)"}},y:{title:{display:!0,text:"Frequency",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10}},grid:{color:"rgba(113, 113, 122, 0.3)"}}},animation:{duration:750,easing:"easeOutQuart"}},plugins:[{id:"significanceLines",afterDatasetsDraw:v=>{const{ctx:p,scales:{x:w,y:b}}=v;g.forEach(P=>{if(P.value>=u&&P.value<=c){const S=w.getPixelForValue(P.value);p.save(),p.strokeStyle=P.color,p.lineWidth=2,p.setLineDash([5,5]),p.beginPath(),p.moveTo(S,b.top),p.lineTo(S,b.bottom),p.stroke(),p.fillStyle=P.color,p.font="10px sans-serif",p.textAlign="center",p.fillText(P.label,S,b.top-5),p.restore()}})}}]};return i.current=new Nn(l,y),()=>{i.current&&i.current.destroy()}},[e,t]);const r=e.reduce((l,c)=>l+c,0)/e.length,a=e.filter(l=>l>-Math.log2(.01)).length,o=e.filter(l=>l>-Math.log2(.05)&&l<=-Math.log2(.01)).length;return d.jsx(Q.div,{className:`space-y-4 ${n}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(We,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(zd,{className:"h-5 w-5 text-orange-400"}),d.jsx("h3",{className:"text-lg font-semibold text-zinc-200",children:"Shannon S-Values"}),d.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-zinc-500",children:[d.jsx(Ca,{className:"h-3 w-3"}),"Information against H₀"]})]}),d.jsx("div",{className:"h-80 mb-4",children:d.jsx("canvas",{ref:s})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-zinc-700",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-orange-400",children:r.toFixed(2)}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Mean S-Value"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-red-400",children:a}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Strong Evidence (p < 0.01)"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-yellow-400",children:o}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Moderate Evidence (p < 0.05)"})]})]}),d.jsx("div",{className:"mt-4 p-3 bg-orange-900/20 border border-orange-800/30 rounded-md",children:d.jsxs("div",{className:"text-xs text-orange-200 leading-relaxed",children:[d.jsx("strong",{children:"S-Values (Shannon Information):"})," Measure the information content against the null hypothesis. Higher S-values indicate stronger evidence. S = -log₂(p), so p = 0.05 → S = 4.32 bits."]})})]})})};Nn.register(...Ad);const kC=({ciGaps:e,sampleSize:t,confidenceLevel:n=.95,className:s=""})=>{const i=x.useRef(null),r=x.useRef(null);x.useEffect(()=>{if(!i.current||e.length===0)return;r.current&&r.current.destroy();const m=i.current.getContext("2d");if(!m)return;const g=Math.max(...e),y=Math.min(...e),v=Math.min(25,Math.max(10,Math.ceil(Math.sqrt(e.length)))),p=(g-y)/v,w=Array.from({length:v},(S,T)=>({x:y+T*p+p/2,count:0,range:`${(y+T*p).toFixed(2)} - ${(y+(T+1)*p).toFixed(2)}`}));e.forEach(S=>{const T=Math.min(v-1,Math.floor((S-y)/p));w[T].count++});const b=e.reduce((S,T)=>S+T,0)/e.length,P={type:"bar",data:{labels:w.map(S=>S.x.toFixed(2)),datasets:[{label:"CI Gap Distribution",data:w.map(S=>S.count),backgroundColor:"rgba(34, 197, 94, 0.7)",borderColor:"rgb(34, 197, 94)",borderWidth:1,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:`${(n*100).toFixed(0)}% Confidence Interval Gaps${t?` (n=${t})`:""}`,color:"#e4e4e7",font:{size:14,weight:"bold"}},legend:{display:!1},tooltip:{backgroundColor:"rgba(39, 39, 42, 0.95)",titleColor:"#e4e4e7",bodyColor:"#e4e4e7",borderColor:"#71717a",borderWidth:1,callbacks:{title:S=>`CI Gap: ${S[0].label}`,label:S=>{const T=S.parsed.y,C=(T/e.length*100).toFixed(1),j=S.dataIndex;return[`Count: ${T} (${C}%)`,`Range: ${w[j].range}`]},afterBody:()=>["","Smaller gaps = more precise estimates","Precision improves with larger sample sizes"]}}},scales:{x:{title:{display:!0,text:"Confidence Interval Gap Width",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10}},grid:{color:"rgba(113, 113, 122, 0.3)"}},y:{title:{display:!0,text:"Frequency",color:"#a1a1aa",font:{size:12}},ticks:{color:"#a1a1aa",font:{size:10}},grid:{color:"rgba(113, 113, 122, 0.3)"}}},animation:{duration:750,easing:"easeOutQuart"}},plugins:[{id:"meanLine",afterDatasetsDraw:S=>{const{ctx:T,scales:{x:C,y:j}}=S;if(b>=y&&b<=g){const k=C.getPixelForValue(b);T.save(),T.strokeStyle="#22d3ee",T.lineWidth=2,T.setLineDash([3,3]),T.beginPath(),T.moveTo(k,j.top),T.lineTo(k,j.bottom),T.stroke(),T.fillStyle="#22d3ee",T.font="bold 10px sans-serif",T.textAlign="center",T.fillText(`Mean: ${b.toFixed(2)}`,k,j.top-5),T.restore()}}}]};return r.current=new Nn(m,P),()=>{r.current&&r.current.destroy()}},[e,t,n]);const a=e.reduce((m,g)=>m+g,0)/e.length,o=Math.sqrt(e.reduce((m,g)=>m+Math.pow(g-a,2),0)/e.length),l=Math.min(...e),c=Math.max(...e),u=[...e].sort((m,g)=>m-g)[Math.floor(e.length/2)],f=e.filter(m=>m<a-o/2).length,h=e.filter(m=>m>a+o/2).length;return d.jsx(Q.div,{className:`space-y-4 ${s}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(We,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Sr,{className:"h-5 w-5 text-teal-400"}),d.jsx("h3",{className:"text-lg font-semibold text-zinc-200",children:"CI Gap Analysis"}),d.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-zinc-500",children:[d.jsx(Kp,{className:"h-3 w-3"}),"Precision Visualization"]})]}),d.jsx("div",{className:"h-80 mb-4",children:d.jsx("canvas",{ref:i})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-zinc-400",children:"Mean Gap:"}),d.jsx("span",{className:"text-teal-400 font-medium",children:a.toFixed(3)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-zinc-400",children:"Std Deviation:"}),d.jsx("span",{className:"text-zinc-300",children:o.toFixed(3)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-zinc-400",children:"Median Gap:"}),d.jsx("span",{className:"text-zinc-300",children:u.toFixed(3)})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-zinc-400",children:"Min Gap:"}),d.jsx("span",{className:"text-green-400 font-medium",children:l.toFixed(3)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-zinc-400",children:"Max Gap:"}),d.jsx("span",{className:"text-red-400 font-medium",children:c.toFixed(3)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-zinc-400",children:"Range:"}),d.jsx("span",{className:"text-zinc-300",children:(c-l).toFixed(3)})]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-zinc-700",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-green-400",children:f}),d.jsx("div",{className:"text-xs text-zinc-400",children:"High Precision"}),d.jsx("div",{className:"text-xs text-zinc-500",children:"(narrow gaps)"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-yellow-400",children:e.length-f-h}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Moderate Precision"}),d.jsx("div",{className:"text-xs text-zinc-500",children:"(typical gaps)"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-red-400",children:h}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Low Precision"}),d.jsx("div",{className:"text-xs text-zinc-500",children:"(wide gaps)"})]})]}),d.jsx("div",{className:"mt-4 p-3 bg-teal-900/20 border border-teal-800/30 rounded-md",children:d.jsxs("div",{className:"text-xs text-teal-200 leading-relaxed",children:[d.jsx("strong",{children:"Confidence Interval Gaps:"})," Show estimation precision. Narrower gaps indicate more precise estimates. Precision improves with larger sample sizes and decreases with higher confidence levels."]})})]})})},Pe=Ma()(Ea((e,t)=>({pValueHistogram:{visible:!0,mode:"separate"},effectSizeDistribution:{visible:!0,mode:"separate"},statisticalPowerTable:{visible:!0,mode:"separate"},shannonSValues:{visible:!1,mode:"separate"},ciGapChart:{visible:!1,mode:"separate"},currentResults:null,hasMultiplePairs:!1,exportFormat:"png",exportQuality:"high",includeInsights:!0,autoInsights:!0,currentInsights:[],toggleChartVisibility:n=>{e(s=>({[n]:{...s[n],visible:!s[n].visible}}))},setChartMode:(n,s)=>{e(i=>({[n]:{...i[n],mode:s}}))},updateCurrentResults:n=>{const s=t(),i=(n==null?void 0:n.samplePairResults)&&n.samplePairResults.length>1;if(s.currentResults!==n){const r=[];if(n&&s.autoInsights)if(n.samplePairResults&&n.samplePairResults.length>1){const a=n.samplePairResults.map(v=>v.sampleSize).sort((v,p)=>v-p),o=a[0],l=a[a.length-1];r.push(`Comparing ${n.samplePairResults.length} sample sizes (n=${o} to n=${l})`);const c=n.samplePairResults.map(v=>v.pValues.filter(p=>p<.05).length/v.pValues.length),u=Math.min(...c),f=Math.max(...c);r.push(`Statistical power increases from ${(u*100).toFixed(1)}% to ${(f*100).toFixed(1)}%`);const h=n.samplePairResults.map(v=>v.ciGaps.reduce((w,b)=>w+b,0)/v.ciGaps.length),m=Math.max(...h),g=Math.min(...h),y=(m-g)/m*100;r.push(`CI precision improves by ${y.toFixed(1)}% with larger samples`)}else{const a=n.pValues.filter(u=>u<.05).length/n.pValues.length;r.push(`Statistical power: ${(a*100).toFixed(1)}% at α = 0.05`);const o=n.meanEffectSize,l=n.trueEffectSize||.5,c=Math.abs(o-l);r.push(`Effect size bias: ${c.toFixed(3)} (observed vs true)`)}e({currentResults:n,hasMultiplePairs:!!i,currentInsights:r})}},generateInsights:n=>{const s=[];if(n.samplePairResults&&n.samplePairResults.length>1){const i=n.samplePairResults.map(g=>g.sampleSize).sort((g,y)=>g-y),r=i[0],a=i[i.length-1];s.push(`Comparing ${n.samplePairResults.length} sample sizes (n=${r} to n=${a})`);const o=n.samplePairResults.map(g=>g.pValues.filter(y=>y<.05).length/g.pValues.length),l=Math.min(...o),c=Math.max(...o);s.push(`Statistical power increases from ${(l*100).toFixed(1)}% to ${(c*100).toFixed(1)}%`);const u=n.samplePairResults.map(g=>g.ciGaps.reduce((v,p)=>v+p,0)/g.ciGaps.length),f=Math.max(...u),h=Math.min(...u),m=(f-h)/f*100;s.push(`CI precision improves by ${m.toFixed(1)}% with larger samples`)}else{const i=n.pValues.filter(l=>l<.05).length/n.pValues.length;s.push(`Statistical power: ${(i*100).toFixed(1)}% at α = 0.05`);const r=n.meanEffectSize,a=n.trueEffectSize||.5,o=Math.abs(r-a);s.push(`Effect size bias: ${o.toFixed(3)} (observed vs true)`)}e({currentInsights:s})},setExportFormat:n=>e({exportFormat:n}),setExportQuality:n=>e({exportQuality:n}),toggleIncludeInsights:()=>e(n=>({includeInsights:!n.includeInsights})),showAllCharts:()=>e(n=>({pValueHistogram:{...n.pValueHistogram,visible:!0},effectSizeDistribution:{...n.effectSizeDistribution,visible:!0},statisticalPowerTable:{...n.statisticalPowerTable,visible:!0},shannonSValues:{...n.shannonSValues,visible:!0},ciGapChart:{...n.ciGapChart,visible:!0}})),hideAllCharts:()=>e(n=>({pValueHistogram:{...n.pValueHistogram,visible:!1},effectSizeDistribution:{...n.effectSizeDistribution,visible:!1},statisticalPowerTable:{...n.statisticalPowerTable,visible:!1},shannonSValues:{...n.shannonSValues,visible:!1},ciGapChart:{...n.ciGapChart,visible:!1}})),resetToDefaults:()=>e({pValueHistogram:{visible:!0,mode:"separate"},effectSizeDistribution:{visible:!0,mode:"separate"},statisticalPowerTable:{visible:!0,mode:"separate"},shannonSValues:{visible:!1,mode:"separate"},ciGapChart:{visible:!1,mode:"separate"},exportFormat:"png",exportQuality:"high",includeInsights:!0,autoInsights:!0})}),{name:"statdash-charts-storage",partialize:e=>({pValueHistogram:e.pValueHistogram,effectSizeDistribution:e.effectSizeDistribution,statisticalPowerTable:e.statisticalPowerTable,shannonSValues:e.shannonSValues,ciGapChart:e.ciGapChart,exportFormat:e.exportFormat,exportQuality:e.exportQuality,includeInsights:e.includeInsights,autoInsights:e.autoInsights}),version:1})),Cp=()=>Pe(e=>e.pValueHistogram.visible),jp=()=>Pe(e=>e.effectSizeDistribution.visible),Ap=()=>Pe(e=>e.statisticalPowerTable.visible),Np=()=>Pe(e=>e.shannonSValues.visible),kp=()=>Pe(e=>e.ciGapChart.visible),_p=()=>Pe(e=>e.pValueHistogram.mode),$p=()=>Pe(e=>e.effectSizeDistribution.mode),_C=()=>Pe(e=>e.exportQuality),$C=()=>Pe(e=>e.toggleChartVisibility),MC=()=>Pe(e=>e.showAllCharts),EC=()=>Pe(e=>e.hideAllCharts),VC=()=>Pe(e=>e.setExportQuality),DC=()=>Pe(e=>e.resetToDefaults),RC=()=>Pe(e=>e.currentResults),zC=()=>Pe(e=>e.hasMultiplePairs),LC=()=>Pe(e=>e.currentInsights),IC=({results:e})=>{var c;const t=Cp(),n=jp(),s=Ap(),i=Np(),r=kp(),a=_p(),o=$p(),l=x.useMemo(()=>{var f;if(e.samplePairResults&&e.samplePairResults.length>1)return{pValues:e.pValues,pValueDatasets:e.samplePairResults.map(h=>({pValues:h.pValues,sampleSize:h.sampleSize,label:`n = ${h.sampleSize}`})),effectSizeDatasets:e.samplePairResults.map(h=>({effectSizes:h.effectSize,sampleSize:h.sampleSize,label:`n = ${h.sampleSize}`})),powerDatasets:e.samplePairResults.map(h=>({sampleSize:h.sampleSize,label:`n = ${h.sampleSize}`,pValues:h.pValues})),trueEffectSize:((f=e.samplePairResults[0])==null?void 0:f.trueEffectSize)||.5,isMultiPair:!0};{const h=e.sampleSize||30,m=`n = ${h}`;return{pValues:e.pValues,pValueDatasets:[{pValues:e.pValues,sampleSize:h,label:m}],effectSizeDatasets:[{effectSizes:e.effectSize,sampleSize:h,label:m}],powerDatasets:[{sampleSize:h,label:m,pValues:e.pValues}],trueEffectSize:e.trueEffectSize||.5,isMultiPair:!1}}},[e]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(Md,{className:"h-6 w-6 text-blue-400"}),d.jsx("h2",{className:"text-xl font-semibold text-zinc-100",children:l.isMultiPair?"Comparative Statistical Analysis":"Statistical Analysis Results"}),d.jsx("div",{className:"ml-auto text-sm text-zinc-400",children:l.isMultiPair?`${e.samplePairResults.length} sample sizes × ${((c=e.samplePairResults[0])==null?void 0:c.effectSize.length)||0} simulations each`:`${e.effectSize.length.toLocaleString()} simulations completed`})]}),d.jsxs("div",{className:"space-y-8",children:[t&&d.jsx("div",{children:l.isMultiPair?d.jsx(PC,{datasets:l.pValueDatasets,title:"P-Value Distribution Comparison",significanceLevel:.05,initialMode:a}):d.jsx(sl,{pValues:l.pValues,title:"P-Value Distribution",significanceLevel:.05})}),n&&d.jsx("div",{children:l.isMultiPair?d.jsx(bC,{datasets:l.effectSizeDatasets,title:"Effect Size Precision Comparison",trueEffectSize:l.trueEffectSize,initialMode:o}):d.jsx(nl,{datasets:l.effectSizeDatasets,title:"Effect Size Distribution",trueEffectSize:l.trueEffectSize})}),i&&d.jsx(NC,{sValues:e.sValues,sampleSize:e.sampleSize}),r&&d.jsx(kC,{ciGaps:e.ciGaps,sampleSize:e.sampleSize,confidenceLevel:.95})]}),s&&d.jsx(AC,{datasets:l.powerDatasets,title:"Statistical Power Analysis"}),d.jsxs("div",{className:"bg-blue-900/20 border border-blue-800/30 rounded-lg p-4 mt-6",children:[d.jsx("h4",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Understanding Your Results"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-100",children:[d.jsxs("div",{children:[d.jsx("h5",{className:"font-medium mb-1",children:"P-Value Distribution:"}),d.jsx("p",{className:"text-blue-200/80",children:"Shows how often your statistical tests would detect the effect. When a true effect exists, most p-values should be below your significance threshold."})]}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-medium mb-1",children:"Effect Size Distribution:"}),d.jsx("p",{className:"text-blue-200/80",children:"Demonstrates the precision of your effect size estimates. Larger sample sizes produce more precise estimates clustered around the true value."})]})]})]})]})},OC=()=>{const e=za(),t=uy(),n=dy(),{runSimulation:s,cancelSimulation:i,isRunning:r,simulationState:a}=n1(),o=Pe(v=>v.updateCurrentResults),l=Zg(),c=tt(v=>v.setTechnicalPanelExpanded);x.useEffect(()=>{n&&!r&&o(n)},[n,r,o]);const u=e&&e.samplePairs.length>0&&e.samplePairs.every(v=>v.name.trim().length>0&&v.population1.std>0&&v.population2.std>0&&v.sampleSize>=5);x.useEffect(()=>{if(!e)return;!u&&!l&&c(!0),r&&l&&c(!1)},[r,e,l,c,u]);const f=async()=>{if(console.log("handleRunSimulation called"),!e){console.log("No current config, returning");return}const v=E1(e);if(!v.success){console.error("Configuration validation failed:",v.errors);return}console.log("Starting simulation with valid config");try{await s(e)}catch(p){console.error("Simulation failed:",p)}},h=()=>{console.log("handleCancelSimulation called"),i()},m=()=>r?d.jsxs(fe,{variant:"secondary",size:"sm",onClick:h,className:"flex items-center gap-1.5 text-xs px-3 py-1.5",children:[d.jsx(qp,{className:"h-3 w-3"}),"Cancel (",(t.progress*100).toFixed(0),"%)"]}):d.jsxs(fe,{variant:"primary",size:"sm",onClick:f,disabled:!u,className:"flex items-center gap-1.5 text-xs px-3 py-1.5",children:[d.jsx(ja,{className:"h-3 w-3"}),"Run Simulation"]}),g=()=>{if(!e)return null;const v=(p,w=3)=>p.toFixed(w);return d.jsxs("div",{className:"border-b border-border bg-card",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>c(!l),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[l?d.jsx(Xp,{className:"h-3 w-3 text-muted-foreground"}):d.jsx(Aa,{className:"h-3 w-3 text-muted-foreground"}),d.jsx("h3",{className:"text-foreground text-xs",children:"Technical Information"}),!u&&d.jsx("div",{className:"h-1.5 w-1.5 bg-destructive rounded-full"})]}),!l&&d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[d.jsxs("span",{children:[e.samplePairs.length," pairs"]}),n&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"•"}),d.jsxs("span",{children:[(n.pValues.filter(p=>p<.05).length/n.pValues.length*100).toFixed(0),"% power"]}),d.jsx("span",{children:"•"}),d.jsxs("span",{children:["d=",v(n.meanEffectSize,2)]})]}),d.jsx("span",{children:"•"}),d.jsxs("span",{children:[e.simulationCount.toLocaleString()," sims"]})]})]}),l&&d.jsxs("div",{className:"border-t border-border p-3",children:[d.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[d.jsxs("div",{className:"col-span-5",children:[d.jsxs("h4",{className:"text-xs text-foreground mb-2",children:["Sample Pairs (",e.samplePairs.length,")"]}),e.samplePairs.length===0?d.jsx("div",{className:"text-center py-2 text-muted-foreground",children:d.jsx("p",{className:"text-[10px]",children:"No sample pairs configured"})}):d.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:e.samplePairs.map(p=>{const w=(p.population2.mean-p.population1.mean)/Math.sqrt((p.population1.std**2+p.population2.std**2)/2),b=p.name.trim().length===0||p.population1.std<=0||p.population2.std<=0||p.sampleSize<5;return d.jsx("div",{className:`bg-muted p-1 rounded text-[10px] ${b?"border border-destructive":""}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-foreground truncate flex-1",children:p.name||"Unnamed"}),d.jsxs("span",{className:"text-muted-foreground ml-2",children:["n=",p.sampleSize,", d=",w.toFixed(2)]}),b&&d.jsx(Li,{className:"h-2 w-2 text-destructive ml-1"})]})},p.id)})})]}),n&&d.jsxs("div",{className:"col-span-4",children:[d.jsx("h4",{className:"text-xs text-foreground mb-2",children:"Results Summary"}),d.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[d.jsx("div",{className:"bg-muted rounded p-1.5 text-[10px]",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Statistical Power:"}),d.jsxs("span",{className:"text-foreground",children:[(n.pValues.filter(p=>p<.05).length/n.pValues.length*100).toFixed(1),"%"]})]})}),d.jsx("div",{className:"bg-muted rounded p-1.5 text-[10px]",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Effect Size:"}),d.jsx("span",{className:"text-foreground",children:v(n.meanEffectSize,3)})]})}),d.jsx("div",{className:"bg-muted rounded p-1.5 text-[10px]",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"CI Precision:"}),d.jsx("span",{className:"text-foreground",children:n.ciGaps?v(n.ciGaps.reduce((p,w)=>p+w,0)/n.ciGaps.length,3):"N/A"})]})})]})]}),d.jsxs("div",{className:"col-span-3",children:[d.jsx("h4",{className:"text-xs text-foreground mb-2",children:"Configuration"}),d.jsxs("div",{className:"space-y-1 text-[10px]",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Simulations:"}),d.jsx("span",{className:"text-foreground",children:e.simulationCount.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Confidence:"}),d.jsxs("span",{className:"text-foreground",children:[(e.confidenceLevel*100).toFixed(0),"%"]})]}),d.jsxs("div",{className:"bg-muted rounded p-1",children:[d.jsx("div",{className:"text-muted-foreground mb-0.5",children:"Significance α:"}),d.jsx("div",{className:"text-foreground",children:e.significanceThresholds.join(", ")})]})]})]})]}),!u&&d.jsxs("div",{className:"mt-3 bg-destructive/10 border border-destructive/20 rounded p-2",children:[d.jsx("h4",{className:"text-[10px] text-destructive mb-1",children:"⚠️ Configuration Issues"}),d.jsxs("div",{className:"text-[10px] text-destructive space-y-0.5",children:[e.samplePairs.length===0&&d.jsx("div",{children:"• Add at least one sample pair to run simulations"}),e.samplePairs.some(p=>p.name.trim().length===0)&&d.jsx("div",{children:"• All sample pairs must have names"}),e.samplePairs.some(p=>p.population1.std<=0||p.population2.std<=0)&&d.jsx("div",{children:"• Standard deviations must be positive"}),e.samplePairs.some(p=>p.sampleSize<5)&&d.jsx("div",{children:"• Sample sizes must be at least 5"})]})]})]})]})},y=()=>e?d.jsxs("div",{className:"flex-1 overflow-auto",children:[g(),d.jsx("div",{className:"p-3",children:n&&d.jsx(IC,{results:n})})]}):d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:d.jsxs("div",{className:"text-center max-w-md",children:[d.jsx(et,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),d.jsx("h2",{className:"text-lg text-foreground mb-2",children:"Welcome to StatDash"}),d.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"A statistical simulation platform for exploring hypothesis testing, effect sizes, and statistical power."}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"p-3 bg-card rounded border border-border",children:[d.jsx("h3",{className:"text-foreground mb-2 text-sm",children:"🚀 Quick Start"}),d.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Get started by creating a new simulation or loading a template from the left sidebar."}),d.jsxs("div",{className:"text-[10px] text-muted-foreground space-y-0.5",children:[d.jsx("div",{children:"• Create simulation configurations"}),d.jsx("div",{children:"• Add multiple sample pairs"}),d.jsx("div",{children:"• Run statistical simulations"}),d.jsx("div",{children:"• Analyze power and effect sizes"})]})]}),d.jsxs("div",{className:"p-3 bg-card rounded border border-border",children:[d.jsx("h3",{className:"text-foreground mb-2 text-sm",children:"📋 Built-in Templates"}),d.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Use pre-configured templates for common simulation scenarios:"}),d.jsxs("div",{className:"text-[10px] text-muted-foreground space-y-0.5",children:[d.jsx("div",{children:"• Legacy Notebook Reproduction"}),d.jsx("div",{children:"• Null Hypothesis Testing"}),d.jsx("div",{children:"• Effect Size Comparison"})]})]})]})]})});return d.jsxs("div",{className:"flex flex-col h-full bg-background",children:[e&&d.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-card",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(et,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-foreground text-sm",children:e.name}),d.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.samplePairs.length," sample pair",e.samplePairs.length!==1?"s":""," • ",e.simulationCount.toLocaleString()," simulations"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[r&&d.jsxs("div",{className:"flex items-center gap-1.5 text-foreground",children:[d.jsx("div",{className:"h-1.5 w-1.5 bg-foreground rounded-full animate-pulse"}),d.jsx("span",{className:"text-[10px]",children:"Running"})]}),u&&!r&&d.jsxs("div",{className:"flex items-center gap-1.5 text-foreground",children:[d.jsx(Zp,{className:"h-2.5 w-2.5"}),d.jsx("span",{className:"text-[10px]",children:"Valid"})]}),!u&&d.jsxs("div",{className:"flex items-center gap-1.5 text-destructive",children:[d.jsx(Li,{className:"h-2.5 w-2.5"}),d.jsx("span",{className:"text-[10px]",children:"Issues"})]}),d.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["Confidence: ",(e.confidenceLevel*100).toFixed(0),"%"]})]}),m()]})]}),r&&d.jsx("div",{className:"h-0.5 bg-muted relative overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${(t.progress*100).toFixed(1)}%`}})}),a.error&&d.jsxs("div",{className:"mx-3 mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded flex items-center gap-2",children:[d.jsx(Li,{className:"h-3 w-3 text-destructive"}),d.jsx("span",{className:"text-destructive text-xs",children:a.error})]}),y()]})},FC=(e={})=>{const{debounceMs:t=300}=e,[n,s]=x.useState({errors:{},warnings:{},isValid:!0,hasErrors:!1}),[i,r]=x.useState(null),a=x.useCallback(w=>{s(b=>{const P={...b.errors};return delete P[w],{...b,errors:P,hasErrors:Object.keys(P).length>0,isValid:Object.keys(P).length===0}})},[]),o=x.useCallback((w,b)=>{s(P=>({...P,errors:{...P.errors,[w]:b},hasErrors:!0,isValid:!1}))},[]),l=x.useCallback((w,b)=>{s(P=>({...P,warnings:{...P.warnings,[w]:b}}))},[]),c=x.useCallback((w,b)=>{const P=M1(w);return s(S=>{const T={...S.errors};return Object.keys(T).forEach(C=>{C.startsWith(b)&&delete T[C]}),{...S,errors:T}}),P.success||P.errors.forEach(S=>{o(`${b}.${S.field}`,S.message)}),P.success},[o]),u=x.useCallback((w,b="")=>{const P=V1(w);return s(S=>{const T={...S.errors};return Object.keys(T).forEach(C=>{b&&C.startsWith(b)&&delete T[C]}),{...S,errors:T}}),P.success||P.errors.forEach(S=>{const T=b?`${b}.${S.field}`:S.field;o(T,S.message)}),P.success},[o]),f=x.useCallback(w=>{i&&clearTimeout(i);const b=setTimeout(()=>{w()},t);r(b)},[t,i]),h=x.useCallback((w,b,P={})=>{const{min:S,max:T,integer:C=!1,positive:j=!1,finite:k=!0}=P,$=typeof w=="string"?parseFloat(w):w;return a(b),isNaN($)?(o(b,"Must be a valid number"),!1):k&&!isFinite($)?(o(b,"Must be a finite number"),!1):j&&$<=0?(o(b,"Must be positive"),!1):C&&!Number.isInteger($)?(o(b,"Must be a whole number"),!1):S!==void 0&&$<S?(o(b,`Must be at least ${S}`),!1):T!==void 0&&$>T?(o(b,`Cannot exceed ${T}`),!1):!0},[a,o]),m=x.useCallback((w,b,P={})=>{const{minLength:S,maxLength:T,required:C=!1}=P;return a(b),C&&(!w||w.trim().length===0)?(o(b,"This field is required"),!1):S!==void 0&&w.length<S?(o(b,`Must be at least ${S} characters`),!1):T!==void 0&&w.length>T?(o(b,`Cannot exceed ${T} characters`),!1):!0},[a,o]),g=x.useCallback((w,b,P,S,T)=>{const C=Math.sqrt((P**2+S**2)/2),j=(b-w)/C;return s(k=>{const $={...k.warnings};return delete $[`${T}.effectSize`],{...k,warnings:$}}),Math.abs(j)<.1?l(`${T}.effectSize`,"Very small effect size (d < 0.1)"):Math.abs(j)>2&&l(`${T}.effectSize`,"Very large effect size (d > 2.0) - check parameters"),j},[l]),y=x.useCallback(()=>{s({errors:{},warnings:{},isValid:!0,hasErrors:!1})},[]),v=x.useCallback(w=>n.errors[w],[n.errors]),p=x.useCallback(w=>n.warnings[w],[n.warnings]);return x.useEffect(()=>()=>{i&&clearTimeout(i)},[i]),{validationState:n,validatePopulation:c,validateSamplePairData:u,validateNumberField:h,validateStringField:m,calculateEffectSizeWithValidation:g,validateWithDebounce:f,clearFieldError:a,setFieldError:o,setFieldWarning:l,clearValidation:y,getFieldError:v,getFieldWarning:p}},ke=({label:e,error:t,helperText:n,className:s,id:i,...r})=>{const a=i||`input-${Math.random().toString(36).substr(2,9)}`;return d.jsxs("div",{className:"space-y-1",children:[e&&d.jsx("label",{htmlFor:a,className:"label",children:e}),d.jsx("input",{id:a,className:Va("input",t&&"border-red-500 focus:ring-red-500",s),...r}),t&&d.jsx("p",{className:"text-sm text-red-400",children:t}),n&&!t&&d.jsx("p",{className:"text-sm text-gray-400",children:n})]})},BC=({className:e=""})=>{const t=Cp(),n=jp(),s=Ap(),i=Np(),r=kp(),a=_p(),o=$p(),l=_C(),c=$C(),u=MC(),f=EC(),h=VC(),m=DC(),g=RC(),y=zC(),v=LC(),p=x.useMemo(()=>[{id:"pValueHistogram",name:"P-Value Distribution",description:"Shows statistical significance patterns",icon:d.jsx(et,{className:"h-4 w-4"}),enabled:t,hasMode:y,mode:a,color:"blue"},{id:"effectSizeDistribution",name:"Effect Size Distribution",description:"Demonstrates estimation precision",icon:d.jsx(Yp,{className:"h-4 w-4"}),enabled:n,hasMode:y,mode:o,color:"purple"},{id:"statisticalPowerTable",name:"Statistical Power Table",description:"Power analysis across conditions",icon:d.jsx(Sr,{className:"h-4 w-4"}),enabled:s,hasMode:!1,color:"green"},{id:"shannonSValues",name:"Shannon S-Values",description:"Information against null hypothesis",icon:d.jsx(zd,{className:"h-4 w-4"}),enabled:i,hasMode:!1,color:"orange"},{id:"ciGapChart",name:"CI Gap Visualization",description:"Confidence interval precision",icon:d.jsx(Sr,{className:"h-4 w-4"}),enabled:r,hasMode:!1,color:"teal"}],[t,n,s,i,r,a,o,y]),w=p.filter(S=>S.enabled).length,b=async S=>{if(g)try{const T=[];if(document.querySelectorAll("canvas").forEach((j,k)=>{j.offsetParent!==null&&T.push({chartId:`chart_${k}`,title:`Chart_${k}`,canvas:j})}),T.length===0){console.warn("No visible charts found for export");return}T.forEach((j,k)=>{const $=j.canvas.toDataURL("image/png",2),z=document.createElement("a");z.download=`statdash_chart_${k+1}.png`,z.href=$,document.body.appendChild(z),z.click(),document.body.removeChild(z)}),console.log(`Exported ${T.length} charts as ${S}`)}catch(T){console.error("Export failed:",T)}},P=async S=>{if(g)try{const T=new Date().toISOString().slice(0,19).replace(/:/g,"-");if(S==="json"){const C={metadata:{exportDate:new Date().toISOString(),simulationCount:g.pValues.length,hasMultiplePairs:!!(g.samplePairResults&&g.samplePairResults.length>1)},results:{pValues:g.pValues,effectSizes:g.effectSize,ciGaps:g.ciGaps,sValues:g.sValues,samplePairResults:g.samplePairResults}},j=JSON.stringify(C,null,2),k=new Blob([j],{type:"application/json"}),$=URL.createObjectURL(k),z=document.createElement("a");z.download=`statdash_data_${T}.json`,z.href=$,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL($)}else if(S==="csv"){const C=["simulation_id","p_value","effect_size","ci_gap","s_value"],j=g.pValues.map((ve,M)=>[M+1,ve.toFixed(6),g.effectSize[M].toFixed(6),g.ciGaps[M].toFixed(6),g.sValues[M].toFixed(6)]),k=[C.join(","),...j.map(ve=>ve.join(","))].join(`
`),$=new Blob([k],{type:"text/csv"}),z=URL.createObjectURL($),q=document.createElement("a");q.download=`statdash_data_${T}.csv`,q.href=z,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(z)}}catch(T){console.error("Data export failed:",T)}};return d.jsxs("div",{className:`space-y-4 ${e}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(et,{className:"h-4 w-4 text-blue-400"}),d.jsx("h3",{className:"font-medium text-zinc-200",children:"Charts Control"})]}),g&&d.jsx("div",{className:"text-xs text-zinc-500",children:y?"Multi-Size Analysis":"Single Analysis"})]}),d.jsxs(We,{className:"p-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h4",{className:"text-sm font-medium text-zinc-300",children:"Quick Actions"}),d.jsxs("div",{className:"text-xs text-zinc-500",children:[w,"/",p.length," visible"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(fe,{variant:"secondary",size:"sm",onClick:u,className:"text-xs",children:"Show All"}),d.jsx(fe,{variant:"secondary",size:"sm",onClick:f,className:"text-xs",children:"Hide All"})]})]}),d.jsxs(We,{className:"p-4",children:[d.jsxs("h4",{className:"text-sm font-medium text-zinc-300 mb-3 flex items-center gap-2",children:[d.jsx(Jp,{className:"h-4 w-4"}),"Visualization Controls"]}),d.jsx("div",{className:"space-y-3",children:p.map(S=>d.jsx(Q.div,{className:"space-y-2",layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>c(S.id),className:`p-2 ${S.enabled?`text-${S.color}-400 bg-${S.color}-400/10`:"text-zinc-500 hover:text-zinc-300"}`,children:S.enabled?d.jsx(Qp,{className:"h-4 w-4"}):d.jsx(eg,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.icon,d.jsx("span",{className:`text-sm font-medium ${S.enabled?"text-zinc-200":"text-zinc-500"}`,children:S.name})]}),d.jsx("p",{className:"text-xs text-zinc-400",children:S.description})]})]})},S.id))})]}),v.length>0&&d.jsxs(We,{className:"p-4",children:[d.jsxs("h4",{className:"text-sm font-medium text-zinc-300 mb-3 flex items-center gap-2",children:[d.jsx(tg,{className:"h-4 w-4 text-yellow-400"}),"Current Insights"]}),d.jsx("div",{className:"space-y-2",children:d.jsx(Ns,{children:v.map((S,T)=>d.jsx(Q.div,{className:"p-3 bg-blue-900/20 border border-blue-800/30 rounded-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:T*.1},children:d.jsx("p",{className:"text-xs text-blue-200 leading-relaxed",children:S})},`insight-${T}`))})})]}),g&&d.jsxs(We,{className:"p-4",children:[d.jsxs("h4",{className:"text-sm font-medium text-zinc-300 mb-3 flex items-center gap-2",children:[d.jsx($d,{className:"h-4 w-4"}),"Export Options"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Charts"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs(fe,{variant:"secondary",size:"sm",onClick:()=>b("png"),className:"text-xs flex items-center gap-1",children:[d.jsx(al,{className:"h-3 w-3"}),"PNG"]}),d.jsxs(fe,{variant:"secondary",size:"sm",onClick:()=>b("svg"),className:"text-xs flex items-center gap-1",children:[d.jsx(al,{className:"h-3 w-3"}),"SVG"]})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Raw Data"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs(fe,{variant:"secondary",size:"sm",onClick:()=>P("json"),className:"text-xs flex items-center gap-1",children:[d.jsx(wr,{className:"h-3 w-3"}),"JSON"]}),d.jsxs(fe,{variant:"secondary",size:"sm",onClick:()=>P("csv"),className:"text-xs flex items-center gap-1",children:[d.jsx(wr,{className:"h-3 w-3"}),"CSV"]})]})]}),d.jsx("div",{className:"text-xs text-zinc-500 pt-2 border-t border-zinc-700",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Quality:"}),d.jsxs("select",{value:l,onChange:S=>h(S.target.value),className:"bg-zinc-800 border border-zinc-600 rounded px-2 py-1 text-xs",children:[d.jsx("option",{value:"standard",children:"Standard"}),d.jsx("option",{value:"high",children:"High"})]})]})})]})]}),d.jsx(We,{className:"p-4",children:d.jsx(fe,{variant:"ghost",size:"sm",onClick:m,className:"w-full text-xs text-zinc-400 hover:text-zinc-200",children:"Reset to Defaults"})})]})},UC=()=>{const{toggleRightSidebar:e}=tt(),{updateConfig:t}=kn(),n=za(),[s,i]=x.useState("pairs"),[r,a]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(""),[f,h]=x.useState({population1:{mean:100,std:15,size:1e3},population2:{mean:110,std:15,size:1e3},sampleSize:30}),[m,g]=x.useState(null),[y,v]=x.useState(""),{validateNumberField:p,validateStringField:w,getFieldError:b,getFieldWarning:P,calculateEffectSizeWithValidation:S,clearValidation:T,validationState:C}=FC({debounceMs:300}),j=()=>{if(!n||!c.trim())return;const A=w(c,"newPair.name",{required:!0,maxLength:50}),E=p(f.population1.mean,"newPair.population1.mean",{finite:!0})&&p(f.population1.std,"newPair.population1.std",{positive:!0})&&p(f.population1.size,"newPair.population1.size",{integer:!0,min:10,max:1e4}),O=p(f.population2.mean,"newPair.population2.mean",{finite:!0})&&p(f.population2.std,"newPair.population2.std",{positive:!0})&&p(f.population2.size,"newPair.population2.size",{integer:!0,min:10,max:1e4}),re=p(f.sampleSize,"newPair.sampleSize",{integer:!0,min:5,max:1e3});if(!A||!E||!O||!re)return;const I={id:`pair-${Date.now()}`,name:c,population1:f.population1,population2:f.population2,sampleSize:f.sampleSize};t({samplePairs:[...n.samplePairs,I],updatedAt:new Date}),u(""),h({population1:{mean:100,std:15,size:1e3},population2:{mean:110,std:15,size:1e3},sampleSize:30}),a(!1),T()},k=A=>{n&&t({samplePairs:n.samplePairs.filter(E=>E.id!==A),updatedAt:new Date})},$=A=>{if(!n)return;const E={id:`pair-${Date.now()}`,name:`${A.name} (Copy)`,population1:{...A.population1},population2:{...A.population2},sampleSize:A.sampleSize};t({samplePairs:[...n.samplePairs,E],updatedAt:new Date})},z=A=>{l(A.id),g({...A}),v(A.name),T()},q=()=>{l(null),g(null),v(""),T()},ve=()=>{if(!n||!m||!y.trim())return;const A=w(y,"editPair.name",{required:!0,maxLength:50}),E=p(m.population1.mean,"editPair.population1.mean",{finite:!0})&&p(m.population1.std,"editPair.population1.std",{positive:!0})&&p(m.population1.size,"editPair.population1.size",{integer:!0,min:10,max:1e4}),O=p(m.population2.mean,"editPair.population2.mean",{finite:!0})&&p(m.population2.std,"editPair.population2.std",{positive:!0})&&p(m.population2.size,"editPair.population2.size",{integer:!0,min:10,max:1e4}),re=p(m.sampleSize,"editPair.sampleSize",{integer:!0,min:5,max:1e3});if(!A||!E||!O||!re)return;const I=n.samplePairs.map(se=>se.id===m.id?{...m,name:y}:se);t({samplePairs:I,updatedAt:new Date}),q()},M=A=>{u(A),w(A,"newPair.name",{required:!0,maxLength:50})},ee=A=>{const E=parseFloat(A)||0;h(O=>({...O,population1:{...O.population1,mean:E}})),p(E,"newPair.population1.mean",{finite:!0})},be=A=>{const E=parseFloat(A)||1;h(O=>({...O,population1:{...O.population1,std:E}})),p(E,"newPair.population1.std",{positive:!0})},Y=A=>{const E=parseFloat(A)||0;h(O=>({...O,population2:{...O.population2,mean:E}})),p(E,"newPair.population2.mean",{finite:!0})},ie=A=>{const E=parseFloat(A)||1;h(O=>({...O,population2:{...O.population2,std:E}})),p(E,"newPair.population2.std",{positive:!0})},Ne=A=>{const E=parseInt(A)||30;h(O=>({...O,sampleSize:E})),p(E,"newPair.sampleSize",{integer:!0,min:5,max:1e3})},Me=A=>{v(A),w(A,"editPair.name",{required:!0,maxLength:50})},yt=A=>{if(!m)return;const E=parseFloat(A)||0;g(O=>({...O,population1:{...O.population1,mean:E}})),p(E,"editPair.population1.mean",{finite:!0})},Mt=A=>{if(!m)return;const E=parseFloat(A)||1;g(O=>({...O,population1:{...O.population1,std:E}})),p(E,"editPair.population1.std",{positive:!0})},D=A=>{if(!m)return;const E=parseFloat(A)||0;g(O=>({...O,population2:{...O.population2,mean:E}})),p(E,"editPair.population2.mean",{finite:!0})},W=A=>{if(!m)return;const E=parseFloat(A)||1;g(O=>({...O,population2:{...O.population2,std:E}})),p(E,"editPair.population2.std",{positive:!0})},Z=A=>{if(!m)return;const E=parseInt(A)||30;g(O=>({...O,sampleSize:E})),p(E,"editPair.sampleSize",{integer:!0,min:5,max:1e3})},F=x.useMemo(()=>S(f.population1.mean,f.population2.mean,f.population1.std,f.population2.std,"newPair"),[f.population1.mean,f.population2.mean,f.population1.std,f.population2.std,S]),L=()=>n?d.jsxs("div",{className:"p-2 space-y-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h3",{className:"text-xs text-sidebar-foreground",children:["Sample Pairs (",n.samplePairs.length,")"]}),d.jsxs(fe,{size:"sm",onClick:()=>a(!0),disabled:r||o!==null,className:"text-[10px] px-1.5 py-0.5",children:[d.jsx(ti,{className:"h-2.5 w-2.5 mr-1"}),"Add"]})]}),n.samplePairs.length===0&&d.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[d.jsx(et,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),d.jsx("p",{className:"text-xs",children:"No sample pairs configured"}),d.jsx("p",{className:"text-[10px] mt-1",children:"Add your first sample pair to get started"})]}),n.samplePairs.map(A=>{const E=o===A.id,O=E?m:A,re=(O.population2.mean-O.population1.mean)/Math.sqrt((O.population1.std**2+O.population2.std**2)/2);return d.jsx(We,{className:"p-2 bg-sidebar-accent border-border",children:E?d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h4",{className:"text-xs text-sidebar-foreground",children:"Editing Sample Pair"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:ve,disabled:C.hasErrors||!y.trim(),className:"p-1 hover:bg-green-700 rounded text-green-400 hover:text-green-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Save changes",children:d.jsx(Nd,{className:"h-3 w-3"})}),d.jsx("button",{onClick:q,className:"p-1 hover:bg-zinc-700 rounded text-zinc-400 hover:text-zinc-300",title:"Cancel editing",children:d.jsx(kd,{className:"h-3 w-3"})})]})]}),d.jsx(ke,{label:"Pair Name",value:y,onChange:I=>Me(I.target.value),className:"text-xs",error:b("editPair.name")}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs text-zinc-400",children:"Population 1"}),d.jsx(ke,{label:"Mean",type:"number",value:O.population1.mean,onChange:I=>yt(I.target.value),className:"text-xs",error:b("editPair.population1.mean")}),d.jsx(ke,{label:"Std Dev",type:"number",value:O.population1.std,onChange:I=>Mt(I.target.value),className:"text-xs",error:b("editPair.population1.std")})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs text-zinc-400",children:"Population 2"}),d.jsx(ke,{label:"Mean",type:"number",value:O.population2.mean,onChange:I=>D(I.target.value),className:"text-xs",error:b("editPair.population2.mean")}),d.jsx(ke,{label:"Std Dev",type:"number",value:O.population2.std,onChange:I=>W(I.target.value),className:"text-xs",error:b("editPair.population2.std")})]})]}),d.jsx(ke,{label:"Sample Size (n)",type:"number",value:O.sampleSize,onChange:I=>Z(I.target.value),className:"text-xs",error:b("editPair.sampleSize")}),d.jsx("div",{className:"bg-sidebar p-2 rounded border border-border",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Effect Size (Cohen's d):"}),d.jsx("span",{className:`text-xs ${Math.abs(re)<.2?"text-muted-foreground":(Math.abs(re)<.5||Math.abs(re)<.8,"text-sidebar-foreground")}`,children:re.toFixed(3)})]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h4",{className:"text-xs text-sidebar-foreground truncate",children:A.name}),d.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Sample size: n = ",A.sampleSize]})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>z(A),disabled:r||o!==null,className:"p-0.5 hover:bg-sidebar rounded text-muted-foreground hover:text-sidebar-foreground disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit pair",children:d.jsx(ng,{className:"h-2.5 w-2.5"})}),d.jsx("button",{onClick:()=>$(A),disabled:r||o!==null,className:"p-0.5 hover:bg-sidebar rounded text-muted-foreground hover:text-sidebar-foreground disabled:opacity-50 disabled:cursor-not-allowed",title:"Duplicate pair",children:d.jsx(sg,{className:"h-2.5 w-2.5"})}),d.jsx("button",{onClick:()=>k(A.id),disabled:r||o!==null,className:"p-0.5 hover:bg-sidebar rounded text-muted-foreground hover:text-destructive disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove pair",children:d.jsx(ol,{className:"h-2.5 w-2.5"})})]})]}),d.jsxs("div",{className:"space-y-1 text-[10px]",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[d.jsxs("div",{className:"bg-sidebar p-1.5 rounded border border-border",children:[d.jsx("div",{className:"text-muted-foreground mb-0.5",children:"Population 1"}),d.jsxs("div",{className:"text-sidebar-foreground",children:["μ = ",A.population1.mean]}),d.jsxs("div",{className:"text-sidebar-foreground",children:["σ = ",A.population1.std]})]}),d.jsxs("div",{className:"bg-sidebar p-1.5 rounded border border-border",children:[d.jsx("div",{className:"text-muted-foreground mb-0.5",children:"Population 2"}),d.jsxs("div",{className:"text-sidebar-foreground",children:["μ = ",A.population2.mean]}),d.jsxs("div",{className:"text-sidebar-foreground",children:["σ = ",A.population2.std]})]})]}),d.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[d.jsx("span",{className:"text-[10px]",children:"Effect size (d):"}),d.jsx("span",{className:`text-[10px] ${Math.abs(re)<.2?"text-muted-foreground":(Math.abs(re)<.5||Math.abs(re)<.8,"text-sidebar-foreground")}`,children:re.toFixed(3)})]})]})]})},A.id)})]}),r&&d.jsxs(We,{className:"p-2 bg-sidebar-accent border-border",children:[d.jsx("h4",{className:"text-xs text-sidebar-foreground mb-2",children:"Add Sample Pair"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(ke,{label:"Pair Name",value:c,onChange:A=>M(A.target.value),placeholder:"e.g., Large Effect Test",className:"text-xs",error:b("newPair.name")}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs text-zinc-400",children:"Population 1"}),d.jsx(ke,{label:"Mean",type:"number",value:f.population1.mean,onChange:A=>ee(A.target.value),className:"text-xs",error:b("newPair.population1.mean")}),d.jsx(ke,{label:"Std Dev",type:"number",value:f.population1.std,onChange:A=>be(A.target.value),className:"text-xs",error:b("newPair.population1.std")})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs text-zinc-400",children:"Population 2"}),d.jsx(ke,{label:"Mean",type:"number",value:f.population2.mean,onChange:A=>Y(A.target.value),className:"text-xs",error:b("newPair.population2.mean")}),d.jsx(ke,{label:"Std Dev",type:"number",value:f.population2.std,onChange:A=>ie(A.target.value),className:"text-xs",error:b("newPair.population2.std")})]})]}),d.jsx(ke,{label:"Sample Size (n)",type:"number",value:f.sampleSize,onChange:A=>Ne(A.target.value),className:"text-xs",error:b("newPair.sampleSize")}),d.jsxs("div",{className:"bg-sidebar p-2 rounded border border-border",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Effect Size (Cohen's d):"}),d.jsx("span",{className:`text-xs ${Math.abs(F)<.2?"text-muted-foreground":(Math.abs(F)<.5||Math.abs(F)<.8,"text-sidebar-foreground")}`,children:F.toFixed(3)})]}),P("newPair.effectSize")&&d.jsxs("div",{className:"text-[10px] text-destructive mt-0.5",children:["⚠️ ",P("newPair.effectSize")]}),d.jsx("div",{className:"text-[10px] text-muted-foreground mt-0.5",children:Math.abs(F)<.2?"Small effect":Math.abs(F)<.5?"Small-Medium effect":Math.abs(F)<.8?"Medium-Large effect":"Large effect"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(fe,{onClick:j,disabled:!c.trim()||C.hasErrors,size:"sm",className:"flex-1 text-xs",children:"Add Pair"}),d.jsx(fe,{onClick:()=>{a(!1),T()},variant:"secondary",size:"sm",className:"flex-1 text-xs",children:"Cancel"})]})]})]})]}):d.jsxs("div",{className:"p-3 text-center text-muted-foreground",children:[d.jsx(et,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-xs",children:"No active simulation"}),d.jsx("p",{className:"text-[10px] mt-1",children:"Create or load a simulation to configure sample pairs"})]}),K=()=>{if(!n)return d.jsx("div",{className:"p-4 text-center text-zinc-400",children:d.jsx("p",{className:"text-sm",children:"No configuration loaded"})});const A=I=>{const se=parseInt(I)||1e3;t({simulationCount:se,updatedAt:new Date}),p(se,"settings.simulationCount",{integer:!0,min:100,max:1e4})},E=I=>{const se=parseFloat(I)||.95;t({confidenceLevel:se,updatedAt:new Date}),p(se,"settings.confidenceLevel",{min:.01,max:.999})},O=()=>{n.significanceThresholds.includes(.05)||t({significanceThresholds:[...n.significanceThresholds,.05].sort((se,ct)=>ct-se),updatedAt:new Date})},re=I=>{n.significanceThresholds.length>1&&t({significanceThresholds:n.significanceThresholds.filter(se=>se!==I),updatedAt:new Date})};return d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsx("h3",{className:"text-sm font-medium text-zinc-100 mb-3",children:"Simulation Parameters"}),d.jsx("div",{className:"space-y-2",children:d.jsx(ke,{label:"Number of Simulations",type:"number",value:n.simulationCount,onChange:I=>A(I.target.value),className:"text-xs",error:b("settings.simulationCount"),helperText:"Range: 100 - 10,000 simulations"})}),d.jsx("div",{className:"space-y-2",children:d.jsx(ke,{label:"Confidence Level",type:"number",step:"0.01",min:"0.01",max:"0.999",value:n.confidenceLevel,onChange:I=>E(I.target.value),className:"text-xs",error:b("settings.confidenceLevel"),helperText:`${(n.confidenceLevel*100).toFixed(0)}% confidence intervals`})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-xs font-medium text-zinc-300",children:"Significance Levels (α)"}),d.jsx(fe,{onClick:O,size:"sm",variant:"ghost",className:"text-xs p-1 h-6",children:d.jsx(ti,{className:"h-3 w-3"})})]}),d.jsx("div",{className:"space-y-2",children:n.significanceThresholds.map((I,se)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ke,{type:"number",step:"0.001",min:"0.001",max:"1",value:I,onChange:ct=>{const Qt=parseFloat(ct.target.value)||I,en=[...n.significanceThresholds];en[se]=Qt,t({significanceThresholds:en.sort((Ce,Es)=>Es-Ce),updatedAt:new Date})},className:"text-xs flex-1"}),d.jsx("button",{onClick:()=>re(I),disabled:n.significanceThresholds.length<=1,className:"p-1 hover:bg-zinc-700 rounded text-zinc-400 hover:text-red-400 disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove threshold",children:d.jsx(ol,{className:"h-3 w-3"})})]},se))}),d.jsx("p",{className:"text-xs text-zinc-500",children:"Statistical power will be calculated for each significance level"})]}),d.jsxs("div",{className:"bg-zinc-800 p-3 rounded border border-zinc-600",children:[d.jsx("h4",{className:"text-xs font-medium text-zinc-300 mb-2",children:"Statistical Tests"}),d.jsxs("div",{className:"space-y-1 text-xs text-zinc-400",children:[d.jsx("div",{children:"✓ Welch's t-test (unequal variances)"}),d.jsx("div",{children:"✓ Cohen's d effect size"}),d.jsx("div",{children:"✓ Confidence intervals"}),d.jsx("div",{children:"✓ Statistical power analysis"}),d.jsx("div",{children:"✓ Shannon information (S-values)"})]})]}),C.hasErrors&&d.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-3",children:[d.jsx("h4",{className:"text-xs font-medium text-red-400 mb-2",children:"Validation Errors"}),d.jsx("div",{className:"space-y-1",children:Object.entries(C.errors).map(([I,se])=>d.jsxs("div",{className:"text-xs text-red-400",children:["• ",se]},I))})]})]})};return d.jsxs("div",{className:"h-full flex flex-col bg-sidebar border-l border-border",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border",children:[d.jsx("h2",{className:"text-sidebar-foreground text-sm",children:"Configuration"}),d.jsx("button",{onClick:e,className:"h-7 w-7 p-0 flex items-center justify-center rounded hover:bg-sidebar-accent transition-colors text-sidebar-foreground",children:d.jsx("span",{className:"text-xs",children:"→"})})]}),d.jsx("div",{className:"border-b border-border",children:d.jsx("div",{className:"flex",children:[{id:"pairs",label:"Sample Pairs",icon:et},{id:"settings",label:"Parameters",icon:_d},{id:"visualization",label:"Charts",icon:et}].map(A=>d.jsxs("button",{onClick:()=>i(A.id),className:`flex items-center gap-1 px-2 py-1.5 text-xs transition-colors ${s===A.id?"border-b-2 border-sidebar-foreground text-sidebar-foreground bg-sidebar-accent":"text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent/50"}`,children:[d.jsx(A.icon,{className:"h-3 w-3"}),A.label]},A.id))})}),d.jsxs("div",{className:"flex-1 overflow-auto",children:[s==="pairs"&&L(),s==="settings"&&K(),s==="visualization"&&d.jsx(BC,{className:"px-3"})]})]})},WC=()=>{const e=tt(i=>i.leftSidebarOpen),t=tt(i=>i.rightSidebarOpen),n=tt(i=>i.toggleLeftSidebar),s=tt(i=>i.toggleRightSidebar);return d.jsxs("div",{className:"h-screen bg-background text-foreground overflow-hidden relative",children:[!e&&d.jsx(fe,{variant:"ghost",size:"sm",onClick:n,className:"absolute top-4 left-4 z-50 h-10 w-10 p-0 bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 shadow-lg",title:"Show Analysis Explorer",children:d.jsx(ig,{className:"h-5 w-5 text-zinc-200"})}),!t&&d.jsx(fe,{variant:"ghost",size:"sm",onClick:s,className:"absolute top-4 right-4 z-50 h-10 w-10 p-0 bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 shadow-lg",title:"Show Tools Panel",children:d.jsx(rg,{className:"h-5 w-5 text-zinc-200"})}),d.jsxs(of,{direction:"horizontal",className:"h-full",children:[e&&d.jsxs(d.Fragment,{children:[d.jsx(Gs,{id:"left-sidebar",order:1,defaultSize:16,minSize:12,maxSize:25,className:"min-w-0",collapsible:!1,children:d.jsx(e1,{})}),d.jsx(Pr,{withHandle:!0,className:"w-1 bg-zinc-700 hover:bg-zinc-600 transition-colors"})]}),d.jsx(Gs,{id:"central-workspace",order:2,defaultSize:e&&t?60:t?76:e?84:100,minSize:40,className:"min-w-0",children:d.jsx(OC,{})}),t&&d.jsxs(d.Fragment,{children:[d.jsx(Pr,{withHandle:!0,className:"w-1 bg-zinc-700 hover:bg-zinc-600 transition-colors"}),d.jsx(Gs,{id:"right-sidebar",order:3,defaultSize:24,minSize:20,maxSize:35,className:"min-w-0",collapsible:!1,children:d.jsx(UC,{})})]})]})]})},HC=()=>{const{theme:e,initializeTheme:t}=tt();return x.useEffect(()=>{t()},[t]),x.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),{theme:e}};function GC(){return HC(),d.jsx(WC,{})}document.documentElement.classList.add("dark");cg.createRoot(document.getElementById("root")).render(d.jsx(x.StrictMode,{children:d.jsx(GC,{})}));export{ut as i};
//# sourceMappingURL=index-CNNaOtIm.js.map
